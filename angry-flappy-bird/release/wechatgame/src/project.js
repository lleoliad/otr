window.__require=function t(e,o,n){function r(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+s+"'")}}var p=o[s]={exports:{}};e[s][0].call(p.exports,function(t){return r(e[s][1][t]||t)},p,p.exports,t,e,o,n)}return o[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<n.length;s++)r(n[s]);return r}({AnimationEventListener:[function(t,e,o){"use strict";cc._RF.push(e,"2acb7qELkZOBoqpIunirRie","AnimationEventListener");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.root=null,e.script="",e}return n(e,t),e.prototype.listener=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t&&t.length){var o=t.shift();if(this.root){var n=this.root.getComponent(this.script||this.root.name);if(n){var r=n[o];if(r)return void r.apply(n,this,o,Array.prototype.slice.call(t))}}else i.GhysX.handler.emit(this.script,this,o,Array.prototype.slice.call(t))}},e.prototype.start=function(){},r([a({type:cc.Node,displayName:"\u52a8\u753b\u6839\u8282\u70b9",tooltip:""})],e.prototype,"root",void 0),r([a({displayName:"\u811a\u672c",tooltip:""})],e.prototype,"script",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../GhysX":"GhysX"}],Array:[function(t,e,o){"use strict";function n(t,e){var o="",n=!1;for(var r in t)n?o+=e:n=!0,o+=t[r];return o}cc._RF.push(e,"2453cL4nrJCqqh/r7fKRa3k","Array"),Object.defineProperty(o,"__esModule",{value:!0}),o.count=function(t){var e=0;return t&&(e=Array.isArray(t)?t.length:Object.keys(t).length),e},o.contain=function(t,e,o){for(var n in t)if((!o||n===o)&&t[n]===e)return!0;return!1},o.remove=function(t,e){for(var o in t){var n=t[o];if(n===e)return Array.isArray(t)&&t.length?t.splice(o,1):delete t[o],n}return null},o.clear=function(t){return t&&(t.length=0),t},o.clone=function t(e,o){if(void 0===o||null===o)if("[object Array]"===Object.prototype.toString.call(e))o=[];else{if("object"!=typeof e)return o=e;o={}}for(var n in e){var r=e[n];r&&"object"==typeof r&&(r=t(r)),o[n]=r}return o},o.copy=function(t,e){for(var o in e=e||new Array,t){var n=t[o];null==n&&void 0==n||e.push(n)}return e},o.merge=function(t,e){for(var o in e=e||[],t){var n=t[o];e[o]=n}return e},o.concat=n,o.concats=function(t,e,o){var r="",i=!1;for(var s in t){var c=n(t[s],o);c&&(i?r+=e:i=!0,r+=c)}return r},o.serialize=function(t,e,o){var n=[];for(var r in t){var i=t[r];if(i)if(e){var s=i[e];void 0!==s&&null!==s&&(n[s]=i)}else n[i]=void 0!==o&&null!==o?o:i}return n},o.search_value=function(t,e,o){if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n],s=i[e];if(s&&s===o)return i}return null},o.search=function(t,e){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];var r=new Array,i=t;(o=o||[]).unshift(e);for(var s=0,c=o;s<c.length;s++){var a=c[s];for(var l in i||(i=r,r=new Array),i){var p=i[l];for(var u in a){var d=a[u];p[d.key]===d.value&&r.push(p)}}i=null}return r},o.group=function(t,e){var o=new Array;for(var n in t){var r=t[n];if(r)for(var i in e){var s=e[i],c=r[s.gkey];if(c){var a=o[c];a||(a=[],o[c]=a);var l=null;s.ekey&&(l=r[s.ekey]),void 0!==l&&null!==l?a[l]=r:a.push(r)}}}return o},cc._RF.pop()},{}],Assets:[function(t,e,o){"use strict";cc._RF.push(e,"e7547920XxM+K68BSV/qLPw","Assets"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./../common/utils/Unit");(function(t){t.handler=null;function e(e,o){e||(t.data=o)}t.data=null,t.Version||(t.Version={}),t.initialize=function(o){t.handler=o.handler;var r=null;cc.sys.platform,cc.sys.WECHAT_GAME,r="data/assets?v="+n.random(1,1e6),cc.loader.loadRes(r,cc.JsonAsset,function(t,o){t||e(t,o.json)}.bind(this))}})(o.Assets||(o.Assets={})),cc._RF.pop()},{"./../common/utils/Unit":"Unit"}],Audio:[function(t,e,o){"use strict";cc._RF.push(e,"941dalkb6JMr5ZfNMLnYBcq","Audio"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=(n.ccclass,n.property,t("./Storage"));(function(t){var e=1,o=1,n=1,i=null,s={};function c(t,o){if(i={url:t,loop:o},1==e&&1==n){var r={url:t,audioId:-1,type:"music"};s[t]=r;var c=cc.loader.getRes(r.url);c?r.audioId=cc.audioEngine.playMusic(c,o):cc.loader.loadRes(r.url,cc.AudioClip,function(t,e){t||1==n&&(r.audioId=cc.audioEngine.playMusic(e,o))})}}function a(t){if(!t)for(var e in s){var o=s[e];"music"===o.type&&(t=o.url)}cc.audioEngine.stopMusic(),p(t)}function l(t){var e=s[t];e&&(cc.audioEngine.stopEffect(e.audioId),e.audioId=-1),p(t)}function p(t){if(t){var e=s[t];e&&(cc.audioEngine.uncache(e.url),delete s[t])}}t.setState=function(t){t instanceof Number&&(t=t)},t.getState=function(){return e},t.isOpen=function(){return 1===e},t.effectIsOpen=function(){return 1===o},t.musicIsOpen=function(){return 1===n},t.stop=function(){l(),a(),e=-1,r.write("audio_state",e)},t.open=function(){e=1,r.write("audio_state",e)},t.effectOn=function(){o=1,r.write("effect_state",o)},t.effectOff=function(){o=-1,r.write("effect_state",o)},t.musicOn=function(){i&&c(i.url,i.loop),n=1,r.write("music_state",n)},t.musicOff=function(){a(),n=-1,r.write("music_state",n)},t.playMusic=c,t.stopMusic=a,t.playEffect=function(t,n){if(1==e&&1==o){var r={url:t,audioId:-1,type:"effect"};s[t]=r;var i=cc.loader.getRes(r.url);i?r.audioId=cc.audioEngine.playEffect(i,n):cc.loader.loadRes(r.url,cc.AudioClip,function(t,e){t||(r.audioId=cc.audioEngine.playEffect(e,n))})}},t.stopEffect=l,t.uncache=p,t.initialize=function(){e=parseInt(r.read("audio_state","1")),o=parseInt(r.read("effect_state","1")),n=parseInt(r.read("music_state","1"))}})(o.Audio||(o.Audio={})),cc._RF.pop()},{"./Storage":"Storage"}],Base64:[function(t,e,o){"use strict";cc._RF.push(e,"ae5eeKF+41L3IQ9Xd7FJKEJ","Base64"),e.exports=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(e){var o,n,r,i,s,c,a,l="",p=0;for(e=this._utf8_encode(e);p<e.length;)i=(o=e.charCodeAt(p++))>>2,s=(3&o)<<4|(n=e.charCodeAt(p++))>>4,c=(15&n)<<2|(r=e.charCodeAt(p++))>>6,a=63&r,isNaN(n)?c=a=64:isNaN(r)&&(a=64),l=l+t.charAt(i)+t.charAt(s)+t.charAt(c)+t.charAt(a);return l},this.decode=function(e){var o,n,r,i,s,c,a="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)o=t.indexOf(e.charAt(l++))<<2|(i=t.indexOf(e.charAt(l++)))>>4,n=(15&i)<<4|(s=t.indexOf(e.charAt(l++)))>>2,r=(3&s)<<6|(c=t.indexOf(e.charAt(l++))),a+=String.fromCharCode(o),64!=s&&(a+=String.fromCharCode(n)),64!=c&&(a+=String.fromCharCode(r));return a=this._utf8_decode(a)},this._utf8_encode=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",o=0;o<t.length;o++){var n=t.charCodeAt(o);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e},this._utf8_decode=function(t){for(var e="",o=0,n=c1=c2=0;o<t.length;)(n=t.charCodeAt(o))<128?(e+=String.fromCharCode(n),o++):n>191&&n<224?(c2=t.charCodeAt(o+1),e+=String.fromCharCode((31&n)<<6|63&c2),o+=2):(c2=t.charCodeAt(o+1),c3=t.charCodeAt(o+2),e+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3),o+=3);return e}},cc._RF.pop()},{}],Binder:[function(t,e,o){"use strict";cc._RF.push(e,"1e863fLKPxEuKFZ/p9f4LUU","Binder");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.prefabPath="",e.root=null,e.auto=!1,e.data="",e.dataSource=null,e.customName="default",e._over=!1,e._target=null,e._target_class=null,e}return n(e,t),e.prototype.load=function(){if(!this._over)if(this.prefab){this._over=!0,cc.log("binder instantiate:",this.prefab.name);var t=cc.instantiate(this.prefab),e=t.getComponent(this.prefab.name);e.initBinder&&e.initBinder({root:this.root,data:this.data,data_source:this.dataSource}),this.node.addChild(t),this._target=t,this._target_class=e}else this.prefabPath&&(cc.log("binder load:",this.prefabPath),i.GhysX.loader.load(this.prefabPath,cc.Prefab,null,this.node,cc.Node,function(t,e){this.prefab=e,this.load()}.bind(this)))},e.prototype.onLoad=function(){this.auto&&this.load()},e.prototype.start=function(){},r([a({type:cc.Prefab,displayName:"\u9884\u5236\u4f53",tooltip:""})],e.prototype,"prefab",void 0),r([a({displayName:"\u9884\u5236\u4f53\u8def\u5f84",tooltip:""})],e.prototype,"prefabPath",void 0),r([a({type:cc.Component,displayName:"\u7a97\u53e3",tooltip:"\u7a97\u53e3\u6839\u8282\u70b9"})],e.prototype,"root",void 0),r([a({displayName:"\u81ea\u52a8\u52a0\u8f7d",tooltip:"\u81ea\u52a8\u52a0\u8f7d"})],e.prototype,"auto",void 0),r([a({displayName:"\u53c2\u6570",tooltip:"JSON/TEXT"})],e.prototype,"data",void 0),r([a({type:cc.Component,displayName:"\u6570\u636e\u6e90",tooltip:""})],e.prototype,"dataSource",void 0),r([a({displayName:"\u81ea\u5b9a\u4e49\u540d\u79f0",tooltip:"JSON/TEXT"})],e.prototype,"customName",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../GhysX":"GhysX"}],Clocker:[function(t,e,o){"use strict";cc._RF.push(e,"1bcd623ODxNNqIptsI4isNz","Clocker");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=cc.Enum({NONE:0,HHMMSS:1,SS:2,Hour:3}),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text=null,e.content="%s",e.style='{"hour":":","minute":":","second":""}',e.displayMode=l.HHMMSS,e.weekInfos=[],e._duration=5,e._elapsed=0,e._running=!1,e}return n(e,t),e.prototype.updateDrawTimer=function(){if(this.text&&this.text.enabled){var t=null;switch(this._duration<0&&(this._duration=0),this.displayMode){case l.HHMMSS:var e=Math.floor(1e3*this._duration);i.GhysX.os.time.formatTime(e,this.style);break;case l.SS:t=this._duration;break;case l.Hour:t=i.GhysX.os.time.getHour(1e3*this._duration)}this.text.string="".format(this.content,t)}},e.prototype.onLoad=function(){var t=new Date(i.GhysX.os.time.sstime()),e=t.getTime()+6e4*t.getTimezoneOffset()+36e5*i.GhysX.db.user.time_zone;this._elapsed=i.GhysX.db.user.server_date.millisecond/1e3,this._duration=(e-i.GhysX.db.user.server_date.millisecond)/1e3,this.style&&"string"==typeof this.style&&(this.style=JSON.parse(this.style)),this.text||(this.text=this.node.getComponent(cc.Label)),this.text&&(this.content||(this.content=this.text.string),this.style||(this.style={hour:":",minute:":",second:""}),this.updateDrawTimer()),this._running=!0},e.prototype.start=function(){},e.prototype.update=function(t){this._running&&(this._elapsed=this._elapsed+t,this._elapsed>=1&&(this._duration=this._duration+1,this.updateDrawTimer(),this._elapsed-=1))},r([a({type:cc.Label,displayName:"\u6587\u672c\u5bf9\u8c61",tooltip:"\u5b9a\u65f6\u5668cc.Label\u8282\u70b9;\n\u9ed8\u8ba4\u4e3a\u5f53\u524d\u8282\u70b9\u7684 cc.Label;"})],e.prototype,"text",void 0),r([a({displayName:"\u5185\u5bb9",tooltip:"\u5185\u5bb9:\n\u9ed8\u8ba4%s,\u5982\u6709\u5176\u4ed6\u663e\u793a\u9700\u6c42\uff0c\u6dfb\u52a0\u4ee5%s\u7684\u7ec4\u5408\u6587\u4ef6\uff1a\u4f8b\u5982\uff1a%s\u79d2\u540e"})],e.prototype,"content",void 0),r([a({displayName:"\u6837\u5f0f",tooltip:'\u5448\u73b0\u6837\u5f0f:\n\u9ed8\u8ba4HH:MM:SS\u7684\u6837\u5f0f{"hour":":","minute":":","second":""}; \n\u5982\u9700\u8981\u914d\u7f6e\u6837\u5f0f\uff0c\u5185\u5bb9\u4e3a:{"year":"\u5e74","month":"\u6708","day":"\u5929","hour":"\u5c0f\u65f6","minute":"\u5206\u949f","second":"\u79d2",}'})],e.prototype,"style",void 0),r([a({type:l,displayName:"\u663e\u793a\u6a21\u5f0f",tooltip:"\u663e\u793a\u6a21\u5f0f:\n0.NONE:\u4e0d\u663e\u793a;\n1.HHMMSS:\u5c0f\u65f6:\u5206\u949f:\u79d2\u949f;\n1.SS:\u79d2\u949f,Hour:\u5c0f\u65f6;"})],e.prototype,"displayMode",void 0),r([a({type:cc.String,displayName:"\u661f\u671f",tooltip:""})],e.prototype,"weekInfos",void 0),r([a({visible:!1})],e.prototype,"_duration",void 0),r([a({visible:!1})],e.prototype,"_elapsed",void 0),r([a({visible:!1})],e.prototype,"_running",void 0),e=r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../GhysX":"GhysX"}],Closer:[function(t,e,o){"use strict";cc._RF.push(e,"94038UJUahF/pUGl0ojp5rX","Closer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.root=null,e.window_name="",e.data="",e.dataSource=null,e.completedEvent="",e}return n(e,t),e.prototype.onClick=function(t,e){var o=null,n=null;if((this.dataSource&&(n=(o=this.dataSource)["check_"+this.node.name]),!n&&this.window_name&&(o=i.GhysX.graphics.manager.find(this.window_name))&&(n=o["check_"+this.node.name]),n)&&!n.call(o,t,{target:this}))return;this.completedEvent&&i.GhysX.handler.emit(this.completedEvent,{data:this.data,data_source:this.dataSource}),this.root?this.root.node.destroy():this.window_name?i.GhysX.graphics.manager.close(this.window_name):this.node.destroy()},e.prototype.onLoad=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Closer",t.handler="onClick",t.customEventData="";var e=this.node.getComponent(cc.Button);e||(e=this.node.addComponent(cc.Button)),e.clickEvents.push(t)},e.prototype.start=function(){},r([a({type:cc.Component,displayName:"\u6839\u7ec4\u4ef6",tooltip:""})],e.prototype,"root",void 0),r([a({displayName:"\u7a97\u53e3\u540d",tooltip:"TEXT"})],e.prototype,"window_name",void 0),r([a({displayName:"\u53c2\u6570",tooltip:"JSON/TEXT"})],e.prototype,"data",void 0),r([a({type:cc.Component,displayName:"\u6570\u636e\u6e90",tooltip:""})],e.prototype,"dataSource",void 0),r([a({displayName:"\u7ed3\u675f\u4e8b\u4ef6",tooltip:"JSON/TEXT"})],e.prototype,"completedEvent",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../GhysX":"GhysX"}],CollisionManager:[function(t,e,o){"use strict";cc._RF.push(e,"830deyS1FNO1bmmwTEwQhdC","CollisionManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.openCollisionManager=!1,e.openDebugDraw=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=cc.director.getCollisionManager();t.enabled=this.openCollisionManager,t.enabledDebugDraw=this.openDebugDraw},e.prototype.start=function(){},r([c({tooltip:"\u78b0\u649e\u68c0\u6d4b\u5668"})],e.prototype,"openCollisionManager",void 0),r([c({tooltip:"\u78b0\u649e\u68c0\u6d4b\u5668\u8c03\u8bd5"})],e.prototype,"openDebugDraw",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],CryptoJS:[function(t,e,o){"use strict";cc._RF.push(e,"737e8+bH9xNIqEOW8nml+Cl","CryptoJS");var n=n||function(t,e){var o={},n=o.lib={},r=function(){},i=n.Base={extend:function(t){r.prototype=this;var e=new r;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=n.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,o=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var r=0;r<t;r++)e[n+r>>>2]|=(o[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else if(65535<o.length)for(r=0;r<t;r+=4)e[n+r>>>2]=o[r>>>2];else e.push.apply(e,o);return this.sigBytes+=t,this},clamp:function(){var e=this.words,o=this.sigBytes;e[o>>>2]&=4294967295<<32-o%4*8,e.length=t.ceil(o/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var o=[],n=0;n<e;n+=4)o.push(4294967296*t.random()|0);return new s.init(o,e)}}),c=o.enc={},a=c.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var o=[],n=0;n<t;n++){var r=e[n>>>2]>>>24-n%4*8&255;o.push((r>>>4).toString(16)),o.push((15&r).toString(16))}return o.join("")},parse:function(t){for(var e=t.length,o=[],n=0;n<e;n+=2)o[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new s.init(o,e/2)}},l=c.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var o=[],n=0;n<t;n++)o.push(String.fromCharCode(e[n>>>2]>>>24-n%4*8&255));return o.join("")},parse:function(t){for(var e=t.length,o=[],n=0;n<e;n++)o[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new s.init(o,e)}},p=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},u=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var o=this._data,n=o.words,r=o.sigBytes,i=this.blockSize,c=r/(4*i);if(e=(c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0))*i,r=t.min(4*e,r),e){for(var a=0;a<e;a+=i)this._doProcessBlock(n,a);a=n.splice(0,e),o.sigBytes-=r}return new s.init(a,r)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=u.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,o){return new t.init(o).finalize(e)}},_createHmacHelper:function(t){return function(e,o){return new d.HMAC.init(t,o).finalize(e)}}});var d=o.algo={};return o}(Math);(function(){var t=n,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,o=t.sigBytes,n=this._map;t.clamp(),t=[];for(var r=0;r<o;r+=3)for(var i=(e[r>>>2]>>>24-r%4*8&255)<<16|(e[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e[r+2>>>2]>>>24-(r+2)%4*8&255,s=0;4>s&&r+.75*s<o;s++)t.push(n.charAt(i>>>6*(3-s)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var o=t.length,n=this._map;(r=n.charAt(64))&&(-1!=(r=t.indexOf(r))&&(o=r));for(var r=[],i=0,s=0;s<o;s++)if(s%4){var c=n.indexOf(t.charAt(s-1))<<s%4*2,a=n.indexOf(t.charAt(s))>>>6-s%4*2;r[i>>>2]|=(c|a)<<24-i%4*8,i++}return e.create(r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),function(t){function e(t,e,o,n,r,i,s){return((t=t+(e&o|~e&n)+r+s)<<i|t>>>32-i)+e}function o(t,e,o,n,r,i,s){return((t=t+(e&n|o&~n)+r+s)<<i|t>>>32-i)+e}function r(t,e,o,n,r,i,s){return((t=t+(e^o^n)+r+s)<<i|t>>>32-i)+e}function i(t,e,o,n,r,i,s){return((t=t+(o^(e|~n))+r+s)<<i|t>>>32-i)+e}for(var s=n,c=(l=s.lib).WordArray,a=l.Hasher,l=s.algo,p=[],u=0;64>u;u++)p[u]=4294967296*t.abs(t.sin(u+1))|0;l=l.MD5=a.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,n){for(var s=0;16>s;s++){var c=t[u=n+s];t[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}s=this._hash.words;var a,l,u=t[n+0],d=(c=t[n+1],t[n+2]),f=t[n+3],h=t[n+4],_=t[n+5],y=t[n+6],g=t[n+7],m=t[n+8],v=t[n+9],b=t[n+10],w=t[n+11],O=t[n+12],G=t[n+13],x=t[n+14],X=t[n+15],k=s[0],P=i(P=i(P=i(P=i(P=r(P=r(P=r(P=r(P=o(P=o(P=o(P=o(P=e(P=e(P=e(P=e(P=s[1],l=e(l=s[2],a=e(a=s[3],k=e(k,P,l,a,u,7,p[0]),P,l,c,12,p[1]),k,P,d,17,p[2]),a,k,f,22,p[3]),l=e(l,a=e(a,k=e(k,P,l,a,h,7,p[4]),P,l,_,12,p[5]),k,P,y,17,p[6]),a,k,g,22,p[7]),l=e(l,a=e(a,k=e(k,P,l,a,m,7,p[8]),P,l,v,12,p[9]),k,P,b,17,p[10]),a,k,w,22,p[11]),l=e(l,a=e(a,k=e(k,P,l,a,O,7,p[12]),P,l,G,12,p[13]),k,P,x,17,p[14]),a,k,X,22,p[15]),l=o(l,a=o(a,k=o(k,P,l,a,c,5,p[16]),P,l,y,9,p[17]),k,P,w,14,p[18]),a,k,u,20,p[19]),l=o(l,a=o(a,k=o(k,P,l,a,_,5,p[20]),P,l,b,9,p[21]),k,P,X,14,p[22]),a,k,h,20,p[23]),l=o(l,a=o(a,k=o(k,P,l,a,v,5,p[24]),P,l,x,9,p[25]),k,P,f,14,p[26]),a,k,m,20,p[27]),l=o(l,a=o(a,k=o(k,P,l,a,G,5,p[28]),P,l,d,9,p[29]),k,P,g,14,p[30]),a,k,O,20,p[31]),l=r(l,a=r(a,k=r(k,P,l,a,_,4,p[32]),P,l,m,11,p[33]),k,P,w,16,p[34]),a,k,x,23,p[35]),l=r(l,a=r(a,k=r(k,P,l,a,c,4,p[36]),P,l,h,11,p[37]),k,P,g,16,p[38]),a,k,b,23,p[39]),l=r(l,a=r(a,k=r(k,P,l,a,G,4,p[40]),P,l,u,11,p[41]),k,P,f,16,p[42]),a,k,y,23,p[43]),l=r(l,a=r(a,k=r(k,P,l,a,v,4,p[44]),P,l,O,11,p[45]),k,P,X,16,p[46]),a,k,d,23,p[47]),l=i(l,a=i(a,k=i(k,P,l,a,u,6,p[48]),P,l,g,10,p[49]),k,P,x,15,p[50]),a,k,_,21,p[51]),l=i(l,a=i(a,k=i(k,P,l,a,O,6,p[52]),P,l,f,10,p[53]),k,P,b,15,p[54]),a,k,c,21,p[55]),l=i(l,a=i(a,k=i(k,P,l,a,m,6,p[56]),P,l,X,10,p[57]),k,P,y,15,p[58]),a,k,G,21,p[59]),l=i(l,a=i(a,k=i(k,P,l,a,h,6,p[60]),P,l,w,10,p[61]),k,P,d,15,p[62]),a,k,v,21,p[63]);s[0]=s[0]+k|0,s[1]=s[1]+P|0,s[2]=s[2]+l|0,s[3]=s[3]+a|0},_doFinalize:function(){var e=this._data,o=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;o[r>>>5]|=128<<24-r%32;var i=t.floor(n/4294967296);for(o[15+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),o[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(o.length+1),this._process(),o=(e=this._hash).words,n=0;4>n;n++)r=o[n],o[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),s.MD5=a._createHelper(l),s.HmacMD5=a._createHmacHelper(l)}(Math),function(){var t,e=n,o=(t=e.lib).Base,r=t.WordArray,i=(t=e.algo).EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var o=(c=this.cfg).hasher.create(),n=r.create(),i=n.words,s=c.keySize,c=c.iterations;i.length<s;){a&&o.update(a);var a=o.update(t).finalize(e);o.reset();for(var l=1;l<c;l++)a=o.finalize(a),o.reset();n.concat(a)}return n.sigBytes=4*s,n}});e.EvpKDF=function(t,e,o){return i.create(o).compute(t,e)}}(),n.lib.Cipher||function(t){var e=(h=n).lib,o=e.Base,r=e.WordArray,i=e.BufferedBlockAlgorithm,s=h.enc.Base64,c=h.algo.EvpKDF,a=e.Cipher=i.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,o){this.cfg=this.cfg.extend(o),this._xformMode=t,this._key=e,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,o,n){return("string"==typeof o?_:f).encrypt(t,e,o,n)},decrypt:function(e,o,n){return("string"==typeof o?_:f).decrypt(t,e,o,n)}}}});e.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=h.mode={},p=function(t,e,o){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var r=0;r<o;r++)t[e+r]^=n[r]},u=(e.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();u.Encryptor=u.extend({processBlock:function(t,e){var o=this._cipher,n=o.blockSize;p.call(this,t,e,n),o.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),u.Decryptor=u.extend({processBlock:function(t,e){var o=this._cipher,n=o.blockSize,r=t.slice(e,e+n);o.decryptBlock(t,e),p.call(this,t,e,n),this._prevBlock=r}}),l=l.CBC=u,u=(h.pad={}).Pkcs7={pad:function(t,e){for(var o,n=(o=(o=4*e)-t.sigBytes%o)<<24|o<<16|o<<8|o,i=[],s=0;s<o;s+=4)i.push(n);o=r.create(i,o),t.concat(o)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=a.extend({cfg:a.cfg.extend({mode:l,padding:u}),reset:function(){a.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var o=e.createEncryptor;else o=e.createDecryptor,this._minBufferSize=1;this._mode=o.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var d=e.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),f=(l=(h.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?r.create([1398893684,1701076831]).concat(t).concat(e):e).toString(s)},parse:function(t){var e=(t=s.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var o=r.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return d.create({ciphertext:t,salt:o})}},e.SerializableCipher=o.extend({cfg:o.extend({format:l}),encrypt:function(t,e,o,n){n=this.cfg.extend(n);var r=t.createEncryptor(o,n);return e=r.finalize(e),r=r.cfg,d.create({ciphertext:e,key:o,iv:r.iv,algorithm:t,mode:r.mode,padding:r.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,o,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(o,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),h=(h.kdf={}).OpenSSL={execute:function(t,e,o,n){return n||(n=r.random(8)),t=c.create({keySize:e+o}).compute(t,n),o=r.create(t.words.slice(e),4*o),t.sigBytes=4*e,d.create({key:t,iv:o,salt:n})}},_=e.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:h}),encrypt:function(t,e,o,n){return o=(n=this.cfg.extend(n)).kdf.execute(o,t.keySize,t.ivSize),n.iv=o.iv,(t=f.encrypt.call(this,t,e,o.key,n)).mixIn(o),t},decrypt:function(t,e,o,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),o=n.kdf.execute(o,t.keySize,t.ivSize,e.salt),n.iv=o.iv,f.decrypt.call(this,t,e,o.key,n)}})}(),function(){for(var t=n,e=t.lib.BlockCipher,o=t.algo,r=[],i=[],s=[],c=[],a=[],l=[],p=[],u=[],d=[],f=[],h=[],_=0;256>_;_++)h[_]=128>_?_<<1:_<<1^283;var y=0,g=0;for(_=0;256>_;_++){var m=(m=g^g<<1^g<<2^g<<3^g<<4)>>>8^255&m^99;r[y]=m,i[m]=y;var v=h[y],b=h[v],w=h[b],O=257*h[m]^16843008*m;s[y]=O<<24|O>>>8,c[y]=O<<16|O>>>16,a[y]=O<<8|O>>>24,l[y]=O,O=16843009*w^65537*b^257*v^16843008*y,p[m]=O<<24|O>>>8,u[m]=O<<16|O>>>16,d[m]=O<<8|O>>>24,f[m]=O,y?(y=v^h[h[h[w^v]]],g^=h[h[g]]):y=g=1}var G=[0,1,2,4,8,16,32,64,128,27,54];o=o.AES=e.extend({_doReset:function(){for(var t=(o=this._key).words,e=o.sigBytes/4,o=4*((this._nRounds=e+6)+1),n=this._keySchedule=[],i=0;i<o;i++)if(i<e)n[i]=t[i];else{var s=n[i-1];i%e?6<e&&4==i%e&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=r[(s=s<<8|s>>>24)>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=G[i/e|0]<<24),n[i]=n[i-e]^s}for(t=this._invKeySchedule=[],e=0;e<o;e++)i=o-e,s=e%4?n[i]:n[i-4],t[e]=4>e||4>=i?s:p[r[s>>>24]]^u[r[s>>>16&255]]^d[r[s>>>8&255]]^f[r[255&s]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,c,a,l,r)},decryptBlock:function(t,e){var o=t[e+1];t[e+1]=t[e+3],t[e+3]=o,this._doCryptBlock(t,e,this._invKeySchedule,p,u,d,f,i),o=t[e+1],t[e+1]=t[e+3],t[e+3]=o},_doCryptBlock:function(t,e,o,n,r,i,s,c){for(var a=this._nRounds,l=t[e]^o[0],p=t[e+1]^o[1],u=t[e+2]^o[2],d=t[e+3]^o[3],f=4,h=1;h<a;h++){var _=n[l>>>24]^r[p>>>16&255]^i[u>>>8&255]^s[255&d]^o[f++],y=n[p>>>24]^r[u>>>16&255]^i[d>>>8&255]^s[255&l]^o[f++],g=n[u>>>24]^r[d>>>16&255]^i[l>>>8&255]^s[255&p]^o[f++];d=n[d>>>24]^r[l>>>16&255]^i[p>>>8&255]^s[255&u]^o[f++],l=_,p=y,u=g}_=(c[l>>>24]<<24|c[p>>>16&255]<<16|c[u>>>8&255]<<8|c[255&d])^o[f++],y=(c[p>>>24]<<24|c[u>>>16&255]<<16|c[d>>>8&255]<<8|c[255&l])^o[f++],g=(c[u>>>24]<<24|c[d>>>16&255]<<16|c[l>>>8&255]<<8|c[255&p])^o[f++],d=(c[d>>>24]<<24|c[l>>>16&255]<<16|c[p>>>8&255]<<8|c[255&u])^o[f++],t[e]=_,t[e+1]=y,t[e+2]=g,t[e+3]=d},keySize:8});t.AES=e._createHelper(o)}(),n.pad.ZeroPadding={pad:function(t,e){var o=4*e;t.clamp(),t.sigBytes+=o-(t.sigBytes%o||o)},unpad:function(t){for(var e=t.words,o=t.sigBytes-1;!(e[o>>>2]>>>24-o%4*8&255);)o--;t.sigBytes=o+1}},e.exports=n,cc._RF.pop()},{}],Frame:[function(t,e,o){"use strict";cc._RF.push(e,"b1adca3T+tCmL0s5R8emjhZ","Frame");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../common/prefab/scene/scene"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scene=null,e.screen=null,e._start_position=null,e}return n(e,t),e.prototype.onLoad=function(){this.scene=this.node.getChildByName("scene").getComponent("scene"),this.screen=this.node.getChildByName("screen").getComponent("screen"),this.scene.node.height/this.scene.node.width>2&&(this.screen.node.height-=64),this._start_position=this.node.getPosition()},e.prototype.start=function(){},r([a({type:i.default,displayName:"\u573a\u666f",tooltip:"\u573a\u666f\u63a7\u5236\u5c42",visible:!1})],e.prototype,"scene",void 0),r([a({type:i.default,displayName:"\u4e3b\u5c4f",tooltip:"\u4e3b\u5c4f\u63a7\u5236\u5c42",visible:!1})],e.prototype,"screen",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../common/prefab/scene/scene":"scene"}],GUI:[function(t,e,o){"use strict";cc._RF.push(e,"95c86AeL2RCMLQKZuRBmLM6","GUI"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Frame"),r=t("./Resources");(function(t){t.initialize=function(e){return t.frame=cc.find("Canvas").addComponent(n.default),t.resources=cc.find("Canvas").getComponent(r.default),this},t.draw=function(){}})(o.GUI||(o.GUI={})),cc._RF.pop()},{"./Frame":"Frame","./Resources":"Resources"}],"GhysX.d.ts":[function(t,e,o){"use strict";cc._RF.push(e,"6add3Ltc6FJurYNbMvtXF8f","GhysX.d.ts"),cc._RF.pop()},{}],GhysX:[function(t,e,o){"use strict";cc._RF.push(e,"be2ad0QTqROV6lliyaRyo+W","GhysX"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=(n.ccclass,n.property,t("./core/Graphics")),i=t("./core/Shader"),s=t("./ui/GUI"),c=t("./common/utils/Unit"),a=t("./common/utils/Utils"),l=t("./common/utils/Array"),p=t("./common/utils/TextToJson"),u=t("./os/Assets"),d=t("./network/Network"),f=t("./os/System"),h=t("./ui/Loader"),_=t("./db/db"),y=t("./res/res"),g=t("../platform/Platform");(function(t){t.name="GhysX ",t.description="GhysX Engine.",t.handler=cc.systemEvent,t.gui=s.GUI,t.graphics=r,t.shader=i.shader,t.loader=new h.default,t.modules={array:l,unit:c,utils:a,t2j:p},t.network=d.Network,t.os=f.System,t.assets=u.Assets,t.db=_,t.res=y,t.local=null,t.platform=g,t.initialize=function(){t.os.initialize(t),t.gui.initialize(t),t.graphics.initialize(t),t.assets.initialize(t),t.platform.initialize(t)}})(o.GhysX||(o.GhysX={})),cc._RF.pop()},{"../platform/Platform":"Platform","./common/utils/Array":"Array","./common/utils/TextToJson":"TextToJson","./common/utils/Unit":"Unit","./common/utils/Utils":"Utils","./core/Graphics":"Graphics","./core/Shader":"Shader","./db/db":"db","./network/Network":"Network","./os/Assets":"Assets","./os/System":"System","./res/res":"res","./ui/GUI":"GUI","./ui/Loader":"Loader"}],Graphics:[function(t,e,o){"use strict";cc._RF.push(e,"1e5d3DguuVHPqK3dC9SQ6dV","Graphics"),Object.defineProperty(o,"__esModule",{value:!0});var n,r,i,s=t("../GhysX"),c=cc._decorator;c.ccclass,c.property;(function(t){function e(t,e){var n=o.manager.listener_events[t];if(n){var r=n[e];if(r){for(var i in r){var c=r[i];c.callback&&("function"==typeof c.callback?c.callback(c.params):s.GhysX.handler.emit(c.callback,c.params))}r.length=0,delete n[e]}}}function n(e){if(e){var o=t.views[e];if(o&&o.target&&o.target.isValid){o.actives.pop();var n=!0;o.actives.length&&(n=o.actives[o.actives.length-1]),n!=o.target.active&&(o.target.active=n)}return o}return null}function r(e){if(e){var o=t.views[e];if(o&&o.target&&o.target.isValid){o.actives.push(!1),0!=o.target.active&&(o.target.active=!1)}return o}return null}function i(t){return n(t)}function c(t){return r(t)}function a(t){return n(t)}function p(e){if(e){var o=t.views[e];return o&&o.target&&o.target.isValid&&o.target.destroy(),o}return null}function d(e){var o=e.name;if(t.views[o]===e){delete t.views[o];var n=t.groups[e.group_name];n&&delete n[o]}}t.views=[],t.groups=[],t.group_status=[],t.listener_events=[],t.loadings=[],t.open=function(o){if(delete t.loadings[o.name],1===o.uniqueness&&n(o.name))u(o,o.complete);else{var r=cc.instantiate(o.asset);if(o.script){var i=r.getComponent(o.script);if(i&&o.invoke){var c=o.invoke;if("function"==typeof c)c.call(i,o.params);else{var a=new cc.Component.EventHandler;a.target=r,a.component=o.script,a.handler=c,a.emit([o.params])}}o.node=r,o.target=r,o.component=i}var l=o.component;if(l){o.actives=[r.active];var p=t.groups[o.group_name];p||(p=[],t.groups[o.group_name]=p,t.group_status[o.group_name]=!0),t.group_status[o.group_name]||(r.active=!1,o.actives.push(!1)),l._start=l.start,l.start=function(){o.active=!0,l._start&&(l.start=l._start,l._start=null,l.start()),o.target.active=t.group_status[o.group_name],s.GhysX.handler.emit(o.name+"_on_start",o),e("start",o.name)},l._onEnable=l.onEnable,l.onEnable=function(){l._onEnable&&l._onEnable(),s.GhysX.handler.emit(o.name+"_on_show",o),e("show",o.name)},l._onDisable=l.onDisable,l.onDisable=function(){l._onDisable&&l._onDisable(),s.GhysX.handler.emit(o.name+"_on_hide",o),e("hide",o.name)},l._onDestroy=l.onDestroy,l.onDestroy=function(){d(o),l._onDestroy&&l._onDestroy(),s.GhysX.handler.emit(o.name+"destroy",o),e("destroy",o.name)},r._destroy=r.destroy,r.destroy=function(){return s.GhysX.loader.parser(r),d(o),r._destroy&&r._destroy(),!0},t.views[o.name]=o,p[o.name]=o,o.order?o.parent.addChild(r,o.order):o.parent.addChild(r)}u(o,o.complete)}},t.loading=function(e){t.loadings[e.name]||(e.uniqueness&&(t.loadings[e.name]=!0),l(e))},t.listener=function(t,n,r,i){var s=o.manager.listener_events[t],c=null;s||(s=[],o.manager.listener_events[t]=s),(c=s[n])||(c=[],s[n]=c),c.push({callback:r,params:i});var a=o.manager.views[n];if(a&&a.target&&a.target.isValid)switch(t){case"start":a.target.active&&e(t,n)}},t.show=n,t.hide=r,t.on=i,t.off=c,t.reset=a,t.group=function(e,o){var s=t.groups[o];if(s||(s=[],t.groups[o]=s,t.group_status[o]=!0),s)switch(e){case"show":for(var l in t.group_status[o]=!0,s)n(l);break;case"hide":for(var l in t.group_status[o]=!1,s)r(l);break;case"on":for(var l in t.group_status[o]=!0,s)i(l);break;case"off":for(var l in t.group_status[o]=!1,s)c(l);break;case"reset":for(var l in t.group_status[o]=!0,s)a(l);break;case"close":for(var l in s)p(l)}},t.find=function(e){if(e){var o=t.views[e];if(o&&o.target&&o.target.isValid)return o}return null},t.close=p,t.clear=d})(n||(n={})),o.manager=n,function(t){t[t.VIEW=1]="VIEW",t[t.SPRITE=2]="SPRITE",t[t.ATLAS=3]="ATLAS",t[t.PREFAB=4]="PREFAB"}(r=o.MODE||(o.MODE={})),function(t){t[t.FRAMEWORK=1]="FRAMEWORK",t[t.BACKGROUND=2]="BACKGROUND",t[t.WINDOW=100]="WINDOW",t[t.VIEW=200]="VIEW",t[t.VIEW_DIALOG=300]="VIEW_DIALOG",t[t.TASKBAR=400]="TASKBAR",t[t.DIALOG=500]="DIALOG",t[t.NOTIFICATION=600]="NOTIFICATION"}(i=o.ORDER||(o.ORDER={})),function(t){t.DEFAULT="default",t.BACKGROUND="background",t.HOME="home",t.UI="ui",t.BATTLE="battle",t.ACTIVE="active",t.NOTIFICATION="notification"}(o.GROUP_NAME||(o.GROUP_NAME={}));var a=function(){return function(){}}();function l(t){cc.log("load file path:",t.url);var e=cc.loader.getRes(t.url,t.asset_type);null!=e&&e.isValid&&e instanceof t.asset_type?(t.asset=e,p(t)):cc.loader.loadRes(t.url,t.asset_type,function(e,o){if(e)return t.error&&t.error(t),void cc.log(e);t.asset=o,p(t)})}function p(t){y(t)}function u(t,e){if(e)try{"function"==typeof e?e.call(e,t):s.GhysX.handler.emit(e,t)}catch(t){cc.log("err:",t)}}function d(t){t.mode=r.VIEW,t.order=t.order||i.VIEW,t.parent=t.canvas||t.parent||s.GhysX.gui.frame.node,t.asset_type=cc.Prefab,t.name=t.name||t.script,t.group_name=t.group_name||"default",void 0===t.uniqueness&&(t.uniqueness=1),t.asset?o.manager.open(t):o.manager.loading(t)}function f(t){if(t.mode=r.SPRITE,t.asset){var e=t.target;e.spriteFrame=t.asset,t.node=e.node,u(t,t.complete)}else l(t)}function h(t){if(t.mode=r.ATLAS,t.asset){var e=t.target;e.spriteFrame=t.asset.getSpriteFrame(t.asset_name),t.node=e.node,u(t,t.complete)}else l(t)}function _(t){if(t.mode=r.PREFAB,t.parent=t.canvas||t.parent,t.asset){var e=cc.instantiate(t.asset);if(t.script){var o=e.getComponent(t.script);if(o&&t.invoke){var n=t.invoke;if("function"==typeof n)n.call(o,t.params);else{var i=new cc.Component.EventHandler;i.target=e,i.component=t.script,i.handler=n,i.emit([t.params])}}t.component=o}t.node=e,t.target=e,t.order?t.parent.addChild(e,t.order):t.parent.addChild(e),u(t,t.complete)}else l(t)}function y(t){switch(t.mode){case r.VIEW:d(t);break;case r.SPRITE:f(t);break;case r.ATLAS:h(t);break;case r.PREFAB:_(t)}}o.INFO=a,o.load=l,o.complete=p,o.call=u,o.view=d,o.sprite=f,o.atlas=h,o.prefab=_,o.draw=y,o.initialize=function(t){return this},cc._RF.pop()},{"../GhysX":"GhysX"}],Http:[function(t,e,o){"use strict";cc._RF.push(e,"4bfc01OA7tNPYZhIVjPRyw9","Http");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Invoker:[function(t,e,o){"use strict";cc._RF.push(e,"bb71dJtAd1KIJyTLk1cTiTw","Invoker");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.event="",e.args="",e}return n(e,t),e.prototype.onClick=function(t,e){this.event&&i.GhysX.handler.emit(this.event,this.args)},e.prototype.onLoad=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Invoker",t.handler="onClick",t.customEventData="",this.node.getComponent(cc.Button).clickEvents.push(t)},r([a({displayName:"\u4e8b\u4ef6\u540d\u79f0",tooltip:"\u4e8b\u4ef6\u540d\u79f0"})],e.prototype,"event",void 0),r([a({displayName:"\u4e8b\u4ef6\u53c2\u6570",tooltip:"\u4e8b\u4ef6\u53c2\u6570"})],e.prototype,"args",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../GhysX":"GhysX"}],LabelLocalized:[function(t,e,o){"use strict";cc._RF.push(e,"73f7aK7wYJABqi8qo7QVB+b","LabelLocalized");var n=t("i18n");cc.Class({extends:cc.Label,properties:{textKey:{default:"TEXT_KEY",multiline:!0,tooltip:"Enter i18n key here",notify:function(){this._sgNode&&(this._sgNode.setString(this.string),this._updateNodeSize())}},string:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){return n.t(this.textKey)},set:function(t){this.textKey=t}}}}),cc._RF.pop()},{i18n:"i18n"}],Loader:[function(t,e,o){"use strict";cc._RF.push(e,"73e8fP+TBtI8oo1fmI7ex7j","Loader");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../GhysX"),s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache=[],e.assets=[],e}return n(e,t),e.prototype.load=function(t,e,o,n,r,i){var s=this.cache[t];null!=s&&s.isValid&&s instanceof e?this.complete(s,o,n,r,i):cc.loader.loadRes(t,e,function(e,s){e||(this.cache[t]=s,this.complete(s,o,n,r,i))}.bind(this))},e.prototype.complete=function(t,e,o,n,r){if(o.isValid){if(t instanceof cc.SpriteAtlas){for(var i in t._spriteFrames){var s=t._spriteFrames[i]._textureFilename;this.assets[s]=s;break}var c=t;if(n===cc.RichText)o.imageAtlas=c;else{var a=c.getSpriteFrame(e);o.spriteFrame=a}}else if(t instanceof sp.SkeletonData){for(var i in t.textures){var l=t.textures[i];this.assets[l.url]=l.url}o.skeletonData=t}else if(t instanceof cc.SpriteFrame){s=t._textureFilename;if(this.assets[s]=s,n===sp.Skeleton){var p=o.findSlot(e),u=t,d=p.getAttachment();(l=u.getTexture()).setPremultiplyAlpha(!0);var f=new sp.SkeletonTexture({width:l.width,height:l.height});f.setRealTexture(l),d.region.texture=f,p.setAttachment(d)}else o.spriteFrame=t}r&&r(o,t)}},e.prototype.parser=function(t,e){var o=this;if(t&&t.isValid){if(e=e||this.assets,t._components){var n=t.getComponent(cc.Sprite);if(n&&n.spriteFrame){var r=n.spriteFrame._textureFilename;e[r]=r}}else cc.log("_components",t.name);var i=t.children;i?i.forEach(function(t){o.parser(t,e)}):cc.log("children",t.name)}},e.prototype.releases=function(){var t=[],e=i.GhysX.graphics.manager.groups;for(var o in e){var n=e[o];for(var r in n){var s=n[r];this.parser(s.node,t)}}for(var r in this.assets){t[r]||cc.loader.release(r)}},e.prototype.start=function(){},e=r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../GhysX":"GhysX"}],Network:[function(t,e,o){"use strict";cc._RF.push(e,"52d53Vk17xB+5iLvWP8c6Cd","Network"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./../common/utils/Unit");(function(t){var e;function o(t){var e={},o=t.indexOf("?");if(o){var n=t.slice(o+1).splits("&","=");for(var r in n){var i=n[r];e[i[0]]=i[1]}}return e}function r(e,o){t.Socket.of("/index").once("connection_success",function(o){cc.log("connection_success",o),t.Crypto.RSA.setPublicKey(o.data.publicKey),t.Crypto.RC4.key=n.password(32),t.Crypto.RC4.inst=n.rc4;var r=t.Crypto.RSA.encrypt(t.Crypto.RC4.key);t.Socket.send("message",{gate:"$",handler:"join",data:{msg:e.platform.type,version:e.version.version,resouce_version:e.resouce_version,password:r}},"json")}).once("join_success",function(e){cc.log("join_success",e),t.handler.emit("open",e)}).once("close",function(e){cc.log("close",e),t.Socket.close()}).once("connect_error",function(n){cc.log("error",n),t.Socket.close("/index"),setTimeout(function(){r(e,o)},3e3)}),t.Socket.init(o),t.Socket.connect("/index").use("/index")}t.handler=null,t.option={},t.Crypto=null,function(t){t.request=function(t,e,o,n,r){var i=cc.loader.getXMLHttpRequest();i.timeout=5e3;var s="?";for(var c in e)"?"!=s&&(s+="&"),s+=c+"="+e[c];null==r&&(r=this.url);var a=r+t+encodeURI(s);return i.open("GET",a,!0),cc.sys.isNative&&i.setRequestHeader("Accept-Encoding","gzip,deflate"),i.onreadystatechange=function(){if(4===i.readyState)if(i.status>=200&&i.status<300)try{var t=JSON.parse(i.responseText);null!==o&&o(t)}catch(t){o(null,i)}else void 0!==n&&null!==n&&n(i)},i.send(),i}}(e=t.Http||(t.Http={})),function(o){o.protobuf=null,o.message=null,o.sessionId=0,o.url="",o.defaultContext=null,o.ctor=function(){this.dir="",this.sockets={},this.invokes={}},o.init=function(t){this.address=t},o.connect=function(e){e=e||"";var o=this;if(o.sockets[e])return this;var n=this.address+e;function r(t){var e=typeof t;if("object"===e&&void 0===t.status){t=o.message.decode(new Uint8Array(t));try{t.data=JSON.parse(t.data)}catch(t){}}else if("string"===e)try{t=JSON.parse(t)}catch(t){cc.log("message is string.")}else try{"string"==typeof t.data&&t.data.length>0&&"{"==t.data.charAt(0)&&(t.data=JSON.parse(t.data))}catch(t){}i(s,t.invoke,t)}function i(e,n,r){if(e){var i,s=e.path||"";if(0<s.length&&(s+="/"),n){var c=s+n;(i=o.invokes[c])?(i(r),i.of&&delete o.invokes[c]):t.handler.emit(n,r)}if(r&&r.event)c=s+r.event,(i=o.invokes[c])?(i(r),i.of&&delete o.invokes[c]):t.handler.emit(r.event,r)}}var s=window.io.connect(n,{reconnection:!1,"force new connection":!0,transports:["websocket","polling"],heartbeat:5e3});return s.on("reconnect",function(){cc.log("reconnection"),i(s,"reconnect")}),s.on("connect",function(){cc.log("connect"),s.connected=!0,i(s,"connect")}),s.on("connect_failed",function(){cc.log("connect_failed"),i(s,"connect_failed")}),s.on("connect_error",function(){cc.log("connect_error"),i(s,"connect_error")}),s.on("connect_timeout",function(){cc.log("connect_timeout"),i(s,"connect_timeout")}),s.on("error",function(){cc.log("error"),i(s,"error")}),s.on("connection",function(){cc.log("connection"),i(s,"connection")}),s.on("disconnect",function(t){cc.log("disconnect",t),i(s,"disconnect",t),this.socket==s&&(this.socket=null),delete o.sockets[o.path],s.connected=!1}),s.on("reconnect",function(){cc.log("reconnect"),i(s,"reconnect")}),s.on("reconnect_attempt",function(){cc.log("reconnect_attempt"),i(s,"reconnect_attempt")}),s.on("reconnecting",function(){cc.log("reconnecting"),i(s,"reconnecting")}),s.on("reconnect_error",function(){cc.log("reconnect_error"),i(s,"reconnect_error")}),s.on("reconnect_failed",function(){cc.log("reconnect_failed"),i(s,"reconnect_failed")}),s.on("message",function(t){r(t)}),s.on("broadcast",function(t){r(t)}),s.path=e,o.sockets[e]=s,void 0!==o.socket&&null!==o.socket||(o.socket=s),this},o.isConnected=function(t){var e=t?this.sockets[t]:this.socket;return e&&e.connected},o.of=function(t){return this.dir=t||"",0<this.dir.length&&(this.dir=this.dir+"/"),this},o.on=function(t,e){return this.invokes[this.dir+t]=e,this},o.once=function(t,e){return e.of=!0,this.invokes[this.dir+t]=e,this},o.off=function(t){return delete this.invokes[this.dir+t],this},o.use=function(t){return this.socket=this.sockets[t],this},o.emit=function(t,e){return e.context="json",this.socket&&this.socket.emit(t,e),this},o.send=function(t,e,o){var n=this.socket;if(n&&n.connected){if(e.context=o||this.defaultContext,void 0===e.context&&(e.context="json"),void 0!==window.wx&&(e.context="json"),"json"!==e.context){e.context="proto",e.data=JSON.stringify(e.data);var r=this.message.create(e);e=this.message.encode(r).finish()}n.emit(t,e)}return this},o.close=function(t){var e=t?this.sockets[t]:this.socket;return e&&(e==this.socket&&(this.socket=null),e.connected&&(e.connected=!1,e.disconnect()),delete this.sockets[e.path],e=null),this},o.initNetwork=function o(n){this.url=n.network.url,e.request(n.network.route,{account:n.network.account,password:n.network.password,env:n.network.env},function(e){cc.loader.loadRes(n.network.proto,function(o,i){var s=window.protobuf;if(void 0!=s){var c=s.parse(i.text).root.lookupType(n.network.message);t.Socket.protobuf=s,t.Socket.message=c}delete n.network,e.scoket_url="ws://qys.91xixifun.com:4100",r(n,e.scoket_url)})},function(t){cc.log("\u7f51\u7edc\u5f02\u5e38\uff1a",t.status),setTimeout(function(t){o(n)},1500)},n.network.url)}}(t.Socket||(t.Socket={})),t.loginGate=r,t.initialize=function(e){return t.handler=e.handler,t.Crypto={RSA:new JSEncrypt,RC4:{key:"",inst:null}},o(window.location.href),t.Socket.ctor(),t.handler.on("network-handshake-request",function(e){t.Socket.initNetwork(e)}),this}})(o.Network||(o.Network={})),cc._RF.pop()},{"./../common/utils/Unit":"Unit"}],Number:[function(t,e,o){"use strict";cc._RF.push(e,"d0a08cdfCdPHYEmCY5oQsnA","Number"),Number.prototype.displayBigNumber=function(){var t=this;return t>=1e4&&t<1e8?(t=t.valueOf()/1e4,Math.round(100*t)/100+"\u4e07"):t>=1e8?(t=t.valueOf()/1e8,Math.round(100*t)/100+"\u4ebf"):""+this},Number.prototype.toDecimal=function(t,e){void 0===t&&(t=2),void 0===e&&(e=100);var o=this;if(isNaN(o))return 0;var n=Math.pow(10,t);return o=~~(this*n*e)/n},cc._RF.pop()},{}],Opener:[function(t,e,o){"use strict";cc._RF.push(e,"5bc2byLC/NOjbMTBUixtamW","Opener");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../core/Graphics"),s=t("../GhysX"),c=cc._decorator,a=c.ccclass,l=c.property,p=cc.Enum(i.ORDER),u=cc.Enum({DEFAULT:0,BACKGROUND:1,HOME:2,UI:3,BATTLE:4,ACTIVE:5,NOTIFICATION:6}),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabPath="",e.window_name="",e.group_name=u.DEFAULT,e.root=null,e.order=p.VIEW,e.data="",e.startLoad=!1,e.dataSource=null,e.current_window_name="",e.event_param="",e.click_event="",e.completedEvent="",e.close_window_name="",e._button=null,e}return n(e,t),e.prototype.onClick=function(t,e){var o=null,n=null;if(this.dataSource&&(n=(o=this.dataSource)["check_"+this.node.name]),!n&&this.current_window_name){var r=s.GhysX.graphics.manager.find(this.current_window_name);r&&r.component&&(n=r.component["check_"+this.node.name])}if(n&&!n.call(o,t,{target:this}))return;if(this.window_name){var i=s.GhysX.graphics.manager.find(this.window_name);if(i)return i.node.active||s.GhysX.graphics.manager.show(this.window_name),void this.click(t,{view:i,data:null,data_source:this.dataSource,target:this})}s.GhysX.graphics.draw({url:this.prefabPath,mode:s.GhysX.graphics.MODE.VIEW,order:this.order<0?s.GhysX.graphics.ORDER.VIEW:this.order,group_name:this.group_name,canvas:this.root?this.root.node:null,script:this.window_name,invoke:"initOpener",params:{root:this.root,data:this.data,data_source:this.dataSource,opener:this},complete:function(e){var o={view:e,data:this.data,data_source:this.dataSource,target:this},n=this.completedEvent;n&&s.GhysX.handler.emit(n,t,o),this.click(t,o),this.close_window_name&&s.GhysX.graphics.manager.close(this.close_window_name)}.bind(this)})},e.prototype.click=function(t,e){this.click_event&&s.GhysX.handler.emit(this.click_event,t,e);var o=null,n=null;this.dataSource&&(n=(o=this.dataSource)["onclick_"+this.node.name]),!n&&this.current_window_name&&(o=s.GhysX.graphics.manager.find(this.current_window_name).component)&&(n=o["onclick_"+this.node.name]),n&&n.call(o,t,e)},e.prototype.onLoad=function(){var t=new cc.Component.EventHandler;t.target=this.node,t.component="Opener",t.handler="onClick",t.customEventData="";var e=this.node.getComponent(cc.Button);e&&(e.clickEvents.push(t),this._button=e),this.group_name=i.GROUP_NAME[u[this.group_name]],cc.log(this.group_name)},e.prototype.start=function(){this.startLoad&&this.onClick(null,null)},r([l({displayName:"\u9884\u5236\u8d44\u6e90\u8def\u5f84",tooltip:"\u9884\u5236\u8d44\u6e90\u8def\u5f84"})],e.prototype,"prefabPath",void 0),r([l({displayName:"\u6253\u5f00\u7684\u7a97\u53e3\u540d",tooltip:"\u6253\u5f00\u7684\u7a97\u53e3\u540d"})],e.prototype,"window_name",void 0),r([l({type:u,displayName:"\u7a97\u53e3\u6240\u5c5e\u5206\u7ec4",tooltip:"\u7a97\u53e3\u6240\u5c5e\u5206\u7ec4\u540d"})],e.prototype,"group_name",void 0),r([l({type:cc.Component,displayName:"\u7ed8\u56fe\u6839\u7ec4\u4ef6",tooltip:"\u7ed8\u56fe\u6839\u7ec4\u4ef6"})],e.prototype,"root",void 0),r([l({type:p,displayName:"\u7ed8\u56fe\u5c42\u7ea7",tooltip:"\u7ed8\u56fe\u5c42\u7ea7:\n_frameview: 0;\n_background: 100;\n_view: 200;\n_dview: 300;\n_viewdialog: 400;\n_taskbar: 500;\n_ui: 600;\n_windows: 700;\n_dialog: 800;\n_notification: 900;\n_screen: 1000;\n_system: 1100;\n_display_log: 1200;\n_border: 1300;\n"})],e.prototype,"order",void 0),r([l({displayName:"\u7a97\u53e3\u53c2\u6570",tooltip:"\u7a97\u53e3\u53c2\u6570JSON/TEXT"})],e.prototype,"data",void 0),r([l({displayName:"\u542f\u52a8\u52a0\u8f7d",tooltip:"\u662f\u5426\u5728\u754c\u9762\u542f\u52a8\u7684\u65f6\u5019\u81ea\u52a8\u52a0\u8f7d\u754c\u9762"})],e.prototype,"startLoad",void 0),r([l({type:cc.Component,displayName:"\u6570\u636e\u6e90",tooltip:"\u6570\u636e\u6e90"})],e.prototype,"dataSource",void 0),r([l({displayName:"\u5f53\u524d\u7684\u7a97\u53e3\u540d",tooltip:"\u5f53\u524d\u7684\u7a97\u53e3\u540d"})],e.prototype,"current_window_name",void 0),r([l({displayName:"\u6309\u94ae\u54cd\u5e94\u53c2\u6570",tooltip:"\u6309\u94ae\u54cd\u5e94\u53c2\u6570"})],e.prototype,"event_param",void 0),r([l({displayName:"\u6309\u94ae\u54cd\u5e94\u6d88\u606f",tooltip:"\u6309\u94ae\u54cd\u5e94\u6d88\u606f\uff0c\u53ef\u80fd\u5171\u7528\u4e8b\u4ef6\u7ec4\u54cd\u5e94"})],e.prototype,"click_event",void 0),r([l({displayName:"\u52a0\u8f7d\u7ed3\u675f\u4e8b\u4ef6",tooltip:"JSON/TEXT"})],e.prototype,"completedEvent",void 0),r([l({displayName:"\u5173\u95ed\u7a97\u53e3",tooltip:"\u5173\u95ed\u7a97\u53e3\u540d\u79f0"})],e.prototype,"close_window_name",void 0),e=r([a],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../GhysX":"GhysX","../core/Graphics":"Graphics"}],PhysicsManager:[function(t,e,o){"use strict";cc._RF.push(e,"58c4dQbT+1NWYs2XadxJJSc","PhysicsManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.active=!0,e.aabb=!1,e.pair=!1,e.centerOfMass=!1,e.joint=!1,e.shape=!1,e.mouseJoint=!1,e.gravity=cc.v2(0,-960),e}return n(e,t),e.prototype.onLoad=function(){var t=cc.director.getPhysicsManager();if(t.enabled&&this.active&&cc.warn("The physical system is enabled\uff01"),t.enabled=this.active,this.active){t.gravity=this.gravity;cc.PhysicsManager.DrawBits;t.debugDrawFlags=0}},e.prototype.start=function(){},e.prototype.onDisable=function(){var t=cc.director.getPhysicsManager();t.debugDrawFlags=0,t.enabled=!1},r([c({tooltip:"\u662f\u5426\u542f\u7528\u7269\u7406\u5f15\u64ce"})],e.prototype,"active",void 0),r([c({tooltip:"\u662f\u5426\u663e\u793a\u5305\u56f4\u76d2"})],e.prototype,"aabb",void 0),r([c({tooltip:""})],e.prototype,"pair",void 0),r([c({tooltip:"\u662f\u5426\u663e\u793a\u4e2d\u5fc3\u70b9"})],e.prototype,"centerOfMass",void 0),r([c({tooltip:"\u662f\u5426\u663e\u793a\u5173\u8282\u8fde\u63a5\u7ebf"})],e.prototype,"joint",void 0),r([c({tooltip:"\u662f\u5426\u586b\u5145\u5f62\u72b6"})],e.prototype,"shape",void 0),r([c({tooltip:"\u662f\u5426\u5f00\u542f\u9f20\u6807\u5173\u8282\uff0c\u53ef\u4ee5\u62d6\u52a8\u52a8\u6001\u521a\u4f53"})],e.prototype,"mouseJoint",void 0),r([c({tooltip:"\u91cd\u529b"})],e.prototype,"gravity",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Platform:[function(t,e,o){"use strict";cc._RF.push(e,"9f60b04o7FJcq/f/DPjDQQ+","Platform"),Object.defineProperty(o,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o.initialize=function(e){cc.sys.platform===cc.sys.WECHAT_GAME?(o.info=r=t("WeiXinPlatform"),r.initWeiXinPlatform(e)):(this.sys={platform:cc.sys.os,options:{}},e.handler.on("share",function(t){t.share_type=t.share_type||"share_app_message","share_app_message"===t.share_type&&("string"==typeof t.complete?e.handler.emit(t.complete):"function"==typeof t.complete&&t.complete())}),e.handler.on("recharge",function(t){t.server_number,t.order_number,t.order_money,t.goods_name,t.goods_desc;var o=t.callback_handler,n=t.params_handler;o&&("function"==typeof o?o(n):e.handler.emit(o,n))}),e.handler.on("recharge_success",function(t){cc.log(t);var o={handler:"recharge_success"};cc.m.utils.merge(t.top_up_order,o),cc.log(o),e.handler.emit("location-message",o)}),e.handler.on("create_video",function(t){t.success(null,t)}),e.handler.on("login",function(t){e.handler.emit("login_complete",t)}),e.handler.on("authorize",function(t){e.handler.emit("authorize_success",t)}),e.handler.on("download_task",function(t){t.download_progress&&t.download_progress({progress:100}),t.download_success&&t.download_success({}),t.uncompress_success&&t.uncompress_success({})}),e.handler.on("location-message",function(t){if("iOS"===this.sys.options.platform)window.webkit.messageHandlers.onWebViewMessage.postMessage({params:JSON.stringify(t)});else if("android"===this.sys.options.platform){var e=function t(e){var o="";for(var r in e){var i=e[r];if("function"!=typeof i)if("object"===(void 0===i?"undefined":n(i))){var s=t(i);s&&(o.length>0&&(o+="&"),o+=s)}else o.length>0&&(o+="&"),o=o+r+"="+i}return o}(t);cc.log(e),document.location="location-scheme://"+e}}.bind(this)),e.handler.on("location-scheme",function(t){cc.log(t),t&&t.handler&&e.handler.emit(t.handler,t)}.bind(this)))};o.sys=null;var r=o.info=null;cc._RF.pop()},{WeiXinPlatform:"WeiXinPlatform"}],Protocol:[function(t,e,o){"use strict";cc._RF.push(e,"1dbf4Cpsv5KKICZ7uMmUIQ/","Protocol");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Resources:[function(t,e,o){"use strict";cc._RF.push(e,"9492agNg05H94BA6Ka+G2xU","Resources");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.view=null,e.prefabs=[],e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},r([c({type:cc.Prefab,displayName:"\u573a\u666f",tooltip:"\u573a\u666f\u63a7\u5236\u5c42",visible:!0})],e.prototype,"view",void 0),r([c({type:cc.Prefab,displayName:"\u6e38\u620f\u7ec4\u4ef6",tooltip:"\u6e38\u620f\u516c\u5171\u7ec4\u4ef6",visible:!0})],e.prototype,"prefabs",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Scripter:[function(t,e,o){"use strict";cc._RF.push(e,"585761jk9ZO45+rudZ4kO8x","Scripter");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=cc.Enum({DEFAULT:0,ONLOAD:1,START:2,ONENABLE:3,ONDISABLE:4,ONCLICK:5,ONDESTROY:6}),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.script="[{}]",e.executeMode=l.DEFAULT,e._script_infos=null,e}return n(e,t),e.prototype.onClick=function(t,e){this.execute()},e.prototype.execute=function(){for(var t=0,e=this._script_infos;t<e.length;t++){var o=e[t];if(o)if(o.event)if(o.group_name)i.GhysX.graphics.manager.group(o.event,o.group_name);else switch(o.event){case"show":i.GhysX.graphics.manager.show(o.args.window_name);break;case"hide":i.GhysX.graphics.manager.hide(o.args.window_name);break;case"close":i.GhysX.graphics.manager.close(o.args.window_name);break;case"open":i.GhysX.graphics.draw(o.args)}else o.handler&&i.GhysX.handler.emit(o.handler,o.args)}},e.prototype.onLoad=function(){try{this._script_infos=JSON.parse(this.script||"{}")}catch(t){cc.log(t)}switch(this.executeMode){case l.DEFAULT:break;case l.ONLOAD:this.execute();break;case l.START:break;case l.ONCLICK:var t=new cc.Component.EventHandler;t.target=this.node,t.component="Scripter",t.handler="onClick",t.customEventData="";var e=this.node.getComponent(cc.Button);e||(e=this.node.addComponent(cc.Button)),e.clickEvents.push(t)}},e.prototype.start=function(){l.START==this.executeMode&&this.execute()},e.prototype.onEnable=function(){l.ONENABLE==this.executeMode&&this.execute()},e.prototype.onDisable=function(){l.ONDISABLE==this.executeMode&&this.execute()},e.prototype.onDestroy=function(){l.ONDESTROY==this.executeMode&&this.execute()},r([a({displayName:"\u811a\u672c",tooltip:"\u811a\u672c\u662f\u4e00\u6bb5JSON \u6587\u672c\uff0c\u7ed3\u6784\u662f\u53c2\u6570\u4e3a\uff1a\n[{\n  group_name: group name\n  event: show/hide/close/open\n  args:{\n    window_name: string\n    params: {\n      }\n  }\n}]\n"})],e.prototype,"script",void 0),r([a({type:l,displayName:"\u811a\u672c",tooltip:"\u811a\u672c\u6267\u884c\u65b9\u5f0f"})],e.prototype,"executeMode",void 0),e=r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../GhysX":"GhysX"}],ScrollViewHandler:[function(t,e,o){"use strict";cc._RF.push(e,"86269lFSPRA26gQtOreMa0R","ScrollViewHandler");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componet=null,e.scrollView=null,e.startLoad=!1,e.createEventName="",e.createEventParam="",e._item_infos=[],e._item_cells=[],e}return n(e,t),e.prototype.scrollingCallback=function(t,e){switch(e){case cc.ScrollView.EventType.SCROLL_BEGAN:case cc.ScrollView.EventType.SCROLLING:case cc.ScrollView.EventType.SCROLL_ENDED:}var o=-t.content.y,n=o-t.node.height;this._item_cells.forEach(function(t,e){var r=t.node.parent.y+t.node.parent.height/2,i=t.node.parent.y-t.node.parent.height/2,s=t.node.active;(s=o>=r&&r>=n||o>=i&&i>=n)!=t.node.active&&(t.node.active=s)})},e.prototype.createCell=function(t){var e=this.componet.createCell;if(e){var o=e(t);this._item_cells.push(o);var n=o.node,r=-this.scrollView.content.y,i=r-this.scrollView.node.height,s=n.parent.y+n.parent.height/2,c=n.parent.y-n.parent.height/2;n.active=r>=s&&s>=i||r>=c&&c>=i}},e.prototype.createItem=function(){this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(.01),cc.callFunc(function(t){if(this._item_infos.length>0){var e=this._item_infos[0];this._item_infos.splice(0,1),this.createCell(e)}this._item_infos.length>0&&this.createItem()}.bind(this))))},e.prototype.createNode=function(){var t=0;for(var e in this._item_infos){var o=this._item_infos[e],n=new cc.Node;n.width=o.prefab.data.width,n.height=o.prefab.data.height,this.scrollView.content.addChild(n),o.item_index=t++,o.parent=n}},e.prototype.onLoad=function(){this.createEventName&&i.GhysX.handler.on(this.createEventName,this.createItem,this)},e.prototype.start=function(){this.createNode(),this.startLoad&&this.createItem()},r([a({type:cc.Component,displayName:"\u76ee\u6807\u7ec4\u4ef6",tooltip:"\u76ee\u6807\u7ec4\u4ef6"})],e.prototype,"componet",void 0),r([a({type:cc.ScrollView,displayName:"\u6eda\u52a8\u7a97\u53e3",tooltip:"\u6eda\u52a8\u7a97\u53e3"})],e.prototype,"scrollView",void 0),r([a({displayName:"\u542f\u52a8\u52a0\u8f7d",tooltip:"\u662f\u5426\u5728\u754c\u9762\u542f\u52a8\u7684\u65f6\u5019\u81ea\u52a8\u52a0\u8f7d\u754c\u9762"})],e.prototype,"startLoad",void 0),r([a({displayName:"\u521b\u5efa\u5143\u7d20\u4e8b\u4ef6",tooltip:""})],e.prototype,"createEventName",void 0),r([a({displayName:"\u521b\u5efa\u5143\u7d20\u4e8b\u4ef6\u53c2\u6570",tooltip:""})],e.prototype,"createEventParam",void 0),r([a({visible:!1})],e.prototype,"_item_infos",void 0),r([a({visible:!1})],e.prototype,"_item_cells",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../GhysX":"GhysX"}],Shader:[function(t,e,o){"use strict";cc._RF.push(e,"89834DOs3FH6KO9buPeR8K5","Shader"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator;n.ccclass,n.property;(function(t){(function(t){function e(t){t&&(t.__default_material=t.getMaterial(0),t.setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")))}function o(t){if(t){t.font&&t.font.__proto__ instanceof cc.BitmapFont?t.sharedMaterials[0]=cc.Material.getBuiltinMaterial("2d-gray-sprite"):(t.node.__color=t.node.color,t.node.color=cc.color(200,200,200,255));var e=t.node.getComponent(cc.LabelOutline);e&&(e.__color=e.color,e.color=cc.color(110,110,110,255))}}function n(t){t&&(t.__default_target=t.target,t.target=null,t.__default_enableAutoGrayEffect=t.enableAutoGrayEffect,t.enableAutoGrayEffect=!1,t.__default_material=t._graySpriteMaterial,t._graySpriteMaterial=cc.Material.getBuiltinMaterial("2d-gray-sprite"))}function r(t){t&&t.setMaterial(0,t.__default_material)}function i(t){if(t){t.font&&t.font.__proto__ instanceof cc.BitmapFont?t.sharedMaterials[0]=cc.Material.getBuiltinMaterial("2d--sprite"):t.node.color=t.node.__color,t.node.color=t.node.__color||t.node.color;var e=t.node.getComponent(cc.LabelOutline);e&&(e.color=e.__color||e.color)}}function s(t){t&&(t.target=t.__default_target,t.enableAutoGrayEffect=t.__default_enableAutoGrayEffect,t._graySpriteMaterial=t.__default_material)}function c(t){e(t.getComponent(cc.Sprite));var r=t.getComponent(cc.Label);r&&o(r);var i=t.getComponent(cc.Button);i&&n(i)}function a(t){r(t.getComponent(cc.Sprite));var e=t.getComponent(cc.Label);e&&i(e);var o=t.getComponent(cc.Button);o&&s(o)}t.gray=function t(e){if(!e.__gray){e.__gray=!0,c(e);for(var o=0,n=e.children;o<n.length;o++)t(n[o])}},t.ungray=function t(e){if(e.__gray){e.__gray=!1,a(e);for(var o=0,n=e.children;o<n.length;o++)t(n[o])}}})(t.gray||(t.gray={}))})(o.shader||(o.shader={})),cc._RF.pop()},{}],Socket:[function(t,e,o){"use strict";cc._RF.push(e,"f4bd11MTV1DJY+bA8SDOlKm","Socket");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],SpriteLocalized:[function(t,e,o){"use strict";cc._RF.push(e,"8fc5eEIU7pCx5J7PwjXRaoL","SpriteLocalized");t("i18n");cc.Class({extends:cc.Sprite,properties:{}}),cc._RF.pop()},{i18n:"i18n"}],Storage:[function(t,e,o){"use strict";cc._RF.push(e,"d30ac0rlPBK950Uu4UQNkmz","Storage"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator;n.ccclass,n.property;o.read=function(t,e){var o=cc.sys.localStorage.getItem(t);return null!==o&&void 0!==o&&""!=o||(o=e),o},o.write=function(t,e){null!==e&&void 0!==e||(e=""),cc.sys.localStorage.setItem(t,e)},cc._RF.pop()},{}],String:[function(t,e,o){"use strict";cc._RF.push(e,"157bd2SaGxDgYPAPA+eoXco","String"),String.prototype._split=function(t,e){var o=this.split(t);if(e)for(var n in o)o[n]=e(o[n]);return o},String.prototype.splits=function(t,e,o){var n=[],r=this.split(t);for(var i in r){var s=r[i];n[i]=s._split(e,o)}return n},String.prototype.splitss=function(t,e,o,n){var r=[],i=this.split(t);for(var s in i){var c=i[s];r[s]=c.splits(e,o,n)}return r},String.prototype.line_splits=function(t,e,o){var n=[],r=this.split(t);for(var i in r){var s=r[i];s=s.split(e),o&&(s=o(s)),n[i]=s}return n},String.prototype._concat=function(t,e){var o="",n=!1;for(var r in t)n?o+=e:n=!0,o+=t[r];return o},String.prototype._concats=function(t,e,o){var n="",r=!1;for(var i in t){var s=t[i],c=this._concat(s,o);c&&(r?n+=e:r=!0,n+=c)}return n},String.prototype.format=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0==arguments.length)return null;var o=this,n=0,r=0;do{if((n=o.indexOf("%",n))>-1){n+=1;var i=o.charAt(n);"s"==i?(o=o.replace("%s","{"+r+"}"),r+=1):"d"==i&&(o=o.replace("%d","{"+r+"}"),r+=1)}}while(n>-1);for(var s=0;s<arguments.length;s++){var c=new RegExp("\\{"+s+"\\}","gm");o=o.replace(c,arguments[s])}return o},String.prototype.replaceAll=function(t,e,o){return RegExp.prototype.isPrototypeOf(t)?this.replace(t,e):this.replace(new RegExp(t,o?"gi":"g"),e)},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(t){return this.slice(0,t.length)===t}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}),String.prototype.displayBigNumber=function(){var t=parseInt(this);return t>=1e4&&t<1e8?(t=t.valueOf()/1e4,Math.round(100*t)/100+"\u4e07"):t>=1e8?(t=t.valueOf()/1e8,Math.round(100*t)/100+"\u4ebf"):this},cc._RF.pop()},{}],System:[function(t,e,o){"use strict";cc._RF.push(e,"d9813FXQZBNzosi+EeHD4Yy","System"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Storage"),r=t("./Audio");(function(t){t.storage=n,t.audio=r.Audio,function(t){function e(){(new Date).getTime();return 0}t.local=new Date,t.sstime=e,t.difftime=function(t,o){return o||(o=e()),t-o},t.formatTime=function(t,e){},t.getHour=function(t){},t.timeZone=function(t){var o=new Date(e());return o.getTime()+6e4*o.getTimezoneOffset()+36e5*t}}(t.time||(t.time={})),t.initialize=function(e){t.audio.initialize()}})(o.System||(o.System={})),cc._RF.pop()},{"./Audio":"Audio","./Storage":"Storage"}],TextToJson:[function(t,e,o){"use strict";cc._RF.push(e,"c728dGkyxVPnZp3G/Ua39GM","TextToJson"),Object.defineProperty(o,"__esModule",{value:!0}),o.parse=function(t,e){void 0===e&&(e=0);var o={},n=t.length;if(n>4){var r=t[0],i=t[1],s=t[2];if(t[3],"id"===s[0])for(var c=r.length,a=4;a<n;a++){var l=t[a],p=l.length;if(p==c){for(var u={},d=0;d<p;d++){var f=i[d];u[s[d]]="string"===f?l[d]:"float"===f?parseFloat(l[d]):parseInt(l[d])}o[l[e]]=u}}else o=t}return o},cc._RF.pop()},{}],Unit:[function(t,e,o){"use strict";function n(t,e){if(e<t)throw new Error("min > max");return Math.floor(Math.random()*(e-t+1)+t)}cc._RF.push(e,"61522O2rlBEVYnAY8sCAT3g","Unit"),Object.defineProperty(o,"__esModule",{value:!0}),o.random=n,o.randomf=function(t,e){if(e<t)throw new Error("min > max");return Math.random()*(e-t)+t},function(t){t.uuid=function(){for(var t=[],e=0;e<36;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},t.uuids=function(t,e){var o,n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(e=e||r.length,t)for(o=0;o<t;o++)i[o]=r[0|Math.random()*e];else for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",o=0;o<36;o++)i[o]||(n=0|16*Math.random(),i[o]=r[19==o?3&n|8:n]);return i.join("")},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.guids=function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(o.ugid||(o.ugid={})),o.password=function(t){for(var e="",o=0;o<t;o++)e+=String.fromCharCode(n(1,127));return e},o.rc4=function(t,e){for(var o=Array(256),n=Array(t.length),r=0;r<256;r++){o[r]=r;var i=(i+o[r]+e.charCodeAt(r%e.length))%256,s=o[r];o[r]=o[i],o[i]=s}for(r=0;r<t.length;r++)n[r]=t.charCodeAt(r);for(var c=0;c<n.length;c++){i=(i+o[r=(r+1)%256])%256,s=o[r],o[r]=o[i],o[i]=s;var a=(o[r]+o[i]%256)%256;n[c]=String.fromCharCode(n[c]^o[a])}return n.join("")},cc._RF.pop()},{}],Utils:[function(t,e,o){"use strict";function n(t,e){var o="",n=!1;for(var r in t)n?o+=e:n=!0,o+=t[r];return o}cc._RF.push(e,"36d54+QYlxMfKTtvOYuGurk","Utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.prefix=function(t,e){return(Array(e).join("0")+t).slice(-e)},o.random=function(t,e){if(e<t)throw new Error("min > max");return Math.floor(Math.random()*(e-t+1)+t)},o.randomf=function(t,e){if(e<t)throw new Error("min > max");return Math.random()*(e-t)+t},o.concat=n,o.concats=function(t,e,o){var r="",i=!1;for(var s in t){var c=n(t[s],o);c&&(i?r+=e:i=!0,r+=c)}return r},o.Uint8ArrayToString=function(t){for(var e="",o=0;o<t.length;o++)e+=String.fromCharCode(t[o]);return e},o.stringToUint8Array=function(t){for(var e=[],o=0,n=t.length;o<n;++o)e.push(t.charCodeAt(o));return new Uint8Array(e)},o.Utf8ArrayToStr=function(t){for(var e,o,n,r,i="",s=0,c=t.length;s<c;)(e=t[s++])>>4<=7?i+=String.fromCharCode(e):e>>4==12||e>>4==13?(o=t[s++],i+=String.fromCharCode((31&e)<<6|63&o)):e>>4==14&&(o=t[s++],n=t[s++],r=(15&e)<<12|(63&o)<<6,i+=String.fromCharCode(r|(63&n)<<0));return i},cc._RF.pop()},{}],WXPlatform:[function(t,e,o){"use strict";cc._RF.push(e,"245f4T/B9xApK7iuwt7RrTV","WXPlatform"),cc.Class({extends:cc.Component,properties:{},start:function(){var t=this;void 0!=window.wx&&(wx.showShareMenu(),wx.onShareAppMessage(function(){return setTimeout(1e3,function(){t.shareListener()}),{title:"\u8f6c\u53d1\u6807\u9898",imageUrl:"",query:"",success:function(t){},fail:function(t){},complete:function(t){}}}),wx.onMessage(function(t){cc.log(t),t.type}),wx.updateShareMenu({withShareTicket:!0}))},getSystemInfo:function(){var t=this;void 0!=window.wx&&wx.getSystemInfo({success:function(e){t.systemInfo=e,cc.log(e.model),cc.log(e.pixelRatio),cc.log(e.windowWidth),cc.log(e.windowHeight),cc.log(e.language),cc.log(e.version),cc.log(e.platform),cc.log(e.system),t.build=e}})},updateVersion:function(){if(void 0!=window.wx&&"function"==typeof wx.getUpdateManager){var t=wx.getUpdateManager();t.onCheckForUpdate(function(t){cc.log(t.hasUpdate)}),t.onUpdateReady(function(){t.applyUpdate()}),t.onUpdateFailed(function(){})}},message:function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];if(void 0!=window.wx){var n=arguments[0];wx.getOpenDataContext().postMessage(n)}},storage:function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];if(void 0!=window.wx){var n=arguments[0],r=arguments[1],i=arguments[1];arguments[2];"set"===n?"user"===r&&wx.setUserCloudStorage({KVDataList:i,success:function(t){},fail:function(t){},complete:function(t){}}):"get"===n?"user"===r&&wx.getUserCloudStorage({keyList:i,success:function(t){},fail:function(t){},complete:function(t){}}):"remove"===n&&"user"===r&&wx.removeUserCloudStorage({keyList:i,success:function(t){},fail:function(t){},complete:function(t){}})}},share:function(t){if(void 0!=window.wx){cc.log("weixin share.");var e=t[0];if("show_menu"===e)wx.showShareMenu({success:function(t){},fail:function(t){},complete:function(t){}});else if("hide_menu"===e)wx.hideShareMenu({success:function(t){},fail:function(t){},complete:function(t){}});else if("share"===e){var o=t[1],n=t[2],r=t[3],i=t[4];wx.shareAppMessage({title:o,imageUrl:n,query:r,success:function(t){i({success:!0})},fail:function(t){i({success:!0})},complete:function(t){i({success:!0})}}),this.shareListener()}else if("share_canvas"===e){var s=t[1],c=t[2];wx.onShareAppMessage(function(){return{title:s,imageUrl:canvas.toTempFilePathSync({destWidth:500,destHeight:400}),query:c,success:function(t){},fail:function(t){},complete:function(t){}}}),this.shareListener()}}},shareListener:function(){},circles:function(){void 0!=window.wx&&(this.button=wx.createGameClubButton({type:1,text:"",image:"",style:"",icon:""}))},social:function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];if(void 0!=window.wx){var n=arguments[0],r=arguments[1];if("friend"===n)wx.getFriendCloudStorage({success:function(t){var e=t.data;r&&r(e)}});else if("group"===n)wx.getGroupCloudStorage({success:function(t){var e=t.data;r&&r(e)}})}},payment:function(){void 0!=window.wx&&wx.requestMidasPayment({mode:"game",offerId:"",buyQuantity:10,zoneId:1,success:function(t){},fail:function(t){var e=t.errMsg,o=t.errCode;cc.log(e,o)}})},login:function(){cc.log("weixin login.");var t=this;void 0!=window.wx&&wx.authorize({scope:"scope.record",fail:function(t){t.errMsg.indexOf("auth deny")>-1||t.errMsg.indexOf("auth denied")},success:function(e){wx.login({fail:function(t){GhysX.Data.platform.inlogin=!1},success:function(e){var o=e.code,n=wx.createUserInfoButton({type:"text",text:"\u5fae\u4fe1\u767b\u5f55",style:{left:(t.build.windowWidth-200)/2,top:t.build.windowHeight-200,width:200,height:40,lineHeight:40,backgroundColor:"#47c432",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}});n.onTap(function(e){console.log(e),GhysX.Data.platform.inlogin=!1;var r=e.userInfo,i=(r.nickName,r.avatarUrl);r.gender,r.province,r.city,r.country;r.code=o,GhysX.Data.platform.userInfo=r,cc.loader.load({url:i,type:"jpg"},function(t,e){t||(GhysX.Data.platform.userInfo.texture=e)}),GhysX.Network.of("/index").once("user",function(t){cc.log("weixin account:",t),0==t.status&&(GhysX.Data.platform.userInfo.account=t.data.platform.account,GhysX.Handler.emit("login_account_success",t))}),GhysX.Network.send("message",{gate:"login",handler:"user",invoke:"user",data:{system_info:t.systemInfo,platform:{res:e,userInfo:r,name:"weixin",code:o}}},"proto"),n.destroy()})}})}})},logout:function(){cc.log("weixin logout.")}}),cc._RF.pop()},{}],WeiXinPlatform:[function(t,e,o){"use strict";cc._RF.push(e,"6d44ftPXUBMB7PfojN923h4","WeiXinPlatform");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.exports={initWeiXinPlatform:function(e){var o=t("Utils");wx.setKeepScreenOn({keepScreenOn:!0});var r=wx.getSystemInfoSync();e.platform.sys=r,e.platform.info.code=cc.sys.localStorage.getItem("account_code");var i=wx.getUpdateManager();i.onCheckForUpdate(function(t){console.log(t.hasUpdate)}),i.onUpdateReady(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",success:function(t){t.confirm&&i.applyUpdate()}})}),i.onUpdateFailed(function(){wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u7248\u672c\u66f4\u65b0\u5931\u8d25\uff0c\u91cd\u65b0\u66f4\u65b0\u7248\u672c\u3002",success:function(t){t.confirm&&i.applyUpdate()}})}),t("./ald/ald-game.js").initialize(),e.handler.on("get_launch_options",function(t){var o=wx.getLaunchOptionsSync();cc.log("get Launch option",o),cc.log("game callback:",t),"string"==typeof t.complete?e.handler.emit(t.complete,o):"function"==typeof t.complete&&t.complete(o),cc.log("==> wx.getLaunchOptionsSync return ",JSON.stringify(o)),1104===o.scene&&e.handler.emit("favo_game"),e.handler.emit("send_event",{key:"\u542f\u52a8\u53c2\u6570",value:o}),o.query.AdsPos&&wx.sendEvent("\u5206\u4eab",{launchImageUrl:o.query.AdsPos}),console.log("get_launch_options:",t)}),e.handler.on("guest_login",function(t){var n=null;try{var r=wx.getStorageSync("openid");r&&(n=r)}catch(t){}if(!n){n=o.guid();try{wx.setStorageSync("openid",n)}catch(t){}}t.info.user_info={openid:n},e.Data.user_info=t.info.user_info,t.info.code=e.Data.user_info.openid,e.handler.emit("auth_success",t)}),e.handler.on("authorize",function(t){wx.getSetting({success:function(n){if(n.authSetting["scope.userInfo"])e.handler.emit("weixin_login",t);else{var r=null;try{var i=wx.getStorageSync("openid");i&&(r=i)}catch(t){}if(r)e.handler.emit("guest_login",t);else{var s=wx.getSystemInfoSync(),c=wx.createUserInfoButton({type:"image",image:"https://kgdhs-static.boomegg.cn/merge_kings/assets/resources/images/ui/button/start_button.png?v="+o.random(1,1e6),style:{left:(s.windowWidth-200)/2,top:s.windowHeight-150,width:200,height:64,lineHeight:40,backgroundColor:"#ff0000",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}});c.show(),c.onTap(function(o){c.destroy(),o.userInfo?(t.info.user_info=o.userInfo,e.handler.emit("weixin_login",t)):e.handler.emit("guest_login",t)})}}},fail:function(t){}})}),e.handler.on("login",function(t){e.handler.emit("weixin_login",t)}),e.handler.on("weixin_login",function(t){wx.login({success:function(o){o.code?e.Net.Http.post(e.Net.Protocol.pack("","WeiXinPlatformService####get_open_id","wxb3ee21c1b9c8423a","c21be9024da409f0ffb442028716953f",o.code),function(o){cc.log(o),t.info.code=e.Data.user_info.openid,e.handler.emit("auth_success",t)}):(console.log("\u767b\u5f55\u5931\u8d25\uff01"+o.errMsg),e.handler.emit("login_complete",t))}})}),e.handler.on("weixin_get_user_info",function(t){wx.getUserInfo({success:function(o){var n=o.userInfo;n.nickName,n.avatarUrl,n.gender,n.province,n.city,n.country,t.info.user_info=o.userInfo,e.handler.emit("weixin_login",t)}})}),e.handler.on("clean_all_assets",function(t){wxDownloader.cleanAllAssets()}),e.handler.on("clean_assets",function(t){var e=wx.getFileSystemManager();e.readdir({dirPath:wxDownloader.cacheDir,success:function(t){var o=wxDownloader.getCachedFileList();t.files.length>1e3&&t.files.forEach(function(t,n){(t.endsWith(".png")||t.endsWith(".jpg"))&&randomNumber(1,100)<=15&&(delete o[t],e.unlink({filePath:wxDownloader.cacheDir+"/"+t,success:function(t){},fail:function(t){}}))}),e.writeFileSync(wxDownloader.cacheDir+"/"+wxDownloader.cachedFileName,JSON.stringify(o),"utf8")}})}),e.handler.on("download_task",function(t){var e=wx.getFileSystemManager();wx.downloadFile({url:t.url,success:function(o){t.download_success&&t.download_success(o);var n=o.tempFilePath;e.unzip({zipFilePath:n,targetPath:wx.env.USER_DATA_PATH,success:function(o){t.uncompress_success&&t.uncompress_success(o),e.readdir({dirPath:wxDownloader.cacheDir,success:function(t){var o=wxDownloader.getCachedFileList();t.files.forEach(function(t,e){o[t]=1}),e.writeFileSync(wxDownloader.cacheDir+"/"+wxDownloader.cachedFileName,JSON.stringify(o),"utf8")}})},fail:function(e){console.log(e),t.uncompress_fail&&t.uncompress_fail(e)}})},fail:function(e){t.download_fail&&t.download_fail(e)}}).onProgressUpdate(function(e){t.download_progress&&t.download_progress(e)})}),e.handler.on("navigate",function(t){console.log(t),e.handler.emit("send_event",{key:"navigate",value:t}),wx.navigateToMiniProgram({appId:t.appId,path:t.path||"pages/index/index",extraData:t.extraData||{},success:function(o){t.res=o,e.handler.emit("navigate_success",t)},fail:function(o){t.res=o,e.handler.emit("navigate_fail",t)},complete:function(o){t.res=o,e.handler.emit("navigate_complete",t)}})}),e.handler.on("weixin_game_quanzi",function(t){var e=t.openid||_ED.user_info.openid;wx.navigateToMiniProgram({appId:"wx4233cc143076bfdc",path:"pages/index/index",extraData:{openid:e,appid:"wx9d20175891e5518c",Ads:"sdk",AdsPos:"community",to:"circle"},success:function(t){}})}),e.handler.on("share",function(t){if(t.share_type=t.share_type||"share_app_message","share_app_message"===t.share_type){if(1===e.assets.data.config.review_status&&!t.show_off&&!t.invite)return void("string"==typeof t.complete?e.handler.emit(t.complete):"function"==typeof t.complete&&t.complete());var r=null;if("object"===n(t.query))for(var i in r="",t.query){var s=t.query[i];r.length>0&&(r+="&"),r=r+i+"="+s}var c=e.assets.data.share.reward[e.modules.unit.random(0,e.assets.data.share.reward.length-1)];console.log(c),wx.aldShareAppMessage({title:t.title,imageUrl:c.imageUrl,imageUrlId:c.imageUrlId,query:r||"def=-1",success:function(t){cc.log("===> weixin share success: ",t)},fail:function(t){cc.log("===> weixin share fail: ",t)},complete:function(t){cc.log("===> weixin share complete: ",t)}}),e.handler.emit("send_event",{key:"\u5206\u4eab",value:{title:t.title,imageUrl:c.imageUrl,imageUrlId:c.imageUrlId,query:r||"def=-1"}}),e.handler.once("share_back",function(n){e.handler.off("share_back");var r=1;(wx.__pause_interval_time<=3e3||70<o.random(1,100))&&(r=-1),-1==r?(e.handler.emit("send_event",{key:"\u5206\u4eab\u5931\u8d25",value:{count:1}}),"string"==typeof t.fail?e.handler.emit(t.fail,n):"function"==typeof t.fail?t.fail(n):e.handler.emit("show_message","share_lose")):(e.handler.emit("send_event",{key:"\u5206\u4eab\u6210\u529f",value:{count:1}}),"string"==typeof t.complete?e.handler.emit(t.complete,{res:n,status:r}):"function"==typeof t.complete&&t.complete({res:n,status:r})),wx.getShareInfo({shareTicket:"",timeout:15e3,success:function(t){cc.log("get share info [success]:",t)},fail:function(t){cc.log("get share info [fail]:",t)},complete:function(t){cc.log("get share info [complete]:",t)}})})}}),e.handler.on("create_banner",function(t){var o=t.adUnitId;if(o){wx.__bannerAds||(wx.__bannerAds={});var n=wx.__bannerAds[o];n||(n={show:!0,bannerAd:null},wx.__bannerAds[o]=n),n.bannerAd&&(n.bannerAd.destroy(),n.bannerAd=null);var r=wx.getSystemInfoSync(),i=r.pixelRatio,s=(r.screenWidth,r.screenHeight,0);i>=3&&(s=13);var c=wx.createBannerAd({adUnitId:o,adIntervals:30,style:{left:0,top:0,width:300},success:function(t){console.log("bannerAd: success",t)},fail:function(t){console.log("bannerAd: fail",t)},complete:function(t){console.log("bannerAd: complete",t)}});wx.__bannerAds[o].bannerAd=c,c.onResize(function(t,e){c.style.left=(r.windowWidth-c.style.realWidth)/2,c.style.top=s>0?r.windowHeight-c.style.realHeight-s:r.windowHeight-c.style.realHeight}),c.onError(function(t){console.log("bannerAd: onError",t);try{c&&c.destroy()}catch(t){console.log(t)}wx.__bannerAds[c.adUnitId].bannerAd=null,t||(t={}),e.handler.emit("send_event",{key:"\u521b\u5efaBanner\u5931\u8d25",value:{adUnitId:o,errCode:t.errCode||"-1",errMsg:t.errMsg||"\u672a\u77e5"}})}),c.onLoad(function(t){n.show&&c.show(),console.log("bannerAd: onLoad",t,c,r),c.style.left=(r.windowWidth-c.style.realWidth)/2,c.style.top=s>0?r.windowHeight-c.style.realHeight-s:r.windowHeight-c.style.realHeight,e.handler.emit("send_event",{key:"\u521b\u5efaBanner\u6210\u529f",value:{adUnitId:o}})}),e.handler.emit("send_event",{key:"\u521b\u5efaBanner",value:{adUnitId:o}})}}),e.handler.on("show_banner",function(t){try{var o=t.adUnitId;if(!o)return;wx.__bannerAds||(wx.__bannerAds={});var n=wx.__bannerAds[o];n||(n={show:!0,bannerAd:null},wx.__bannerAds[o]=n),n.show=!0,!n.bannerAd||t.forced?e.handler.emit("create_banner",t):n.bannerAd.show()}catch(t){console.log(t)}}),e.handler.on("hide_banner",function(t){var o=0;if(t&&(o=t.adUnitId),o){wx.__bannerAds||(wx.__bannerAds={});var n=wx.__bannerAds[o];n||(n={show:!1,bannerAd:null},wx.__bannerAds[o]=n),n.show=!1,n.bannerAd&&n.bannerAd.hide()}else for(var r in wx.__bannerAds)e.handler.emit("hide_banner",{adUnitId:r})}),e.handler.on("create_video",function(t){var o=t.adUnitId;if(o){t.start_time=(new Date).getTime(),t.token=e.platform.info.code;var n=wx.createRewardedVideoAd({adUnitId:t.adUnitId});n.show().catch(function(t){n.load().then(function(){return n.show()})}),n.onError(function(t){console.log("\u89c6\u9891\u51fa\u9519\u4e8b\u4ef6"),e.handler.emit("video_error",t)}),n.onClose(function(t){console.log("\u89c6\u9891\u5173\u95ed\u4e8b\u4ef6"),e.handler.emit("video_over",t)}),e.handler.off("video_error"),e.handler.off("video_over"),e.handler.once("video_error",function(o){t.interval_time=(new Date).getTime()-t.start_time,(o=o||{}).interval_time=t.interval_time,o.adUnitId=t.adUnitId,o.token=t.token,console.log("\u521b\u5efa\u89c6\u9891\u51fa\u9519\uff1a",o),"string"==typeof t.fail?e.handler.emit(t.fail,o):"function"==typeof t.fail?t.fail(o):e.handler.emit("show_message","create_video_lose"),e.handler.emit("send_event",{key:"\u521b\u5efa\u89c6\u9891\u5931\u8d25",value:o})}),e.handler.once("video_over",function(o){t.interval_time=(new Date).getTime()-t.start_time,(o=o||{}).interval_time=t.interval_time,o.adUnitId=t.adUnitId,o.token=t.token,o&&o.isEnded||void 0===o?(console.log("\u6b63\u5e38\u64ad\u653e\u7ed3\u675f\uff0c\u53ef\u4ee5\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),"string"==typeof t.success?e.handler.emit(t.success,o):"function"==typeof t.success&&t.success(o),t.interval_time=(new Date).getTime()-t.start_time,e.handler.emit("send_event",{key:"\u89c6\u9891\u64ad\u653e\u5b8c\u6bd5",value:o})):(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),"string"==typeof t.cancel?e.handler.emit(t.cancel,o):"function"==typeof t.cancel?t.cancel(o):e.handler.emit("show_message","play_video_cancel"),e.handler.emit("send_event",{key:"\u89c6\u9891\u64ad\u653e\u4e2d\u9014\u9000\u51fa",value:o}))}),e.handler.emit("send_event",{key:"\u521b\u5efa\u89c6\u9891",value:{adUnitId:o}})}}),e.handler.on("create_interstitial_ad",function(t){var o=null;wx.createInterstitialAd&&(o=wx.createInterstitialAd({adUnitId:t.adUnitId})).onError(function(o){console.log("gridAd: onError",o),e.handler.emit("send_event",{key:"\u521b\u5efa\u63d2\u5c4f\u5e7f\u544a\u5931\u8d25",value:{adUnitId:t.adUnitId}})}),o&&(o.show().catch(function(t){console.error(t)}),wx.__interstitialAd=o,e.handler.emit("send_event",{key:"\u521b\u5efa\u63d2\u5c4f\u5e7f\u544a",value:{adUnitId:t.adUnitId}}))}),e.handler.on("create_grid_ad",function(t){var o=wx.getSystemInfoSync(),n=o.pixelRatio,r=o.screenWidth,i=(o.screenHeight,r/1),s=0;n>2&&(s=56);var c=wx.createGridAd({adUnitId:t.adUnitId,adTheme:"white",gridCount:5,style:{left:i,top:s,width:r,opacity:.8}});c.onError(function(o){console.log("gridAd: onError",o),e.handler.emit("send_event",{key:"\u521b\u5efa\u683c\u5b50\u5e7f\u544a\u5931\u8d25",value:{adUnitId:t.adUnitId}})}),c.show(),wx.__gridAd=c,e.handler.emit("send_event",{key:"\u521b\u5efa\u683c\u5b50\u5e7f\u544a",value:{adUnitId:t.adUnitId}})}),e.handler.on("hide_grid_ad",function(t){wx.__gridAd&&wx.__gridAd.hide()}),e.handler.on("set_user_cloud_storage",function(t){wx.setUserCloudStorage({KVDataList:t.kvdata,success:function(t){},fail:function(t){},complete:function(t){}})}),e.handler.on("get_user_cloud_storage",function(t){wx.setUserCloudStorage({KVDataList:t.kvlist,success:function(t){},fail:function(t){},complete:function(t){}})}),e.handler.on("get_friend_cloud_storage",function(t){wx.getFriendCloudStorage({KVDataList:t.kvlist,success:function(t){},fail:function(t){},complete:function(t){}})}),e.handler.on("get_friend_cloud_storage",function(t){wx.getFriendCloudStorage({KVDataList:t.kvlist,success:function(t){},fail:function(t){},complete:function(t){}})}),e.handler.on("get_group_cloud_storage",function(t){wx.getGroupCloudStorage({shareTicket:t.shareTicket,KVDataList:t.kvlist,success:function(t){},fail:function(t){},complete:function(t){}})}),e.handler.on("post_message",function(t){OpenDataContext.postMessage(t.message)}),e.handler.on("exit",function(t){wx.exitMiniProgram({success:function(t){},fail:function(t){},complete:function(t){}})}),e.handler.on("gc",function(t){wx.triggerGC()}),wx.onHide(function(t){wx.__pause_begin_time=(new Date).getTime(),cc.director.pause()}),wx.onShow(function(t){wx.__pause_interval_time=(new Date).getTime()-wx.__pause_begin_time,e.handler.emit("share_back",t),e.handler.emit("resume_game",t),console.log("===============>\u4e3b\u52a8\u62c9\u8d77\u6e38\u620f\u6e32\u67d3\uff01"),console.log(t),cc.director.resume(),e.handler.emit("reconnection")}),wx.onError(function(t){console.log("\u6355\u83b7\u5168\u5c40\u9519\u8bef\u4fe1\u606f",t),t&&"string"==typeof t&&t.indexOf("writeFileSync")>-1&&(console.log("\u91ca\u653e\u7f13\u5b58\u6587\u4ef6"),e.handler.emit("clean_assets"))}),console._error=console.error,console.error=function(t){t&&"string"==typeof t&&t.indexOf("writeFileSync")>-1&&(console.log("\u91ca\u653e\u7f13\u5b58\u6587\u4ef6"),e.handler.emit("clean_assets")),console._error(t)},wx.showShareMenu({withShareTicket:!0}),wx.aldOnShareAppMessage(function(t){var o=e.assets.data.share.default[e.modules.unit.random(0,e.assets.data.share.default.length-1)],n={title:o.title,imageUrl:o.imageUrl,imageUrlId:o.imageUrlId,query:"default=1"};return e.handler.emit("send_event",{key:"\u5206\u4eab",value:n}),n}),e.handler.on("send_event",function(t){try{cc.log(t),wx.aldSendEvent(t.key,t.value)}catch(t){cc.log(t)}}),e.handler.on("send_uniqueness_event",function(t){try{cc.sys.localStorage.getItem(t.key)||(cc.sys.localStorage.setItem(t.key,"1"),wx.aldSendEvent(t.key,t.value))}catch(t){cc.log(t)}}),e.handler.emit("send_event",{key:"\u542f\u52a8\u6e38\u620f",value:{platform:"wxgame",time:(new Date).getTime()}}),wx.__show=!1,setTimeout(function(){e.handler.emit("create_banner",{})},3e4),e.handler.on("wx_pay",function(t){if(t&&t.app_id&&t.packageS){var e=void 0,o=void 0,n=void 0,r=void 0,i=void 0,s=void 0;t.server?(e=t.app_id,o=t.timeStamp,n=t.nonecStr,r=t.packageS,i=t.signType,s=t.paySign):(e=String(t.app_id),o=String(Math.floor((new Date).getTime()/1e3)),n=randomNonceStr(),r=String(t.packageS),i="MD5",s=CryptoJS.MD5("app_id="+e+"&nonecStr="+n+"&package="+packages+"&signType="+i+"&timeStamp="+o).toString().toUpperCase()),wx.requestPayment({timeStamp:o,nonecStr:n,package:r,signType:i,paySign:s,success:function(){},fail:function(t){console.error("==============>\u8c03\u7528\u5fae\u4fe1\u652f\u4ed8\u63a5\u53e3\u5931\u8d25\uff1a\r\n",t,"\r\n==============>")},complete:function(){}})}else console.error("\u53d1\u8d77\u5fae\u4fe1\u652f\u4ed8\u7f3a\u5c11\u5fc5\u8981\u7684\u53c2\u6570")}),e.handler.on("wx_mi_pay",function(t){wx.requestMidasPayment({mode:"game",env:cc.m.res.config.wx_mi_pay_env,offerId:"1450019246",currencyType:"CNY",platform:"android",buyQuantity:10*Number(t.rmb_number),zoneId:"1",success:function(e){void 0!==t.consumType&&"chongzhi"!==t.consumType||(protocol_command.vali_top_up_order_number.param_list=t.user_id+"\r\n"+t.recharge_id+"\r\n"+t.platform_id+"\r\n"+t.pay_id,NetworkManager.register(protocol_command.vali_top_up_order_number.code,null,null,null,instance,function(t){console.log("======>\u540e\u53f0\u6536\u5230\u524d\u7aef\u4ed8\u6b3e\u6210\u529f\u901a\u77e5")},!1,null))},fail:function(t){console.error("==============>\u8c03\u7528\u5fae\u4fe1\u7c73\u5927\u5e08\u865a\u62df\u652f\u4ed8\u63a5\u53e3\u5931\u8d25\uff1a\r\n",t,"\r\n==============>")},complete:function(){}})}),e.handler.on("weixin_official_balance_look_up",function(t){var o=t.order_number,n=t.order_event||"";cc.m.net.http.post(cc.m.net.protocol._pack("vali_top_up_order_number",cc.m.db.user_info.role_id,o,"wxmidas","android","1450020360",e.platform.info.code,n),function(){0===cc.m.db.wx_pay_state&&e.handler.emit("weixin_official_recharge",t)},function(){})}),e.handler.on("weixin_official_recharge",function(t){t.server_number;var o=t.order_money;wx.requestMidasPayment({mode:"game",env:cc.m.res.config.wx_mi_pay_env,offerId:"1450020360",currencyType:"CNY",platform:"android",buyQuantity:100*Number(o),zoneId:"1",success:function(o){e.handler.emit("weixin_official_balance_look_up",t)},fail:function(t){console.error("==============>\u8c03\u7528\u5fae\u4fe1\u7c73\u5927\u5e08\u865a\u62df\u652f\u4ed8\u63a5\u53e3\u5931\u8d25\uff1a\r\n",t,"\r\n==============>")},complete:function(){}})}),e.handler.on("recharge",function(t){"android"===r.platform&&cc.m.res.config.android_official_recharge?e.handler.emit("weixin_official_balance_look_up",t):(t.order_money=100*t.order_money,wx.getFileSystemManager().readFile({filePath:"app-config.json",encoding:"utf-8",success:function(o){var n=JSON.parse(o.data),r="";for(var i in n.navigateToMiniProgramAppIdList)r.length>0&&(r+=","),r+=n.navigateToMiniProgramAppIdList[i];var s="game_appid=wxappid&game_openid="+e.platform.info.code+"&limit="+cc.m.db.user_info.t9+"&h5limit="+cc.m.db.user_info.t9+"&appidList="+r;console.log(s),cc.m.net.http.request("https://mprogram.boomegg.cn/wxpay/paycheck",s,"application/x-www-form-urlencoded","POST",null,null,function(o){if(o=JSON.parse(o),console.log(o),0==o.ret){var n="game_appid=wxappid&game_openid="+e.platform.info.code+"&price="+t.order_money+"&limit="+cc.m.db.user_info.t9+"&h5limit="+cc.m.db.user_info.t9+"&appidList="+r;console.log(n),cc.m.net.http.request("https://mprogram.boomegg.cn/wxpay/paymethod",n,"application/x-www-form-urlencoded","POST",null,null,function(o){o=JSON.parse(o),console.log(o),0==o.ret&&(1==o.data.pay_method?e.handler.emit("weixin_recharge",t):2==o.data.pay_method&&e.handler.emit("weixin_customer",t))},function(t){cc.log(t)},null)}else e.handler.emit("home_button_recharge_tip")},function(t){cc.log(t)},null)},complete:function(t){}}))}),e.handler.on("init_recharge",function(t){wx.getFileSystemManager().readFile({filePath:"app-config.json",encoding:"utf-8",success:function(t){var o=JSON.parse(t.data),n="";for(var r in o.navigateToMiniProgramAppIdList)n.length>0&&(n+=","),n+=o.navigateToMiniProgramAppIdList[r];var i="game_appid=wxappid&game_openid="+e.platform.info.code+"&limit="+cc.m.db.user_info.t9+"&h5limit="+cc.m.db.user_info.t9+"&appidList="+n;console.log(i),cc.m.net.http.request("https://mprogram.boomegg.cn/wxpay/paycheck",i,"application/x-www-form-urlencoded","POST",null,null,function(t){t=JSON.parse(t),console.log(t),0==t.ret?cc.m.db.cache.open_recharge=!0:cc.m.db.cache.open_recharge=!1,console.log(cc.m.db.cache.open_recharge),e.handler.emit("start_game")},function(t){cc.m.db.cache.open_recharge=!1,e.handler.emit("start_game")},null)},complete:function(t){}})}),e.handler.on("weixin_recharge",function(t){var o=t.server_number,n=t.order_number,r=t.order_money,i=t.goods_name,s=t.goods_desc,c=t.order_event||"";wx.navigateToMiniProgram({appId:"wx4b6881e66a11e691",path:"pages/index/index",extraData:{appid:"wxappid",openid:e.platform.info.code,orderid:n,amount:r,params:o+"_"+n+"|"+c,orderTitle:""+i,orderDesc:""+s}})}),e.handler.on("refresh_open_recharge",function(t){wx.getFileSystemManager().readFile({filePath:"app-config.json",encoding:"utf-8",success:function(t){var o=JSON.parse(t.data),n="";for(var r in o.navigateToMiniProgramAppIdList)n.length>0&&(n+=","),n+=o.navigateToMiniProgramAppIdList[r];var i="game_appid=wxappid&game_openid="+e.platform.info.code+"&limit="+cc.m.db.user_info.t9+"&h5limit="+cc.m.db.user_info.t9+"&appidList="+n;console.log(i),cc.m.net.http.request("https://mprogram.boomegg.cn/wxpay/paycheck",i,"application/x-www-form-urlencoded","POST",null,null,function(t){t=JSON.parse(t),console.log(t),0==t.ret?(cc.m.db.cache.open_recharge=!0,e.handler.emit("listener_activity_add_event"),e.handler.emit("home_player_info_update_draw_player_info_t9")):cc.m.db.cache.open_recharge=!1,console.log(cc.m.db.cache.open_recharge)},function(t){cc.m.db.cache.open_recharge=!1},null)},complete:function(t){}})}),e.handler.on("weixin_customer",function(t){var e=t.server_number,o=(t.order_number,t.order_mould_id),n=t.order_money,r=t.goods_name,i=t.goods_desc,s=t.order_event||"";wx.openCustomerServiceConversation({sessionFrom:e+"_"+r+"_"+i+"_"+o+"_"+n+"|"+s,showMessageCard:!0,sendMessageTitle:"\u5145\u503c",sendMessagePath:"/pages/index/index",sendMessageImg:"http://ad-static.boomegg.cn/doc/csmsg.png",success:function(t){},fail:function(t){},complete:function(t){}})}),e.handler.on("customer",function(t){wx.openCustomerServiceConversation({sessionFrom:"",showMessageCard:!1,sendMessageTitle:"",sendMessagePath:"",sendMessageImg:"",success:function(t){},fail:function(t){},complete:function(t){}})})}},cc._RF.pop()},{"./ald/ald-game.js":"ald-game",Utils:"Utils"}],about_dialog:[function(t,e,o){"use strict";cc._RF.push(e,"d535cGe3u5Mb7Pwe5mqsS6R","about_dialog");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e=r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],"ald-game-conf":[function(t,e,o){"use strict";cc._RF.push(e,"896bfmB19dIqaUNVMDR7yOn","ald-game-conf"),o.app_key="152e47e2e86cc5d23aa086dce1beb581",o.getLocation=!1,o.useOpen=!1,o.openKey="",cc._RF.pop()},{}],"ald-game":[function(t,e,o){"use strict";cc._RF.push(e,"a0442nmjOxKdouaBpJ1gOW6","ald-game");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.exports={initialize:function(){!function(){function e(){var t="";try{t=wx.getStorageSync("aldstat_op")}catch(e){t=wx.getStorageSync("aldstat_op")}if(""===t){if(""===f)return"";try{v=t=wx.getStorageSync(f),t&&wx.setStorageSync("aldstat_op",t)}catch(e){v=t=wx.getStorageSync(f),t&&wx.setStorageSync("aldstat_op",t)}}return t}function o(t){function e(t){return Object.prototype.toString.call(t)}var o={};return"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(t,e){o["[object "+t+"]"]=t.toLowerCase()}),null==t?t:"object"==(void 0===t?"undefined":n(t))||"function"==typeof t?o[e.call(t)]||"object":void 0===t?"undefined":n(t)}function r(t){for(var e in t)if("object"==n(t[e])&&null!==t[e])return!0;return!1}function i(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()+t()+t()+t()+t()}function s(t,o){function n(){return new Promise(function(e,o){wx.request({url:"https://"+u+".aldwx.com/d.html",data:t,header:{se:m||"",op:v||"",img:S||""},method:"GET",fail:function(){e("")},success:function(t){e(200==t.statusCode?"":"status error")}})})}d.useOpen&&e(),w++,t.as=X,t.at=x,t.rq_c=w,t.ifo=_,t.ak=d.app_key,t.uu=y,t.v=p,t.st=Date.now(),t.ev=o,t.te=h,t.wsr=O,""!==c(t.ufo)&&(t.ufo=t.ufo),t.ec=b,d.useOpen?""===v?F.push(n):(wx.Queue.push(n),F.concat()):wx.Queue.push(n)}function c(t){if(void 0===t||""===t)return"";var e={};for(var o in t)"rawData"!=o&&"errMsg"!=o&&(e[o]=t[o]);return e}function a(t){var e={};for(var o in t)e[o]=t[o];return e}function l(t){for(var e="",o=0;o<t.length;o++)t[o].length>e.length&&(e=t[o]);return e}var p="3.2.0",u="glog",d=t("./ald-game-conf");""===d.app_key&&console.error("\u8bf7\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u586b\u5199\u60a8\u7684app_key"),d.useOpen&&console.warn("\u63d0\u793a\uff1a\u5f00\u542f\u4e86useOpen\u914d\u7f6e\u540e\uff0c\u5982\u679c\u4e0d\u4e0a\u4f20\u7528\u6237opendId\u5219\u4e0d\u4f1a\u4e0a\u62a5\u6570\u636e\u3002"),d.app_key=d.app_key.replace(/\s/g,"");var f=d.openKey,h="wg";wx.request({url:"https://"+u+".aldwx.com/config/app.json",method:"GET",success:function(t){200===t.statusCode&&(t.data.version>p&&console.warn("\u60a8\u7684SDK\u4e0d\u662f\u6700\u65b0\u7248\u672c\uff0c\u8bf7\u5c3d\u5feb\u5347\u7ea7\uff01"),t.data.warn&&console.warn(t.data.warn),t.data.error&&console.error(t.data.error))}});var _="",y=function(){var t="";try{t=wx.getStorageSync("aldstat_uuid"),wx.setStorageSync("ald_ifo",!0)}catch(e){t="uuid_getstoragesync"}if(t)_=!1;else{t=i(),_=!0;try{wx.setStorageSync("aldstat_uuid",t)}catch(t){wx.setStorageSync("aldstat_uuid","uuid_getstoragesync")}}return t}(),g={},m="",v=e(),b=0,w="",O=wx.getLaunchOptionsSync(),G=Date.now(),x=""+Date.now()+Math.floor(1e7*Math.random()),X=""+Date.now()+Math.floor(1e7*Math.random()),k=0,P="",S="",R=!0,C=!1,A=["aldSendEvent","aldOnShareAppMessage","aldShareAppMessage","aldSendSession","aldSendOpenid","aldLevelEvent"],j=["payStart","paySuccess","payFail","die","revive","tools","award"],M=["complete","fail"],E=wx.getStorageSync("ald_level_time")||0,N=wx.getStorageSync("ald_level_session")||"";void 0===wx.Queue&&(wx.Queue=new function(){this.concurrency=4,this.queue=[],this.tasks=[],this.activeCount=0;var t=this;this.push=function(e){this.tasks.push(new Promise(function(o,n){var r=function(){t.activeCount++,e().then(function(t){o(t)}).then(function(){t.next()})};t.activeCount<t.concurrency?r():t.queue.push(r)}))},this.all=function(){return Promise.all(this.tasks)},this.next=function(){t.activeCount--,t.queue.length>0&&t.queue.shift()()}},wx.Queue.all());var F=new function(){this.request=[],this.push=function(t){this.request.length>=18?(this.request.shift(),this.request.push(t)):this.request.push(t)},this.concat=function(){this.request.map(function(t){wx.Queue.push(t)}),this.request=[]}};Promise.all([new Promise(function(t,e){wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(e){S=l(e.userInfo.avatarUrl.split("/")),t(e)},fail:function(){t("")}}):t("")},fail:function(){t("")}})}),new Promise(function(t,e){wx.getNetworkType({success:function(e){t(e)},fail:function(){t("")}})}),new Promise(function(t,e){d.getLocation?wx.getLocation({success:function(e){t(e)},fail:function(){t("")}}):wx.getSetting({success:function(e){e.authSetting["scope.userLocation"]?(wx.getLocation({success:function(e){t(e)},fail:function(){t("")}}),t("")):t("")},fail:function(){t("")}})})]).then(function(t){""!==t[2]?(g.lat=t[2].latitude||"",g.lng=t[2].longitude||"",g.spd=t[2].speed||""):(g.lat="",g.lng="",g.spd=""),""!==t[1]?g.nt=t[1].networkType||"":g.nt="";var e=a(g);""!==t[0]&&(e.ufo=t[0],P=t[0]),s(e,"init")}),wx.onShow(function(t){if(O=t,k=Date.now(),!R&&!C){x=""+Date.now()+Math.floor(1e7*Math.random()),_=!1;try{wx.setStorageSync("ald_ifo",!1)}catch(t){}}R=!1,C=!1;var e=a(g),o=a(g);e.sm=k-G,t.query.ald_share_src&&t.shareTicket&&"1044"===t.scene?(o.tp="ald_share_click",new Promise(function(t,e){"1044"==O.scene?wx.getShareInfo({shareTicket:O.shareTicket,success:function(e){t(e)},fail:function(){t("")}}):t("")}).then(function(t){o.ct=t,s(o,"event")})):t.query.ald_share_src&&(o.tp="ald_share_click",o.ct="1",s(o,"event")),s(e,"show")}),wx.onHide(function(){wx.setStorageSync("ald_level_session","");var t=a(g);t.dr=Date.now()-k,""===P?wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(e){t.ufo=e,P=e,S=l(e.userInfo.avatarUrl.split("/")),s(t,"hide")}}):s(t,"hide")}}):s(t,"hide")}),wx.onError(function(t){var e=a(g);e.tp="ald_error_message",e.ct=t,b++,s(e,"event")});var D={aldSendEvent:function(t,e){var o=a(g);if(""!==t&&"string"==typeof t&&t.length<=255)if(o.tp=t,"string"==typeof e&&e.length<=255)o.ct=String(e),s(o,"event");else if("object"==(void 0===e?"undefined":n(e))){if(JSON.stringify(e).length>=255)return void console.error("\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u53c2\u6570\u4e0d\u80fd\u8d85\u8fc7255\u4e2a\u5b57\u7b26");if(r(e))return void console.error("\u4e8b\u4ef6\u53c2\u6570\uff0c\u53c2\u6570\u5185\u90e8\u53ea\u652f\u6301Number,String\u7b49\u7c7b\u578b\uff0c\u8bf7\u53c2\u8003\u63a5\u5165\u6587\u6863");for(var i in e)"number"==typeof e[i]&&(e[i]=e[i]+"s##");o.ct=JSON.stringify(e),s(o,"event")}else void 0===e||""===e?s(o,"event"):console.error("\u4e8b\u4ef6\u53c2\u6570\u5fc5\u987b\u4e3aString,Object\u7c7b\u578b,\u4e14\u53c2\u6570\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7255\u4e2a\u5b57\u7b26");else console.error("\u4e8b\u4ef6\u540d\u79f0\u5fc5\u987b\u4e3aString\u7c7b\u578b\u4e14\u4e0d\u80fd\u8d85\u8fc7255\u4e2a\u5b57\u7b26")},aldOnShareAppMessage:function(t){wx.onShareAppMessage(function(){C=!0;var e=t(),n="";n=void 0!==O.query.ald_share_src?void 0!==e.query?(O.query.ald_share_src.indexOf(y),e.query+"&ald_share_src="+O.query.ald_share_src+","+y):(O.query.ald_share_src.indexOf(y),"ald_share_src="+O.query.ald_share_src+","+y):void 0!==e.query?e.query+"&ald_share_src="+y:"ald_share_src="+y,"undefined"!=o(e.ald_desc)&&(n+="&ald_desc="+e.ald_desc),e.query=n;var r=a(g);return r.ct=e,r.ct.sho=1,r.tp="ald_share_chain",s(r,"event"),e})},aldShareAppMessage:function(t){C=!0;var e=t,n="";n=void 0!==O.query.ald_share_src?void 0!==e.query?(O.query.ald_share_src.indexOf(y),e.query+"&ald_share_src="+O.query.ald_share_src+","+y):(O.query.ald_share_src.indexOf(y),"ald_share_src="+O.query.ald_share_src+","+y):void 0!==e.query?e.query+"&ald_share_src="+y:"ald_share_src="+y;var r=a(g);"undefined"!=o(e.ald_desc)&&(n+="&ald_desc="+e.ald_desc),e.query=n,r.ct=e,r.tp="ald_share_chain",s(r,"event"),wx.shareAppMessage(e)},aldSendSession:function(t){if(""!==t&&t){var e=a(g);e.tp="session",e.ct="session",m=t,""===P?wx.getSetting({success:function(t){t.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(t){e.ufo=t,s(e,"event")}}):s(e,"event")}}):(e.ufo=P,""!==P&&(e.gid=""),s(e,"event"))}else console.error("\u8bf7\u4f20\u5165\u4ece\u540e\u53f0\u83b7\u53d6\u7684session_key")},aldSendOpenid:function(t){if(""!==t&&t){v=t,wx.setStorageSync("aldstat_op","openid");var e=a(g);e.tp="openid",e.ct="openid",s(e,"event")}else console.error("openID\u4e0d\u80fd\u4e3a\u7a7a")}};wx.aldStage=new function(){function t(t){return!/^\d+(.\d+)*$/.test(t.stageId)||t.stageId.length>32||isNaN(Number(t.stageId))?(console.warn("\u5173\u5361stageId\u5fc5\u987b\u7b26\u5408\u4f20\u53c2\u89c4\u5219,\u8bf7\u53c2\u8003\u6587\u6863\u3002"),!1):!("string"!==o(t.stageName)||t.stageName.length>32)||(console.warn("\u5173\u5361\u540d\u79f0\u4e3a\u5fc5\u4f20\u5b57\u6bb5,\u4e14\u957f\u5ea6\u5c0f\u4e8e32\u4e2a\u5b57\u7b26,\u8bf7\u53c2\u8003\u6587\u6863"),!1)}var e="",n="",r=0;this.onStart=function(s){if(t(s)){var c={};r=Date.now(),c.sid=s.stageId,c.snm=s.stageName,("string"===o(s.userId)&&s.userId)<32?c.uid=s.userId:c.uid="",c.state="start",n=i(),e=c,this.request()}},this.onRunning=function(n){if(t(n)){var r={params:{}};if(("string"===o(n.userId)&&n.userId)<32?r.uid=n.userId:r.uid="","string"!==o(n.event)&&-1===j.join(",").indexOf(n.event+","))return void console.warn("\u5173\u5361running\u72b6\u6001\u4e2d\u4ec5\u652f\u6301"+j.join(",")+"\u4e8b\u4ef6\u7c7b\u578b\uff0c\u4e14\u4e3a\u5fc5\u4f20\u5b57\u6bb5\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\u6587\u6863\u3002");if(r.event=n.event,"object"!==o(n.params))return void console.warn("\u5173\u5361running\u72b6\u6001\u4e2dparams\u4e3a\u5fc5\u4f20\u5b57\u6bb5\uff0c\u4e14\u8be5\u5b57\u6bb5\u9700\u4e3aObject\u7c7b\u578b\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\u6587\u6863\u3002");if("string"!==o(n.params.itemName)||n.params.itemName.length>32)return void console.warn("\u9053\u5177/\u5546\u54c1\u540d\u79f0\u4e3a\u5fc5\u4f20\u5b57\u6bb5\uff0c\u4e14\u957f\u5ea6\u5c0f\u4e8e32\u4e2a\u5b57\u7b26\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\u6587\u6863");r.params.itnm=n.params.itemName,"string"===o(n.params.itemId)&&n.params.itemId.length<32&&(r.params.itid=n.params.itemId),"number"===o(n.params.itemCount)&&toString(n.params.itemCount).length<32?r.params.itco=n.params.itemCount:r.params.itco=1,-1!==n.event.indexOf("pay")&&("number"===o(n.params.itemMoney)&&toString(n.params.itemMoney).length<32?r.params.money=n.params.itemMoney:r.params.money=0),"string"===o(n.params.desc)&&n.params.desc.length<64&&(r.params.desc=n.params.desc),r.state="running",r.sid=n.stageId,r.snm=n.stageName,e=r,this.request()}},this.onEnd=function(n){if(t(n)){var i={state:"end"};if(("string"===o(n.userId)&&n.userId)<32?i.uid=n.userId:i.uid="",!o(n.event)&&-1!==M.join(",").indexOf(n.event+","))return void M.join(",");i.sid=n.stageId,i.snm=n.stageName,i.event=n.event,i.sdr=0!==r?Date.now()-r:"",i.params={},"object"===o(n.params)&&"string"===o(n.params.desc)&&n.params.desc.length<64&&(i.params.desc=n.params.desc),e=i,this.request()}},this.request=function(){var t=a(g);e.ss=n,t.ct=e,s(t,"screen")}},wx.aldLevel=new function(){function t(t){return!/^\d+(.\d+)*$/.test(t.levelId)||t.levelId.length>32||isNaN(Number(t.levelId))?(console.warn("levelId\u5fc5\u987b\u7b26\u5408\u4f20\u53c2\u89c4\u5219,\u8bf7\u53c2\u8003\u6587\u6863\u3002"),!1):!("string"!==o(t.levelName)||t.levelName.length>32)||(console.warn("levelName\u4e3a\u5fc5\u4f20\u5b57\u6bb5,\u4e14\u957f\u5ea6\u5c0f\u4e8e32\u4e2a\u5b57\u7b26,\u8bf7\u53c2\u8003\u6587\u6863"),!1)}var e="",n="",r=0;this.onInitLevel=function(r){if(t(r)){var s={};""==N?(n=i(),wx.setStorageSync("ald_level_session",n)):n=N,s.lid=r.levelId,s.lnm=r.levelName,("string"===o(r.userId)&&r.userId)<32?s.uid=r.userId:s.uid="",s.un=r.userName,s.state="init",e=s,this.request()}},this.onSetLevel=function(s){if(t(s)){var c={};n=i(),wx.setStorageSync("ald_level_session",n),c.lid=s.levelId,c.lnm=s.levelName,("string"===o(s.userId)&&s.userId)<32?c.uid=s.userId:c.uid="",c.un=s.userName,c.state="set",c.tmr=0!==E?Date.now()-E:"",r=Date.now(),wx.setStorageSync("ald_level_time",r),e=c,this.request()}},this.onPaySuccess=function(n){if(t(n)){var r={params:{}};if("object"!==o(n.params))return void console.warn("\u5173\u5361paySuccess\u72b6\u6001\u4e2dparams\u4e3a\u5fc5\u4f20\u5b57\u6bb5\uff0c\u4e14\u8be5\u5b57\u6bb5\u9700\u4e3aObject\u7c7b\u578b\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\u6587\u6863\u3002");"number"===o(n.params.amount)&&toString(n.params.amount).length<32?r.params.am=n.params.amount:r.params.am=0,"string"===o(n.params.desc)&&n.params.desc.length<64&&(r.params.desc=n.params.desc),r.lid=n.levelId,r.lnm=n.levelName,("string"===o(n.userId)&&n.userId)<32?r.uid=n.userId:r.uid="",r.un=n.userName,r.state="paySuccess",e=r,this.request()}},this.onPayFail=function(n){if(t(n)){var r={params:{}};if("object"!==o(n.params))return void console.warn("\u5173\u5361payFile\u72b6\u6001\u4e2dparams\u4e3a\u5fc5\u4f20\u5b57\u6bb5\uff0c\u4e14\u8be5\u5b57\u6bb5\u9700\u4e3aObject\u7c7b\u578b\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\u6587\u6863\u3002");"number"===o(n.params.amount)&&toString(n.params.amount).length<32?r.params.am=n.params.amount:r.params.am=0,"string"===o(n.params.desc)&&n.params.desc.length<64&&(r.params.desc=n.params.desc),r.lid=n.levelId,r.lnm=n.levelName,("string"===o(n.userId)&&n.userId)<32?r.uid=n.userId:r.uid="",r.un=n.userName,r.state="payFail",e=r,this.request()}},this.request=function(){var t=a(g);e.ls=n,t.ct=e,s(t,"level")}};for(var I=0;I<A.length;I++)!function(t,e){Object.defineProperty(wx,t,{value:e,writable:!1,enumerable:!0,configurable:!0})}(A[I],D[A[I]]);try{var B=wx.getSystemInfoSync();g.br=B.brand||"",g.md=B.model,g.pr=B.pixelRatio,g.sw=B.screenWidth,g.sh=B.screenHeight,g.ww=B.windowWidth,g.wh=B.windowHeight,g.lang=B.language,g.wv=B.version,g.sv=B.system,g.wvv=B.platform,g.fs=B.fontSizeSetting,g.wsdk=B.SDKVersion,g.bh=B.benchmarkLevel||"",g.bt=B.battery||"",g.wf=B.wifiSignal||"",g.lng="",g.lat="",g.nt="",g.spd="",g.ufo=""}catch(t){}}()}},cc._RF.pop()},{"./ald-game-conf":"ald-game-conf"}],background:[function(t,e,o){"use strict";cc._RF.push(e,"38bf7HayjNEArpbGA2uzxT8","background");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroundAnimation=null,e}return n(e,t),e.prototype.init=function(){},e.prototype.start=function(){},r([c({type:cc.Node,displayName:"\u80cc\u666f",tooltip:"\u80cc\u666f"})],e.prototype,"backgroundAnimation",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],battle_pause:[function(t,e,o){"use strict";cc._RF.push(e,"671374D4nZDzY8L2NlHIol2","battle_pause");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onClickShareButton=function(t,e){i.GhysX.handler.emit("share",{})},e.prototype.onClickExitButton=function(t,e){},e.prototype.init=function(){},e.prototype.onLoad=function(){i.GhysX.handler.emit("show_banner",{name:"\u6218\u6597\u6682\u505c\u754c\u9762 Banner",forced:!0,adUnitId:"adunit-296dc29e08573227"}),i.GhysX.handler.emit("create_interstitial_ad",{name:"\u6218\u6597\u6682\u505c\u754c\u9762-\u63d2\u5c4f",adUnitId:"adunit-11916d5ff8fb319b"})},e.prototype.start=function(){},e=r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../../libs/ghysx/GhysX":"GhysX"}],battle_result:[function(t,e,o){"use strict";cc._RF.push(e,"65d1aIUu6BI8pXvVIag4B5i","battle_result");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=null,e.score=null,e.highest_score=null,e}return n(e,t),e.prototype.onClickStartButton=function(t,e){cc.sys.platform===cc.sys.WECHAT_GAME&&i.GhysX.local.stage_info.id<=i.GhysX.db.cache.battle_info.id?i.GhysX.db.cache.battle_info.id%9==0?i.GhysX.handler.emit("create_video",{adUnitId:"adunit-32a72c3327fadca2",success:function(t){this.unlockNextStage(),i.GhysX.graphics.manager.close("battle_result"),i.GhysX.handler.emit("next_battle")}.bind(this),cancel:function(t){}.bind(this),fail:function(t){t&&1005==t.errCode&&(this.unlockNextStage(),i.GhysX.graphics.manager.close("battle_result"),i.GhysX.handler.emit("next_battle"),i.GhysX.graphics.draw({url:"prefabs/common/tip_message",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.DIALOG,group_name:"active",script:"tip_message",invoke:"init",params:{message:"\u5f53\u524d\u65e0\u89c6\u9891\u5e7f\u544a\uff01"},complete:function(t){}}))}.bind(this)}):i.GhysX.local.stage_info.id%3==0?i.GhysX.handler.emit("create_video",{adUnitId:"adunit-70cc817cb8ec3c36",success:function(t){this.unlockNextStage(),i.GhysX.graphics.manager.close("battle_result"),i.GhysX.handler.emit("next_battle")}.bind(this),cancel:function(t){}.bind(this),fail:function(t){t&&1005==t.errCode&&(this.unlockNextStage(),i.GhysX.graphics.manager.close("battle_result"),i.GhysX.handler.emit("next_battle"),i.GhysX.graphics.draw({url:"prefabs/common/tip_message",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.DIALOG,group_name:"active",script:"tip_message",invoke:"init",params:{message:"\u5f53\u524d\u65e0\u89c6\u9891\u5e7f\u544a\uff01"},complete:function(t){}}))}.bind(this)}):(this.unlockNextStage(),i.GhysX.graphics.manager.close("battle_result"),i.GhysX.handler.emit("next_battle")):(this.unlockNextStage(),i.GhysX.graphics.manager.close("battle_result"),i.GhysX.handler.emit("next_battle"))},e.prototype.onClickBackButton=function(t,e){cc.sys.platform===cc.sys.WECHAT_GAME&&i.GhysX.local.stage_info.id<=i.GhysX.db.cache.battle_info.id&&(i.GhysX.db.cache.battle_info.id%9==0||i.GhysX.local.stage_info.id%3==0)||this.unlockNextStage(),i.GhysX.handler.emit("exit_battle")},e.prototype.onClickShareButton=function(t,e){i.GhysX.handler.emit("share",{})},e.prototype.unlockNextStage=function(){cc.sys.localStorage.setItem("local",JSON.stringify(i.GhysX.local))},e.prototype.init=function(){},e.prototype.onUpdateDraw=function(){i.GhysX.db.cache.battle_info.end_time=(new Date).getTime();var t=i.GhysX.db.cache.battle_info.end_time-i.GhysX.db.cache.battle_info.start_time;i.GhysX.db.cache.battle_info.interval=t,i.GhysX.local.stage_info.highest_score=Math.max(i.GhysX.local.stage_info.highest_score,i.GhysX.db.cache.battle_info.score),this.time.string=t/1e3+"\u79d2",this.score.string=i.GhysX.db.cache.battle_info.score,this.highest_score.string=i.GhysX.local.stage_info.highest_score},e.prototype.onLoad=function(){cc.log("total-score: ",i.GhysX.db.cache.battle_info.score),this.onUpdateDraw(),i.GhysX.handler.emit("show_banner",{name:"\u6218\u6597\u7ed3\u675f\u754c\u9762-Bannder",forced:!0,adUnitId:"adunit-75758fcb425cfc0b"}),i.GhysX.handler.emit("send_event",{key:"battle",value:i.GhysX.db.cache.battle_info})},e.prototype.start=function(){},e.prototype.onDestroy=function(){i.GhysX.handler.emit("hide_banner",{name:"\u6218\u6597\u7ed3\u675f\u754c\u9762-Bannder",forced:!0,adUnitId:"adunit-75758fcb425cfc0b"})},r([a({type:cc.Label,displayName:"\u98de\u884c\u65f6\u95f4",tooltip:"\u98de\u884c\u65f6\u95f4"})],e.prototype,"time",void 0),r([a({type:cc.Label,displayName:"\u79ef\u5206",tooltip:"\u79ef\u5206"})],e.prototype,"score",void 0),r([a({type:cc.Label,displayName:"\u6700\u9ad8\u79ef\u5206",tooltip:"\u6700\u9ad8\u79ef\u5206"})],e.prototype,"highest_score",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../libs/ghysx/GhysX":"GhysX"}],battle_ui:[function(t,e,o){"use strict";cc._RF.push(e,"18492ezZTNFO5lHJ0PaStxC","battle_ui");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../libs/ghysx/GhysX"),s=t("./components/skill_view"),c=t("../../resources/prefabs/battle/components/skill_btn"),a=cc._decorator,l=a.ccclass,p=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skillViewPrefab=null,e.player_1=null,e.player_2=null,e.player_1_sprite=null,e.player_2_sprite=null,e.player_1_skills=null,e.player_2_skills=null,e.skillBtns1=[],e.skillBtns2=[],e.score=null,e.score2=null,e.lift=null,e.lift2=null,e.liftProgress=null,e.liftProgress2=null,e.mileage=null,e.skills=null,e.pauseBtn=null,e._chapter_mould=null,e}return n(e,t),e.prototype.init=function(){this._chapter_mould=i.GhysX.res.chapter_moulds[i.GhysX.local.stage_info.id]},e.prototype.createSkillView=function(t){var e=cc.instantiate(this.skillViewPrefab);e.getComponent(s.default).init(t),this.skills.node.addChild(e)},e.prototype.createSkillViews=function(){switch(this.player_1_skills.active=!0,i.GhysX.local.stage_info.type){case 1:this.createSkillView(1),i.GhysX.platform.sys.pixelRatio>=3&&(this.player_1_skills.x+=100);break;default:this.player_2.active=!0,this.player_2_skills.active=!0,this.createSkillView(1),this.createSkillView(2)}},e.prototype.updateDraw=function(){this.score.string=""+i.GhysX.db.cache.battle_info.score1,this.score2.string=""+i.GhysX.db.cache.battle_info.score2;var t=!1;i.GhysX.db.cache.battle_info.score1>=150&&!i.GhysX.db.cache.battle_info.score1_buy1&&(i.GhysX.db.cache.battle_info.score1_buy1=!0,t=!0),i.GhysX.db.cache.battle_info.score1>=300&&!i.GhysX.db.cache.battle_info.score1_buy2&&(i.GhysX.db.cache.battle_info.score1_buy2=!0,t=!0),i.GhysX.db.cache.battle_info.score1>=500&&!i.GhysX.db.cache.battle_info.score1_buy3&&(i.GhysX.db.cache.battle_info.score1_buy3=!0,t=!0),t&&(i.GhysX.handler.emit("pause"),i.GhysX.graphics.manager.listener("start","battle_waiting",function(){i.GhysX.graphics.draw({url:"prefabs/battle/view/give_skill",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.VIEW_DIALOG,group_name:"battle",script:"give_skill",invoke:"init",params:{buy_type:i.GhysX.modules.unit.random(3,4)},complete:function(t){}.bind(this)})}.bind(this),null),i.GhysX.graphics.draw({url:"prefabs/battle/battle_waiting",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.BACKGROUND,group_name:i.GhysX.graphics.GROUP_NAME.BATTLE,script:"battle_waiting",invoke:"init",params:{open_mode:1},complete:function(t){}.bind(this)}))},e.prototype.updateDrawHp1=function(){this.lift.string=""+i.GhysX.db.cache.battle_info.lift1},e.prototype.updateDrawHp2=function(){this.lift2.string=""+i.GhysX.db.cache.battle_info.lift2},e.prototype.updateDrawHpProgress1=function(){this.liftProgress.progress=i.GhysX.db.cache.battle_info.lift1_progress,this.liftProgress.progress>=1&&i.GhysX.db.cache.battle_info.lift1<3&&(i.GhysX.db.cache.battle_info.lift1++,this.liftProgress.progress=0,i.GhysX.db.cache.battle_info.lift1_progress=0,this.updateDrawHp1())},e.prototype.updateDrawHpProgress2=function(){this.liftProgress2.progress=i.GhysX.db.cache.battle_info.lift2_progress,this.liftProgress2.progress>=1&&i.GhysX.db.cache.battle_info.lift2<3&&(i.GhysX.db.cache.battle_info.lift2++,this.liftProgress2.progress=0,i.GhysX.db.cache.battle_info.lift2_progress=0,this.updateDrawHp2())},e.prototype.eatingFruit=function(t,e){e.node.stopAllActions();var o=null;switch(t._player_id){case 1:o=this.liftProgress;break;case 2:o=this.liftProgress2}var n=e.node.parent.convertToNodeSpaceAR(o.node.convertToWorldSpaceAR(cc.Vec2.ZERO)),r=cc.sequence(cc.bezierTo(1,[cc.v2(0,0),cc.v2(n.x/2,n.y/2),n]),cc.callFunc(function(e){var o=i.GhysX.modules.unit.random(1,5)/50;switch(t._player_id){case 1:i.GhysX.db.cache.battle_info.lift1_progress+=o,this.updateDrawHpProgress1();break;case 2:i.GhysX.db.cache.battle_info.lift2_progress+=o,this.updateDrawHpProgress2()}e.destroy()}.bind(this)));e.node.runAction(r)},e.prototype.addSkill=function(t,e,o){for(var n in t){var r=t[n];r&&(r.skill_type==i.GhysX.db.cache.give_skill_type&&(r.count.string=""+i.GhysX.db.cache.give_skill_count,r.node.active=!0),r._player_id=e)}},e.prototype.showSkills=function(t){switch(i.GhysX.local.stage_info.type){case 1:this.player_1_skills.active=!0,this.addSkill(this.skillBtns1,1,t),i.GhysX.db.cache.battle_info.lift1+=i.GhysX.db.cache.heartbeat,this.updateDrawHp1();break;default:this.player_1_skills.active=!0,this.player_2_skills.active=!0,i.GhysX.db.cache.battle_info.lift1+=i.GhysX.db.cache.heartbeat,i.GhysX.db.cache.battle_info.lift2+=i.GhysX.db.cache.heartbeat,this.updateDrawHp1(),this.updateDrawHp2(),this.addSkill(this.skillBtns1,1,t),this.addSkill(this.skillBtns2,2,t)}i.GhysX.platform.sys.pixelRatio>=3&&(this.player_1_skills.x=50)},e.prototype.onUpdateDraw=function(){this.score.string=""+i.GhysX.local.stage_info.highest_score,this.mileage.string=""+i.GhysX.db.cache.battle_info.mileage,this.lift.string=""+i.GhysX.db.cache.battle_info.lift1,this.lift2.string=""+i.GhysX.db.cache.battle_info.lift2,this.liftProgress.progress=i.GhysX.db.cache.battle_info.lift1_progress,this.liftProgress2.progress=i.GhysX.db.cache.battle_info.lift2_progress,i.GhysX.graphics.draw({url:"sprites/%s/%s".format(1e3+i.GhysX.local.stage_info.bird1,1e3+i.GhysX.local.stage_info.bird1),mode:i.GhysX.graphics.MODE.ATLAS,asset_type:cc.SpriteAtlas,asset_name:"1",target:this.player_1_sprite,complete:function(t){}.bind(this)}),2==i.GhysX.local.stage_info.type&&i.GhysX.graphics.draw({url:"sprites/%s/%s".format(1e3+i.GhysX.local.stage_info.bird2,1e3+i.GhysX.local.stage_info.bird2),mode:i.GhysX.graphics.MODE.ATLAS,asset_type:cc.SpriteAtlas,asset_name:"1",target:this.player_2_sprite,complete:function(t){}.bind(this)})},e.prototype.onPause=function(){this.pauseBtn.node.active=!0},e.prototype.offPause=function(){this.pauseBtn.node.active=!1},e.prototype.go=function(){this.onUpdateDraw()},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.onLoad=function(){this.createSkillViews(),this.onUpdateDraw(),i.GhysX.handler.on("go",this.go,this),i.GhysX.handler.on("battle_ui_update_draw",this.updateDraw,this),i.GhysX.handler.on("battle_ui_update_draw_hp1",this.updateDrawHp1,this),i.GhysX.handler.on("battle_ui_update_draw_hp2",this.updateDrawHp2,this),i.GhysX.handler.on("battle_ui_update_draw_hp_progress1",this.updateDrawHpProgress1,this),i.GhysX.handler.on("battle_ui_update_draw_hp_progress2",this.updateDrawHpProgress2,this),i.GhysX.handler.on("battle_ui_eating_fruit",this.eatingFruit,this),i.GhysX.handler.on("battle_ui_show_skills",this.showSkills,this),i.GhysX.handler.on("battle_ui_on_pause",this.onPause,this),i.GhysX.handler.on("battle_ui_off_pause",this.offPause,this),i.GhysX.handler.on("pause",this.pause,this),i.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){i.GhysX.graphics.manager.group("hide",i.GhysX.graphics.GROUP_NAME.HOME),i.GhysX.graphics.manager.show("main_menu")},r([p({type:cc.Prefab,displayName:"\u6280\u80fd\u7ec4\u4ef6",tooltip:""})],e.prototype,"skillViewPrefab",void 0),r([p({type:cc.Node,displayName:"\u73a9\u5bb61",tooltip:""})],e.prototype,"player_1",void 0),r([p({type:cc.Node,displayName:"\u73a9\u5bb62",tooltip:""})],e.prototype,"player_2",void 0),r([p({type:cc.Sprite,displayName:"\u73a9\u5bb61\u56fe\u6807",tooltip:""})],e.prototype,"player_1_sprite",void 0),r([p({type:cc.Sprite,displayName:"\u73a9\u5bb62\u56fe\u6807",tooltip:""})],e.prototype,"player_2_sprite",void 0),r([p({type:cc.Node,displayName:"\u73a9\u5bb61\u6280\u80fd",tooltip:""})],e.prototype,"player_1_skills",void 0),r([p({type:cc.Node,displayName:"\u73a9\u5bb62\u73a9\u5bb6",tooltip:""})],e.prototype,"player_2_skills",void 0),r([p({type:c.default,displayName:"\u73a9\u5bb61\u6280\u80fd\u5b9e\u4f8b",tooltip:""})],e.prototype,"skillBtns1",void 0),r([p({type:c.default,displayName:"\u73a9\u5bb62\u73a9\u5bb6\u5b9e\u4f8b",tooltip:""})],e.prototype,"skillBtns2",void 0),r([p({type:cc.Label,displayName:"\u79ef\u5206",tooltip:""})],e.prototype,"score",void 0),r([p({type:cc.Label,displayName:"\u79ef\u52062",tooltip:""})],e.prototype,"score2",void 0),r([p({type:cc.Label,displayName:"\u751f\u547d",tooltip:""})],e.prototype,"lift",void 0),r([p({type:cc.Label,displayName:"\u751f\u547d2",tooltip:""})],e.prototype,"lift2",void 0),r([p({type:cc.ProgressBar,displayName:"\u751f\u547d\u8fdb\u5ea6",tooltip:""})],e.prototype,"liftProgress",void 0),r([p({type:cc.ProgressBar,displayName:"\u751f\u547d\u8fdb\u5ea6",tooltip:""})],e.prototype,"liftProgress2",void 0),r([p({type:cc.Label,displayName:" \u91cc\u7a0b",tooltip:""})],e.prototype,"mileage",void 0),r([p({type:cc.Layout,displayName:"\u6280\u80fd\u5217\u8868",tooltip:""})],e.prototype,"skills",void 0),r([p({type:cc.Button,displayName:"\u6682\u505c\u6309\u94ae",tooltip:""})],e.prototype,"pauseBtn",void 0),e=r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../libs/ghysx/GhysX":"GhysX","../../resources/prefabs/battle/components/skill_btn":"skill_btn","./components/skill_view":"skill_view"}],battle_waiting:[function(t,e,o){"use strict";cc._RF.push(e,"a79ceUWfuFHsJxylsh37eK+","battle_waiting");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../libs/ghysx/GhysX"),s=t("../../resources/prefabs/tutorial/guide"),c=cc._decorator,a=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.guidePrefab=null,e.player=null,e.friends=null,e._open_mode=0,e}return n(e,t),e.prototype.onClick=function(t,e){switch(this._open_mode){case 0:i.GhysX.handler.emit("go"),i.GhysX.handler.emit("jump",null);break;case 1:i.GhysX.handler.emit("jump",null)}i.GhysX.graphics.manager.close("battle_waiting")},e.prototype.initOpener=function(t){this._open_mode=~~t.data},e.prototype.init=function(t){this._open_mode=t.open_mode},e.prototype.createGuide=function(t,e){var o=cc.instantiate(this.guidePrefab);o.getComponent(s.default).init(),t.addChild(o),o.setPosition(e||cc.Vec2.ZERO)},e.prototype.onLoad=function(){switch(i.GhysX.local.stage_info.type){case 2:this.createGuide(this.friends,cc.v2(-1*i.GhysX.gui.frame.node.width/4,0)),this.createGuide(this.friends,cc.v2(i.GhysX.gui.frame.node.width/4,0));break;default:this.createGuide(this.player,cc.v2(0,0))}i.GhysX.handler.emit("battle_ui_off_pause"),i.GhysX.handler.emit("show_banner",{name:"\u6218\u6597\u7b49\u5f85\u754c\u9762 Banner",forced:!0,adUnitId:"adunit-bea341f00ce5a4ba"})},e.prototype.start=function(){},e.prototype.onDestroy=function(){i.GhysX.handler.emit("resume"),i.GhysX.handler.emit("hide_banner",{}),i.GhysX.handler.emit("battle_ui_on_pause")},r([l({type:cc.Prefab,displayName:"\u624b\u6307",tooltip:""})],e.prototype,"guidePrefab",void 0),r([l({type:cc.Node,displayName:"\u4e2a\u4eba\u6218",tooltip:""})],e.prototype,"player",void 0),r([l({type:cc.Node,displayName:"\u597d\u53cb\u6218",tooltip:""})],e.prototype,"friends",void 0),e=r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../libs/ghysx/GhysX":"GhysX","../../resources/prefabs/tutorial/guide":"guide"}],battle:[function(t,e,o){"use strict";cc._RF.push(e,"84e4656zoVDDJEWSiYSSsdM","battle");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.guide=null,e.giveSkill=null,e._chapter_mould=null,e}return n(e,t),e.prototype.init=function(t){this._chapter_mould=t.chapter_mould},e.prototype.enterMap=function(){i.GhysX.db.cache.battle_info={id:this._chapter_mould.id,type:this._chapter_mould.group,mileage:0,score:0,score1:0,score2:0,start_time:0,end_time:0,interval:0,role_count:this._chapter_mould.group,lift1:2,lift2:2,lift1_progress:0,lift2_progress:0,kill_boss_count:0,tree_count:0,bird1:null,bird2:null,revive:!0};var t=i.GhysX.res.tree_moulds[1];i.GhysX.db.cache.tree_info=t,i.GhysX.db.cache.tree_info.section_infos=t.section_info.splitss("!","|",",",parseInt),i.GhysX.db.cache.tree_info.section_infos[0][2]=i.GhysX.modules.array.serialize(i.GhysX.db.cache.tree_info.section_infos[0][1]),i.GhysX.db.cache.tree_info.section_infos[1][2]=i.GhysX.modules.array.serialize(i.GhysX.db.cache.tree_info.section_infos[1][1]),i.GhysX.graphics.manager.close("stage"),i.GhysX.handler.emit("battle_ui_remove_all_skill_1"),i.GhysX.handler.emit("battle_ui_remove_all_skill_2"),i.GhysX.graphics.draw({url:"prefabs/map/stages/stage",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.BACKGROUND,group_name:"battle",script:"stage",invoke:"init",params:{},complete:function(t){this.node.active=!0}.bind(this)}),i.GhysX.handler.emit("send_event",{key:"battle",value:{type:this._chapter_mould.group}})},e.prototype.nextBattle=function(){var t=i.GhysX.res.chapter_moulds[this._chapter_mould.id];t?(this._chapter_mould=t,this.enterMap()):(i.GhysX.graphics.manager.group("close","battle"),i.GhysX.graphics.manager.group("show",i.GhysX.graphics.GROUP_NAME.HOME))},e.prototype.exitBattle=function(){i.GhysX.graphics.manager.listener("show","main_menu",function(){i.GhysX.graphics.manager.group("close","battle"),i.GhysX.handler.emit(1==i.GhysX.local.stage_info.type?"open_player_select":"open_friends_select")},null),i.GhysX.graphics.manager.listener("show","main_menu",function(){i.GhysX.gui.frame.node.runAction(cc.callFunc(function(){i.GhysX.graphics.manager.hide("main_menu")}.bind(this)))},null),i.GhysX.graphics.manager.find("home")?i.GhysX.graphics.manager.group("show",i.GhysX.graphics.GROUP_NAME.HOME):i.GhysX.graphics.draw({url:"prefabs/home/home",mode:i.GhysX.graphics.MODE.VIEW,group_name:i.GhysX.graphics.GROUP_NAME.HOME,script:"home",invoke:"init",params:{},complete:function(t){i.GhysX.graphics.manager.group("show",i.GhysX.graphics.GROUP_NAME.HOME)}})},e.prototype.pause=function(){cc.director.getCollisionManager().enabled=!1,cc.director.getPhysicsManager().enabled=!1},e.prototype.resume=function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},e.prototype.onLoad=function(){this.enterMap(),i.GhysX.handler.on("next_battle",this.nextBattle,this),i.GhysX.handler.on("exit_battle",this.exitBattle,this),i.GhysX.handler.on("pause",this.pause,this),i.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){},e.prototype.onDestroy=function(){cc.log("battle")},r([a({type:cc.Prefab,displayName:"\u6559\u5b66\u7ec4\u4ef6",tooltip:""})],e.prototype,"guide",void 0),r([a({type:cc.Prefab,displayName:"\u5956\u52b1\u7ec4\u4ef6",tooltip:""})],e.prototype,"giveSkill",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../libs/ghysx/GhysX":"GhysX"}],bird_element:[function(t,e,o){"use strict";cc._RF.push(e,"c8c60LW8XVCJYlF9QKbE//E","bird_element");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxs=[],e.icon=null,e.btn=null,e.unlock=null,e._type=0,e._index=0,e._select=!1,e}return n(e,t),e.prototype.onClickButton=function(t,e){i.GhysX.handler.emit("select_bird_element",this),i.GhysX.os.audio.playEffect("music/effect/select",!1)},e.prototype.init=function(t,e){this._type=t,this._index=e},e.prototype.select=function(){this.boxs[0].active=!1,this.boxs[1].active=!0,this._select=!0},e.prototype.unselect=function(){this.boxs[0].active=!0,this.boxs[1].active=!1,this._select=!1},e.prototype.onLoad=function(){i.GhysX.graphics.draw({url:"sprites/%s/%s".format(1e3+this._index,1e3+this._index),mode:i.GhysX.graphics.MODE.ATLAS,asset_type:cc.SpriteAtlas,asset_name:"1",target:this.icon}),this.btn._onTouchBegan=this.btn.__onTouchBegan},e.prototype.start=function(){},r([a({type:cc.Node,displayName:"\u56fe\u6807\u80cc\u666f\u6846\u7ec4\u4ef6",tooltip:""})],e.prototype,"boxs",void 0),r([a({type:cc.Sprite,displayName:"\u56fe\u6807\u7ec4\u4ef6",tooltip:""})],e.prototype,"icon",void 0),r([a({type:cc.Button,displayName:"\u9009\u62e9\u6309\u94ae",tooltip:""})],e.prototype,"btn",void 0),r([a({type:cc.Label,displayName:"\u89e3\u9501\u63d0\u793a\u6587\u5b57",tooltip:""})],e.prototype,"unlock",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../libs/ghysx/GhysX":"GhysX"}],bird_selecter:[function(t,e,o){"use strict";cc._RF.push(e,"d0b7bhmgs9LI4CqHLMnq6SM","bird_selecter");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../components/bird_element"),s=t("../../../libs/ghysx/GhysX"),c=cc._decorator,a=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.birdPrefab=null,e.layout=null,e.startbtn=null,e._select_type=0,e._select_index=0,e._select_target=null,e._bird_elements=[],e}return n(e,t),e.prototype.onClickStart=function(t,e){this.startbtn.interactable=!1;for(var o=0,n=this._bird_elements;o<n.length;o++){var r=n[o];r.btn.interactable=!1,r._select||s.GhysX.shader.gray.gray(r.node)}s.GhysX.handler.emit("start_battle")},e.prototype.initBinder=function(t){this._select_type=~~t.data||this._select_type},e.prototype.onLoad=function(){s.GhysX.handler.on("select_bird_element",function(t){if(this._select_type==t._type)switch(this._select_target&&this._select_target.unselect(),this._select_index=t._index,this._select_target=t,this._select_target.select(),t._type){case 1:break;case 2:s.GhysX.local.stage_info.bird2=t._index;break;default:s.GhysX.local.stage_info.bird1=t._index}},this);for(var t=1;t<=10;t++){var e=cc.instantiate(this.birdPrefab),o=e.getComponent(i.default);switch(o.init(this._select_type,t),this.layout.node.addChild(e),this._select_type){case 2:s.GhysX.local.stage_info.bird2==t&&s.GhysX.handler.emit("select_bird_element",o);break;default:s.GhysX.local.stage_info.bird1==t&&s.GhysX.handler.emit("select_bird_element",o)}this._bird_elements.push(o)}},e.prototype.start=function(){},r([l({type:cc.Prefab,displayName:"\u5c0f\u9e1f\u9009\u9879\u7ec4\u4ef6",tooltip:""})],e.prototype,"birdPrefab",void 0),r([l({type:cc.Layout,displayName:"\u5c0f\u9e1f\u5217\u8868",tooltip:""})],e.prototype,"layout",void 0),r([l({type:cc.Button,displayName:"\u5f00\u59cb\u6309\u94ae",tooltip:""})],e.prototype,"startbtn",void 0),e=r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../libs/ghysx/GhysX":"GhysX","../components/bird_element":"bird_element"}],bird:[function(t,e,o){"use strict";cc._RF.push(e,"9c4dcJpwJtNhKP2Tnofoirv","bird");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../libs/ghysx/GhysX"),s=t("./bullet"),c=cc._decorator,a=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletPrefab=null,e.body=null,e.shield=null,e._player_id=0,e._sprite=null,e._stage=null,e._bird_id=0,e._jump_y=0,e._bullet_type=1,e._shield=!1,e._death=!1,e._reviving=!1,e}var o;return n(e,t),o=e,e.prototype.onCollisionEnter=function(t,e){var n=e.world;n.aabb,n.preAabb,n.transform,n.radius,n.position,n.points;switch(t.tag){case 8:var r=e.node.getComponent(o);if(!r._death){r.death();var s=r.node.x,c=r.node.y;i.GhysX.graphics.draw({url:"effects/hit/hit",mode:i.GhysX.graphics.MODE.PREFAB,asset_type:cc.Prefab,parent:this.node.parent,complete:function(t){t.node.setPosition(cc.v2(s,c))}.bind(this)}),i.GhysX.os.audio.playEffect("music/effect/hit",!1)}}},e.prototype.onCollisionStay=function(t,e){},e.prototype.onCollisionExit=function(t,e){},e.prototype.init=function(t,e,o){this._stage=t,this._bird_id=e,this._player_id=o},e.prototype.initSprite=function(t){this._sprite=t,t.node.getComponent(cc.PolygonCollider).enabled=!1},e.prototype.addShield=function(){this._shield=!0,this.shield.active=!0},e.prototype.removeShield=function(){this._shield=!1,this.shield.active=this._reviving},e.prototype.go=function(){this.shoot()},e.prototype.revive=function(){this._death=!1,this._reviving=!0,this.node.active=!0,this.node.rotation=0,this.body.awake=!1,this._shield=!1,this.shield.active=!0,this.node.y=0,this._bullet_type=1,this.shoot();var t=cc.sequence(cc.delayTime(3),cc.callFunc(function(t){this._reviving=!1,this.shield.active=this._shield,this.body.awake=!0}.bind(this)));this.node.runAction(t),this.node.opacity=0,this.node.runAction(cc.repeat(cc.sequence(cc.fadeIn(.1),cc.fadeOut(.1),cc.fadeIn(.1)),3)),this.node.runAction(cc.sequence(cc.delayTime(2.1),cc.repeat(cc.sequence(cc.fadeIn(.1),cc.fadeOut(.1),cc.fadeIn(.1)),3)))},e.prototype.death=function(){if(!this._death&&!this._shield&&!this._reviving){this._death=!0,this.node.rotation=90;var t=this._sprite.node.getComponent(cc.Animation);switch(t.stop(t.defaultClip.name),this.node.stopAllActions(),this._player_id){case 1:i.GhysX.db.cache.battle_info.lift1--;break;case 2:i.GhysX.db.cache.battle_info.lift2--}i.GhysX.handler.emit("battle_ui_update_draw_hp"+this._player_id),i.GhysX.handler.emit("battle_ui_update_draw_hp_progress"+this._player_id)}},e.prototype.kill=function(){this._death||(this._reviving=!1,this.death(),i.GhysX.os.audio.playEffect("music/effect/fall",!1))},e.prototype.jump=function(t){if(!this._death){switch(i.GhysX.local.stage_info.type){case 1:break;default:if(t)if(t.getLocationX()>=i.GhysX.gui.frame.node.width/2){if(1==this._player_id)return}else if(2==this._player_id)return}this.body.linearVelocity=cc.v2(0,380)}},e.prototype.outside=function(){var t=0;switch(this._player_id){case 1:t=i.GhysX.db.cache.battle_info.lift1;break;case 2:t=i.GhysX.db.cache.battle_info.lift2}i.GhysX.handler.emit("battle_ui_remove_all_skill_"+this._player_id),t<=0?(this.node.active=!1,i.GhysX.handler.emit("battle_over")):this.revive()},e.prototype.createBullet=function(t,e,o,n){void 0===o&&(o=900),void 0===n&&(n=0);var r=cc.instantiate(this.bulletPrefab),i=r.getComponent(s.default);return i.init(this,o,n),r.setPosition(cc.v2(t,e)),this._stage.node.addChild(r),i},e.prototype.shoot=function(){if(!this._death){var t=.17,e=this.node.parent.getPosition().add(this.node.getPosition()),o=900;switch(this._bullet_type){case 1:this.createBullet(e.x,e.y,o,0);i.GhysX.os.audio.playEffect("music/effect/gun",!1);break;case 2:t=.09;this.createBullet(e.x,e.y,o,0);i.GhysX.os.audio.playEffect("music/effect/uzi",!1);break;case 3:t=.09;this.createBullet(e.x,e.y,o,0),this.createBullet(e.x,e.y,o,200),this.createBullet(e.x,e.y,o,-200);i.GhysX.os.audio.playEffect("music/effect/uzi",!1);break;case 4:t=.8;this.createBullet(e.x+30*Math.random(),e.y-5+10*Math.random()+65,o,0),this.createBullet(e.x+30*Math.random(),e.y-5+10*Math.random()+10,o,0),this.createBullet(e.x+30*Math.random(),e.y-5+10*Math.random()-35,o,0),this.createBullet(e.x+30*Math.random(),e.y-5+10*Math.random()-80,o,0);i.GhysX.os.audio.playEffect("music/effect/shoot",!1)}var n=cc.sequence(cc.delayTime(t),cc.callFunc(function(t){this.shoot()}.bind(this)));this.node.runAction(n)}},e.prototype.pause=function(){this.node.pauseAllActions()},e.prototype.resume=function(){this.node.resumeAllActions()},e.prototype.onLoad=function(){i.GhysX.graphics.draw({url:"sprites/%s/%s".format(1e3+this._bird_id,1e3+this._bird_id),mode:i.GhysX.graphics.MODE.PREFAB,asset_type:cc.Prefab,parent:this.node,order:-1,complete:function(t){this.initSprite(t)}.bind(this)}),i.GhysX.handler.on("go",this.go,this),i.GhysX.handler.on("jump",this.jump,this),i.GhysX.handler.on("revive",this.revive,this),i.GhysX.handler.on("pause",this.pause,this),i.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){},r([l({type:cc.Prefab,displayName:"\u5b50\u5f39\u7ec4\u4ef6",tooltip:""})],e.prototype,"bulletPrefab",void 0),r([l({type:cc.RigidBody,displayName:"\u5c0f\u9e1f\u94a2\u4f53",tooltip:""})],e.prototype,"body",void 0),r([l({type:cc.Node,displayName:"\u62a4\u76fe",tooltip:""})],e.prototype,"shield",void 0),e=o=r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX","./bullet":"bullet"}],black_frame:[function(t,e,o){"use strict";cc._RF.push(e,"ead078E225M97TEIEcZASKh","black_frame");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e=r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],boss:[function(t,e,o){"use strict";cc._RF.push(e,"f61dcrjVjJMQYt0u4NNfCLm","boss");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../libs/ghysx/GhysX"),s=t("./fire"),c=cc._decorator,a=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletPrefab=null,e.jumpLoop=null,e.hp=null,e._sprite=null,e._stage=null,e._boss_id=0,e._jump_y=0,e._skill_type=1,e._start=!1,e._death=!1,e._fire_index=0,e._shoot_count=0,e._score=30,e}return n(e,t),e.prototype.init=function(t,e){this._stage=t,this._boss_id=e,this._fire_index=i.GhysX.modules.unit.random(0,3)},e.prototype.play=function(){this.jumpLoop.play(this.jumpLoop.defaultClip.name);var t=cc.sequence(cc.moveBy(.3,cc.v2(-40,0)),cc.moveBy(.3,cc.v2(0,0)),cc.moveBy(.3,cc.v2(40,0)),cc.moveBy(.3,cc.v2(0,0)));this.node.runAction(cc.repeatForever(t)),this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.6),cc.callFunc(function(){i.GhysX.os.audio.playEffect("music/effect/fly",!1)})))),this._start=!0,this.shoot()},e.prototype.createBullet=function(){var t=cc.instantiate(this.bulletPrefab);t.getComponent(s.default).init(this._fire_index),t.setPosition(this.node.getPosition()),this.node.parent.addChild(t)},e.prototype.shoot=function(){this._shoot_count++;var t=.5;2==this._shoot_count&&(this._shoot_count=0,t+=2*Math.random()),t=Math.max(t,Math.max(.5,t-t*(i.GhysX.db.cache.battle_info.kill_boss_count-1)/10)),this.createBullet();var e=cc.sequence(cc.delayTime(t),cc.callFunc(function(){this.shoot()}.bind(this)));this.node.runAction(e),i.GhysX.os.audio.playEffect("music/effect/bossfire",!1)},e.prototype.initSprite=function(t){this._sprite=t;var e=t.node.getComponent(cc.PolygonCollider);e.enabled=!1;var o=this.node.addComponent(cc.PolygonCollider);o.points=e.points,o.tag=4},e.prototype.hit=function(t){if(this._start&&(0==i.GhysX.db.cache.battle_info.kill_boss_count?this.hp.progress-=.3:this.hp.progress-=Math.max(.1-(i.GhysX.db.cache.battle_info.kill_boss_count-1)/100,.03),4==t._bullet_type&&(this.hp.progress=0),this.hp.progress<=0)){switch(i.GhysX.db.cache.battle_info.score+=this._score,i.GhysX.db.cache.battle_info.kill_boss_count++,t._bird._player_id){case 1:i.GhysX.db.cache.battle_info.score1+=this._score;break;case 2:i.GhysX.db.cache.battle_info.score2+=this._score}i.GhysX.handler.emit("battle_ui_update_draw");var e=this._stage;e.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){e.createTree()})));var o=this.node.x,n=this.node.y,r=this.node.parent;i.GhysX.graphics.draw({url:"effects/boss_death/boss_death",mode:i.GhysX.graphics.MODE.PREFAB,asset_type:cc.Prefab,parent:r,complete:function(t){t.node.x=o,t.node.y=n}.bind(this)}),this.node.destroy(),i.GhysX.os.audio.playEffect("music/effect/bossdie",!1)}},e.prototype.pause=function(){this.node.pauseAllActions()},e.prototype.resume=function(){this.node.resumeAllActions()},e.prototype.onLoad=function(){i.GhysX.graphics.draw({url:"sprites/%s/%s".format(2e3+this._boss_id,2e3+this._boss_id),mode:i.GhysX.graphics.MODE.PREFAB,asset_type:cc.Prefab,parent:this.node,complete:function(t){this.initSprite(t)}.bind(this)}),i.GhysX.handler.on("pause",this.pause,this),i.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){},r([l({type:cc.Prefab,displayName:"\u5b50\u5f39\u7ec4\u4ef6",tooltip:""})],e.prototype,"bulletPrefab",void 0),r([l({type:cc.Animation,displayName:"\u5faa\u73af\u8df3\u52a8",tooltip:""})],e.prototype,"jumpLoop",void 0),r([l({type:cc.ProgressBar,displayName:"\u5faa\u73af\u8df3\u52a8",tooltip:""})],e.prototype,"hp",void 0),e=r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX","./fire":"fire"}],bullet:[function(t,e,o){"use strict";cc._RF.push(e,"585e85Xbu5C1pXM4x0Xvh7b","bullet");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./tree_section"),s=t("../../../../libs/ghysx/GhysX"),c=t("./boss"),a=cc._decorator,l=a.ccclass,p=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.collider=null,e._bullet_type=1,e._bullet_dir=1,e._bird=null,e._move_x=900,e._move_y=0,e}return n(e,t),e.prototype.onCollisionEnter=function(t,e){var o=e.world;o.aabb,o.preAabb,o.transform,o.radius,o.position,o.points;switch(t.tag){case 4:t.node.getComponent(c.default).hit(this),e.node.destroy();break;case 8:var n=t.node.getComponent(i.default);s.GhysX.handler.emit("hit",this,n),e.node.destroy()}if(4==this._bullet_type){var r=e.node.x,a=e.node.y;s.GhysX.graphics.draw({url:"effects/bomb/bomb",mode:s.GhysX.graphics.MODE.PREFAB,asset_type:cc.Prefab,parent:this.node.parent,complete:function(t){t.node.setPosition(cc.v2(r,a))}.bind(this)})}},e.prototype.onCollisionStay=function(t,e){},e.prototype.onCollisionExit=function(t,e){},e.prototype.init=function(t,e,o){void 0===e&&(e=900),void 0===o&&(o=0),this._bird=t,this._move_x=e,this._move_y=o,this._bullet_type=t._bullet_type},e.prototype.pause=function(){this.node.pauseAllActions()},e.prototype.resume=function(){this.node.resumeAllActions()},e.prototype.onLoad=function(){var t=.9,e=.7;switch(this._bird._bullet_type){case 1:t=1.5,e=1.3;break;case 2:case 3:t=.9;break;case 4:t=1.8,e=1.6,this.icon.spriteFrame=null,this.collider.radius=20,s.GhysX.graphics.draw({url:"images/map/elements/bomb",mode:s.GhysX.graphics.MODE.SPRITE,asset_type:cc.SpriteFrame,target:this.icon}),this.node.scale=.7,this.node.runAction(cc.repeatForever(cc.rotateBy(1,360)))}var o=cc.sequence(cc.spawn(cc.moveBy(t,cc.v2(this._move_x,this._move_y)),cc.sequence(cc.fadeIn(.1),cc.delayTime(e),cc.fadeOut(.1))),cc.callFunc(function(t){t.destroy()}));this.node.runAction(o),this.node.opacity=0,s.GhysX.handler.on("pause",this.pause,this),s.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){},r([p({type:cc.Sprite,displayName:"\u56fe\u6807",tooltip:""})],e.prototype,"icon",void 0),r([p({type:cc.CircleCollider,displayName:"\u78b0\u649e",tooltip:""})],e.prototype,"collider",void 0),e=r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX","./boss":"boss","./tree_section":"tree_section"}],chapter_element:[function(t,e,o){"use strict";cc._RF.push(e,"6a1b4aiBT1D8Lcz1ib77I/l","chapter_element");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.unlock=null,e._chapter_mould=null,e}return n(e,t),e.prototype.onClickStartButton=function(t,e){this.unlock.node.active?i.GhysX.handler.emit("create_video",{adUnitId:"adunit-c3fdf0afb3e8124e",success:function(t){i.GhysX.local.stage_info.id=this._chapter_mould.id,cc.sys.localStorage.setItem("local",JSON.stringify(i.GhysX.local)),this.unlock.node.active=!1,i.GhysX.handler.emit("chapter_element_update_draw")}.bind(this),cancel:function(t){}.bind(this),fail:function(t){t&&1005==t.errCode&&i.GhysX.graphics.draw({url:"prefabs/common/tip_message",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.DIALOG,group_name:"active",script:"tip_message",invoke:"init",params:{message:"\u5f53\u524d\u65e0\u89c6\u9891\u5e7f\u544a\uff01"},complete:function(t){}})}.bind(this)}):i.GhysX.local.stage_info.id<this._chapter_mould.id?i.GhysX.graphics.draw({url:"prefabs/common/tip_message",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.DIALOG,group_name:"active",script:"tip_message",invoke:"init",params:{message:"\u8bf7\u901a\u5173\u4e0a\u4e00\u5173\u5361"},complete:function(t){}}):this.startBattle()},e.prototype.startBattle=function(){i.GhysX.graphics.draw({url:"prefabs/battle/battle",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.BACKGROUND,group_name:"battle",script:"battle",invoke:"init",params:{chapter_mould:this._chapter_mould},complete:function(t){}})},e.prototype.init=function(t){this._chapter_mould=t},e.prototype.updateDraw=function(){this.unlock.node.active=!1,i.GhysX.local.stage_info.id<this._chapter_mould.id?i.GhysX.local.stage_info.id+1==this._chapter_mould.id?this.unlock.node.active=!0:i.GhysX.shader.gray.gray(this.node):i.GhysX.shader.gray.ungray(this.node)},e.prototype.onLoad=function(){i.GhysX.loader.load("images/icons/stage/"+this._chapter_mould.icon,cc.SpriteFrame,this._chapter_mould.icon.toString(),this.icon),i.GhysX.handler.on("chapter_element_update_draw",this.updateDraw,this)},e.prototype.start=function(){},e.prototype.onEnable=function(){this.updateDraw()},r([a({type:cc.Sprite,displayName:"\u7ae0\u8282\u7ec4\u7ec4\u4ef6",tooltip:""})],e.prototype,"icon",void 0),r([a({type:cc.Label,displayName:"\u89e3\u9501\u63d0\u793a\u6587\u5b57",tooltip:""})],e.prototype,"unlock",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../libs/ghysx/GhysX":"GhysX"}],chapter_mould:[function(t,e,o){"use strict";cc._RF.push(e,"d182fLXILVGU7MFts00CMIl","chapter_mould"),cc._RF.pop()},{}],chapter:[function(t,e,o){"use strict";cc._RF.push(e,"dce92MijfRMfZWYjLxIFrrk","chapter");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./chapter_element"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chapter_element_prefab=null,e.title=null,e.title_string="",e.layout=null,e._chapter_moulds=null,e}return n(e,t),e.prototype.init=function(t){this._chapter_moulds=t},e.prototype.createElement=function(t){var e=cc.instantiate(this.chapter_element_prefab);e.getComponent(i.default).init(t),this.layout.node.addChild(e)},e.prototype.onLoad=function(){for(var t in this.title.string=this.title_string.format(this._chapter_moulds[0].group),this._chapter_moulds){var e=this._chapter_moulds[t];this.createElement(e)}},e.prototype.start=function(){},r([a({type:cc.Prefab,displayName:"\u7ae0\u8282\u7ec4\u4ef6",tooltip:""})],e.prototype,"chapter_element_prefab",void 0),r([a({type:cc.Label,displayName:"\u7ae0\u8282\u7ea7\u540d\u79f0",tooltip:""})],e.prototype,"title",void 0),r([a({displayName:"\u7ae0\u8282\u540d\u79f0\u6587\u672c",tooltip:""})],e.prototype,"title_string",void 0),r([a({type:cc.Layout,displayName:"\u5217\u8868\u5bb9\u5668",tooltip:""})],e.prototype,"layout",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./chapter_element":"chapter_element"}],db:[function(t,e,o){"use strict";cc._RF.push(e,"2ad64XDp2dHuLHIPDFheX2X","db"),Object.defineProperty(o,"__esModule",{value:!0}),o.cache={},cc._RF.pop()},{}],en:[function(t,e,o){"use strict";var n;function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}cc._RF.push(e,"bc792iPIY1C7ph8F7JNWQTC","en"),e.exports=(r(n={loading:"loading...",update_load_data_tip:"\u6b63\u5728\u8fdb\u5165\u9ad8\u6e05\u4e09\u56fd\u4e16\u754c",update_load_sprite_tip:"\u52a0\u8f7d\u89d2\u8272\u7eb9\u7406\u8d44\u6e90",update_load_effect_tip:"\u52a0\u8f7d\u7279\u6548\u8d44\u6e90",function_is_not_implemented_yet_tip:"\u529f\u80fd\u6682\u672a\u5b9e\u73b0",unacquired_hero_tip:"\u5c1a\u672a\u83b7\u5f97\u8be5\u82f1\u96c4",formation_add_ship_erro_tip:"\u4e3b\u89d2\u7b49\u7ea7\u6216VIP\u7b49\u7ea7\u4e0d\u8db3",offline_reward_close_tip:"\u6ca1\u6709\u9886\u53d6\u6302\u673a\u5956\u52b1",shop_buy_success:"\u8d2d\u4e70\u6210\u529f",year:"\u5e74",month:"\u6708",date:"\u5929",day:"\u5929",current_day:"\u65e5",hour:"\u65f6",minute:"\u5206",second:"\u79d2",class:"\u7ea7",mhour:"\u5c0f\u65f6",mminute:"\u5206\u949f",strength_master_notopen:"\u672a\u5f00\u542f",ship_lieutenant_not:"\u5f53\u524d\u6ca1\u6709\u6b66\u5c06\u4e0a\u9635",break_class:"\u7a81\u7834\u7b49\u7ea7",forging_master_words:"\u6b66\u5c06\u5168\u90e8\u88c5\u5907",forging_achieve_words:"\u8fbe\u5230",forging_achieve_open:"\u5f00\u542f",forging_undeveloped:"\u656c\u8bf7\u671f\u5f85",lv_rank_full:"\u5df2\u6ee1\u7ea7",lv_rank:"\u5347\u7ea7",all_break:"\u5168\u519b",not_on_the_list:"\u672a\u4e0a\u699c",boss_fight_count_is_limit:"\u6b21\u6570\u5df2\u6ee1\uff0c\u4e0d\u9700\u8981\u8d2d\u4e70",boss_rank_not_on_the_list:"\u672a\u6709\u6392\u540d",system_name:"\u7cfb\u7edf",join_fight_team:"\u8fdb\u5165\u961f\u4f0d",war_pet_info:"\u6218\u5ba0\u4fe1\u606f",war_pet_upgrade:"\u6218\u5ba0\u5347\u7ea7",war_pet_star:"\u6218\u5ba0\u5347\u661f",war_pet_book:"\u6218\u5ba0\u56fe\u9274",war_pet_isupgrade:"\u5347\u7ea7\u56fe\u9274",war_pet_isopen:"\u6fc0\u6d3b\u56fe\u9274",war_pet_starfull:"\u661f\u7ea7\u5df2\u6ee1,\u65e0\u6cd5\u5347\u7ea7",mount_info:"\u5750\u9a91\u4fe1\u606f",mount_upgrade:"\u5750\u9a91\u5347\u7ea7",mount_star:"\u5750\u9a91\u5347\u661f",mount_stone:"\u788e\u7247",other_address_login:"\u5e10\u53f7\u5728\u5176\u4ed6\u5730\u65b9\u767b\u9646",resume_network:"\u7f51\u7edc\u65ad\u5f00\uff0c\u5df2\u7ecf\u5e2e\u60a8\u6062\u590d\u8fde\u63a5\u3002",prop_no_enough:"\u5347\u7ea7\u9053\u5177\u4e0d\u8db3",mov_pet_info:"\u62db\u5f0f\u4fe1\u606f",mov_pet_upgrade:"\u62db\u5f0f\u5347\u7ea7",mov_pet_star:"\u62db\u5f0f\u5347\u661f",mov_pet_book:"\u62db\u5f0f\u56fe\u9274",buy_count_reach_the_upper_limit:"\u6570\u91cf\u8fbe\u5230\u4e0a\u9650\uff0c\u6682\u4e0d\u9700\u8981\u8d2d\u4e70\uff01",mov_open:"\u8bf7\u5148\u6fc0\u6d3b\u62db\u5f0f",expedition_tip_one:"\u8be5\u5173\u5361\u5df2\u7ecf\u901a\u5173\uff0c\u6e05\u524d\u5f80\u4e0b\u4e00\u5173",expedition_tip_two:"\u8bf7\u5148\u901a\u8fc7\u4e0a\u4e00\u5173",upgrade_lv_mov:"\u62db\u5f0f\u7b49\u7ea7",upgrade_lv_pet:"\u6218\u5ba0\u7b49\u7ea7",upgrade_lv_mount:"\u5750\u9a91\u7b49\u7ea7",did_not_play:"\u672a\u4e0a\u9635",friend:"\u597d\u53cb",friend_gift_get:"\u793c\u7269\u9886\u53d6",frieng_send:"\u597d\u53cb\u7533\u8bf7",friend_nobody:"\u65e0",friend_get:"\u5df2\u7533\u8bf7",friend_self:"\u60a8\u81ea\u5df1",ten_thousand:"\u4e07",a_hundred_million:"\u4ebf",please_activate_previous_star_of_life:"\u8bf7\u5148\u6fc0\u6d3b\u4e0a\u4e00\u4e2a\u547d\u661f\u54e6",lv_break:"\u7a81\u7834",add_friend_apl:"\u7533\u8bf7\u4fe1\u606f\u5df2\u53d1\u51fa",not_have:"\u65e0",star_lv_mov:"\u62db\u5f0f\u661f\u7ea7",star_lv_pet:"\u6218\u5ba0\u661f\u7ea7",have_ship:"\u62e5\u6709:",no_activity:"\u6d3b\u52a8\u672a\u5f00\u542f",send_message_interval_time:"\u9700\u8981\u95f4\u96945\u79d2\u624d\u80fd\u53d1\u8a00",rank_list_lv:"lv:",rank_list_guanqia:"\u5173\u5361\u6570:",rank_list_power:"\u6218\u6597\u529b:",shop_cell:"\u6676\u77f3\u4e0d\u8db3",no_ship:"\u672a\u6fc0\u6d3b\u6b66\u5c06",shop_cell_rank:"\u7ade\u6280\u70b9\u4e0d\u8db3",pet_skill:"\u5ba0\u7269\u6280\u80fd",ship_skill:"\u6b66\u5c06\u6280\u80fd",repeat_send_message_interval_time:"\u91cd\u590d\u5185\u5bb9\u53d1\u9001\u65f6\u95f4\u96941\u5206\u949f",please_choose_prop:"\u8bf7\u5148\u9009\u62e9\u7269\u54c1",equipment_backpack_is_full:"\u88c5\u5907\u80cc\u5305\u5df2\u6ee1\uff0c\u8bf7\u524d\u5f80\u56de\u6536",full_star:"\u5df2\u6ee1\u661f",rise_star:"\u5347\u661f",master:"\u5168\u8eab",person_legion_point:"\u4e2a\u4eba\u8d21\u732e\u70b9\u4e0d\u8db3",friend_find:"\u641c\u7d22\u597d\u53cb"},"friend_get","\u63a8\u8350\u597d\u53cb"),r(n,"friend_ship_point","\u53cb\u60c5\u70b9\u4e0d\u8db3"),r(n,"activity_end","\u6d3b\u52a8\u5df2\u7ed3\u675f"),n),cc._RF.pop()},{}],fire:[function(t,e,o){"use strict";cc._RF.push(e,"67c13DIURlOWr4qUNAMU9nF","fire");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./bird"),s=t("../../../../libs/ghysx/GhysX"),c=cc._decorator,a=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fires=[],e._fire_index=0,e}return n(e,t),e.prototype.onCollisionEnter=function(t,e){var o=e.world;o.aabb,o.preAabb,o.transform,o.radius,o.position,o.points;switch(t.tag){case 1:t.node.getComponent(i.default).death(),e.node.destroy()}},e.prototype.onCollisionStay=function(t,e){},e.prototype.onCollisionExit=function(t,e){},e.prototype.init=function(t){this._fire_index=t},e.prototype.pause=function(){this.node.pauseAllActions()},e.prototype.resume=function(){this.node.resumeAllActions()},e.prototype.onLoad=function(){var t=cc.instantiate(this.fires[this._fire_index]);this.node.addChild(t);var e=cc.sequence(cc.spawn(cc.moveBy(.9,cc.v2(-900,0)),cc.sequence(cc.fadeIn(.1),cc.delayTime(.7),cc.fadeOut(.1))),cc.callFunc(function(t){t.destroy()}));this.node.runAction(e),this.node.opacity=0,s.GhysX.handler.on("pause",this.pause,this),s.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){},r([l({type:cc.Prefab,displayName:"\u706b\u7ec4\u4ef6",tooltip:""})],e.prototype,"fires",void 0),e=r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX","./bird":"bird"}],flotage:[function(t,e,o){"use strict";cc._RF.push(e,"694a6chL2ZNkp69TkjArZv3","flotage");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./bird"),s=t("../../../../libs/ghysx/GhysX"),c=cc._decorator,a=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skillPrefab=null,e._skill_type=1,e._stage=null,e}return n(e,t),e.prototype.onCollisionEnter=function(t,e){var o=e.world;o.aabb,o.preAabb,o.transform,o.radius,o.position,o.points;switch(t.tag){case 1:var n=t.node.getComponent(i.default);n&&!n._death&&(s.GhysX.handler.emit("battle_ui_add_skill_"+n._player_id,n,this._skill_type),1==this._skill_type?s.GhysX.os.audio.playEffect("music/effect/shield",!1):s.GhysX.os.audio.playEffect("music/effect/powers",!1),e.node.destroy())}},e.prototype.onCollisionStay=function(t,e){},e.prototype.onCollisionExit=function(t,e){},e.prototype.init=function(t,e){this._stage=t,this._skill_type=e},e.prototype.createSkill=function(){var t=cc.instantiate(this.skillPrefab);this.node.addChild(t),s.GhysX.graphics.draw({url:"effects/skill/skill",mode:s.GhysX.graphics.MODE.ATLAS,asset_type:cc.SpriteAtlas,asset_name:""+this._skill_type,target:t.getComponent(cc.Sprite)})},e.prototype.pause=function(){this.node.pauseAllActions()},e.prototype.resume=function(){this.node.resumeAllActions()},e.prototype.onLoad=function(){this.createSkill(),s.GhysX.handler.on("pause",this.pause,this),s.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){},r([l({type:cc.Prefab,displayName:"\u6280\u80fd\u7ec4\u4ef6",tooltip:""})],e.prototype,"skillPrefab",void 0),e=r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX","./bird":"bird"}],friends_select:[function(t,e,o){"use strict";cc._RF.push(e,"a121bG2SJxMH53dUOQlm0iT","friends_select");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._status=0,e}return n(e,t),e.prototype.init=function(){},e.prototype.onLoad=function(){i.GhysX.local.stage_info.type=2,i.GhysX.local.stage_info.id=2,i.GhysX.handler.on("start_battle",function(){this._status++,2==this._status&&i.GhysX.graphics.draw({url:"prefabs/battle/battle",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.BACKGROUND,group_name:"battle",script:"battle",invoke:"init",params:{chapter_mould:i.GhysX.res.chapter_moulds[i.GhysX.local.stage_info.id]},complete:function(t){i.GhysX.graphics.manager.close("friends_select")}})},this)},e.prototype.start=function(){i.GhysX.handler.emit("hide_banner",{})},e=r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../../../libs/ghysx/GhysX":"GhysX"}],fruits:[function(t,e,o){"use strict";cc._RF.push(e,"8992fxGbKZEDaZFaZIIvvT1","fruits");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./bird"),s=t("../../../../libs/ghysx/GhysX"),c=cc._decorator,a=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fruitPrefab=null,e.polygonCollider=null,e._fruit_type=1,e._stage=null,e}return n(e,t),e.prototype.onCollisionEnter=function(t,e){var o=e.world;o.aabb,o.preAabb,o.transform,o.radius,o.position,o.points;switch(t.tag){case 1:var n=t.node.getComponent(i.default);n&&!n._death&&(s.GhysX.handler.emit("battle_ui_eating_fruit",n,this),e.enabled=!1)}},e.prototype.onCollisionStay=function(t,e){},e.prototype.onCollisionExit=function(t,e){},e.prototype.init=function(t,e){this._stage=t,this._fruit_type=e},e.prototype.createFruit=function(){var t=cc.instantiate(this.fruitPrefab);this.node.addChild(t),t.scale=.3,s.GhysX.graphics.draw({url:"effects/fruit/fruit",mode:s.GhysX.graphics.MODE.ATLAS,asset_type:cc.SpriteAtlas,asset_name:""+this._fruit_type,target:t.getComponent(cc.Sprite),complete:function(t){this.polygonCollider.points[0].x=-1*t.node.width/2*.3,this.polygonCollider.points[0].y=-1*t.node.height/2*.3,this.polygonCollider.points[1].x=t.node.width/2*.3,this.polygonCollider.points[1].y=-1*t.node.height/2*.3,this.polygonCollider.points[2].x=t.node.width/2*.3,this.polygonCollider.points[2].y=t.node.height/2*.3,this.polygonCollider.points[3].x=-1*t.node.width/2*.3,this.polygonCollider.points[3].y=t.node.height/2*.3}.bind(this)}),this.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.3,cc.v2(0,10)),cc.rotateBy(.3,10),cc.rotateBy(.3,-20),cc.rotateBy(.3,10))))},e.prototype.pause=function(){this.node.pauseAllActions()},e.prototype.resume=function(){this.node.resumeAllActions()},e.prototype.onLoad=function(){this.createFruit(),s.GhysX.handler.on("pause",this.pause,this),s.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){},r([l({type:cc.Prefab,displayName:"\u6c34\u679c\u7ec4\u4ef6",tooltip:""})],e.prototype,"fruitPrefab",void 0),r([l({type:cc.PolygonCollider,displayName:"\u6c34\u679c\u591a\u8fb9\u5f62\u78b0\u649e",tooltip:""})],e.prototype,"polygonCollider",void 0),e=r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX","./bird":"bird"}],give_skill:[function(t,e,o){"use strict";cc._RF.push(e,"791a6mkDahGL44pPKWagbOf","give_skill");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=[{skill_id:0,video_type:2},{skill_id:1,video_type:0},{skill_id:2,video_type:0},{skill_id:3,video_type:0},{skill_id:4,video_type:0}],p=["adunit-7c5b4d7a6d008419","adunit-dd2da86122f534b1","adunit-6a6c772a200d08a9"],u=["adunit-7ee2fae807f036dc","adunit-6931189f8a4171df","adunit-129372d49bee9656"],d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skill=null,e.count=null,e.reviveTip=null,e._skill_id=0,e._revive=!1,e._buy_type=-1,e}return n(e,t),e.prototype.onClickGiveSkillButton=function(t,e){var o=l[this._skill_id],n=p[o.video_type];this._revive&&(n=u[u.length-1]),i.GhysX.handler.emit("create_video",{adUnitId:n,success:function(t){this.give()}.bind(this),cancel:function(t){this.close()}.bind(this),fail:function(t){t&&1005==t.errCode&&this.close(),i.GhysX.graphics.draw({url:"prefabs/common/tip_message",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.DIALOG,group_name:"active",script:"tip_message",invoke:"init",params:{message:"\u65e0\u89c6\u9891\u5e7f\u544a\uff01"},complete:function(t){}})}.bind(this)})},e.prototype.onClickCloseButton=function(t,e){this.close()},e.prototype.give=function(){var t=~~this.count.string;switch(i.GhysX.db.cache.give_skill_type=this._skill_id,this._skill_id){case 0:i.GhysX.db.cache.heartbeat=t,i.GhysX.local.user_info.heartbeat+=t;break;case 1:i.GhysX.db.cache.shield=t;break;case 2:i.GhysX.db.cache.bullet=t;break;case 3:i.GhysX.db.cache.multiple_bullet=t;break;case 4:i.GhysX.db.cache.bomb=t}if(i.GhysX.db.cache.give_skill_count=t,i.GhysX.handler.emit("battle_ui_show_skills",this._revive),this._revive){switch(i.GhysX.db.cache.battle_info.type){case 1:i.GhysX.db.cache.battle_info.role_count=1;break;default:i.GhysX.db.cache.battle_info.role_count=2}i.GhysX.handler.emit("revive"),this._revive=!1}this._buy_type>0&&(i.GhysX.handler.emit("battle_ui_add_skill_1",i.GhysX.db.cache.battle_info.bird1,1),i.GhysX.handler.emit("battle_ui_add_skill_2",i.GhysX.db.cache.battle_info.bird2,2)),this.close()},e.prototype.close=function(){this._revive&&(i.GhysX.db.cache.battle_info.revive=!1,i.GhysX.handler.emit("battle_over")),this.node.destroy()},e.prototype.init=function(t){this._revive=t.revive,void 0!==t.buy_type&&null!==t.buy_type&&(this._buy_type=t.buy_type)},e.prototype.onLoad=function(){i.GhysX.db.cache.heartbeat=0,this._revive?(this._skill_id=0,this.reviveTip.active=!0):this._buy_type>0?this._skill_id=this._buy_type:this._skill_id=i.GhysX.modules.unit.random(0,4);var t=i.GhysX.modules.unit.random(1,3),e=l[this._skill_id];e.video_type=t-1,0==this._skill_id&&(e.video_type=2,t=1),this.count.string=""+t,i.GhysX.graphics.draw({url:"images/battle/give-skills/extras%s".format(this._skill_id),mode:i.GhysX.graphics.MODE.SPRITE,asset_type:cc.SpriteFrame,target:this.skill,complete:function(t){}.bind(this)})},e.prototype.start=function(){},r([a({type:cc.Sprite,displayName:"\u6280\u80fd\u56fe\u6807",tooltip:""})],e.prototype,"skill",void 0),r([a({type:cc.Label,displayName:"\u6280\u80fd\u6570\u91cf",tooltip:""})],e.prototype,"count",void 0),r([a({type:cc.Node,displayName:"\u590d\u6d3b\u63d0\u793a",tooltip:""})],e.prototype,"reviveTip",void 0),e=r([c],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX"}],grass:[function(t,e,o){"use strict";cc._RF.push(e,"c0f0efzLGNGZ4VzoFxTOrF1","grass");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./bird"),s=t("../../../../libs/ghysx/GhysX"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onCollisionEnter=function(t,e){console.log("on collision enter snow");var o=e.world;o.aabb,o.preAabb,o.transform,o.radius,o.position,o.points},e.prototype.onCollisionStay=function(t,e){t.node.getComponent(i.default).kill()},e.prototype.onCollisionExit=function(t,e){console.log("on collision exit snow"),t.node.getComponent(i.default).outside()},e.prototype.go=function(){var t=this.node.getComponent(cc.Animation);t.play(t.defaultClip.name)},e.prototype.pause=function(){var t=this.node.getComponent(cc.Animation);t.pause(t.defaultClip.name)},e.prototype.resume=function(){var t=this.node.getComponent(cc.Animation);t.resume(t.defaultClip.name)},e.prototype.onLoad=function(){s.GhysX.handler.on("pause",this.pause,this),s.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){},e=r([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX","./bird":"bird"}],guide:[function(t,e,o){"use strict";cc._RF.push(e,"28ded9PuzVCzrUd9fw1XvT0","guide");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.onLoad=function(){},e.prototype.start=function(){},e=r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],help_dialog:[function(t,e,o){"use strict";cc._RF.push(e,"2eaf07GxHZPEI2Yu6sfHk0n","help_dialog");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e=r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],hit_section:[function(t,e,o){"use strict";cc._RF.push(e,"c4c96AvyepHNKMJ8nFg/dre","hit_section");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rigidBody=null,e}return n(e,t),e.prototype.onLoad=function(){this.rigidBody.linearVelocity=cc.v2(300,0);var t=cc.sequence(cc.rotateBy(.8,80),cc.delayTime(2),cc.callFunc(function(t){t.destroy()}.bind(this)));this.node.runAction(t.easing(cc.easeSineOut()))},e.prototype.start=function(){},r([c({type:cc.RigidBody,displayName:"\u5207\u7247\u94a2\u4f53",tooltip:""})],e.prototype,"rigidBody",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],home:[function(t,e,o){"use strict";cc._RF.push(e,"01c12nlvptJLobCReNSMwS/","home");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){i.GhysX.handler.on("open_main_menu",function(){i.GhysX.graphics.draw({url:"prefabs/home/view/main_menu",mode:i.GhysX.graphics.MODE.VIEW,group_name:i.GhysX.graphics.GROUP_NAME.HOME,script:"main_menu",invoke:"init",params:{},complete:function(t){}})}),i.GhysX.handler.on("open_player_select",function(){i.GhysX.graphics.draw({url:"prefabs/home/view/player_select",mode:i.GhysX.graphics.MODE.VIEW,group_name:i.GhysX.graphics.GROUP_NAME.HOME,script:"player_select",invoke:"init",params:{},complete:function(t){}})}),i.GhysX.handler.on("open_friends_select",function(){i.GhysX.graphics.draw({url:"prefabs/home/view/friends_select",mode:i.GhysX.graphics.MODE.VIEW,group_name:i.GhysX.graphics.GROUP_NAME.HOME,script:"friends_select",invoke:"init",params:{},complete:function(t){}})})},e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onEnable=function(){i.GhysX.handler.emit("hide_banner",{})},e.prototype.onDisable=function(){i.GhysX.handler.emit("hide_banner",{name:"\u9996\u9875\u5e95\u90e8 Banner",forced:!1,adUnitId:"adunit-781e54f03a457bb3"})},e=r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../../libs/ghysx/GhysX":"GhysX"}],i18n:[function(t,e,o){"use strict";cc._RF.push(e,"ab743DMdBxIeL8wWBL4P16F","i18n");var n=t("polyglot"),r=cc.sys.language;"zh"!==r&&(r="en");var i=t(r),s=new n({phrases:i,allowMissing:!0});e.exports={init:function(e){i=t(r=e),s.replace(i)},t:function(t,e){return s.t(t,e)}},cc._RF.pop()},{polyglot:"polyglot"}],launch:[function(t,e,o){"use strict";cc._RF.push(e,"4d187A9st9KL5WylmkXekHc","launch");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._progressDatasCallback=function(t,e,o){var n=o.content,r=n.name+"s",s=i.GhysX.modules.t2j.parse(n.text.splits("\r\n","\t"),0);i.GhysX.res[r]=s,i.GhysX.res.caches[r]={}},e.prototype.downloadDatas=function(){cc.loader.loadResDir("data/mould",cc.TextAsset,this._progressDatasCallback.bind(this),function(t,e){if(t)return this.downloadDatas(),void cc.error(t);this.initGame()}.bind(this))},e.prototype.initGame=function(){cc.Button.prototype.__onTouchBegan=cc.Button.prototype._onTouchBegan,cc.Button.prototype._onTouchBegan=function(t,e){this.__onTouchBegan(t,e),i.GhysX.os.audio.playEffect("music/button/touch",!1)},i.GhysX.db.cache.heartbeat=0;var t=this,e=cc.sys.localStorage.getItem("local");e?(i.GhysX.local=JSON.parse(e),i.GhysX.local.user_info||(i.GhysX.local.user_info={heartbeat:0,shield:0,bullet:0,multiple_bullet:0,bomb:0}),i.GhysX.graphics.draw({url:"prefabs/home/home",mode:i.GhysX.graphics.MODE.VIEW,group_name:i.GhysX.graphics.GROUP_NAME.HOME,script:"home",invoke:"init",params:{},complete:function(e){t.node.destroy()}})):(i.GhysX.local={user_info:{heartbeat:0,shield:0,bullet:0,multiple_bullet:0,bomb:0},stage_info:{type:1,id:1,bird1:9,bird2:9,highest_score:0}},i.GhysX.graphics.draw({url:"prefabs/battle/battle",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.BACKGROUND,group_name:"battle",script:"battle",invoke:"init",params:{chapter_mould:i.GhysX.res.chapter_moulds[i.GhysX.local.stage_info.id]},complete:function(e){t.node.destroy()}})),i.GhysX.graphics.draw({url:"prefabs/navigate/navigate",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.TASKBAR,group_name:i.GhysX.graphics.GROUP_NAME.HOME,script:"navigate",invoke:"init",params:{},complete:function(t){}})},e.prototype.onLoad=function(){i.GhysX.handler.on("launch_success",function(t){this.downloadDatas()}.bind(this))},e.prototype.start=function(){i.GhysX.os.audio.playMusic("sound/bg",!0)},e=r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../libs/ghysx/GhysX":"GhysX"}],"local.d.ts":[function(t,e,o){"use strict";cc._RF.push(e,"9be22nUw8JBb7+Hwq74IP0o","local.d.ts"),cc._RF.pop()},{}],main_menu:[function(t,e,o){"use strict";cc._RF.push(e,"5e203UsxPxPdaViGW9ylIiZ","main_menu");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onClickMusicButton=function(t,e){i.GhysX.os.audio.isOpen()?(i.GhysX.os.audio.musicOff(),i.GhysX.os.audio.effectOff()):(i.GhysX.os.audio.musicOn(),i.GhysX.os.audio.effectOn())},e.prototype.onClickStartButton=function(t,e){},e.prototype.onClickShareButton=function(t,e){i.GhysX.handler.emit("share",{})},e.prototype.onclick_start=function(){cc.log("onclick_")},e.prototype.init=function(){},e.prototype.start=function(){},e=r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../../../libs/ghysx/GhysX":"GhysX"}],navigate_element:[function(t,e,o){"use strict";cc._RF.push(e,"f5f64edX1xDuoz1MmqhPS3T","navigate_element");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.icon=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},r([c({type:cc.Asset,displayName:"\u56fe\u6807\u8d44\u6e90",tooltip:""})],e.prototype,"asset",void 0),r([c({type:cc.Sprite,displayName:"\u56fe\u6807",tooltip:""})],e.prototype,"icon",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],navigate:[function(t,e,o){"use strict";cc._RF.push(e,"c2e09j9FllAMLFYln1212Gh","navigate");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e=r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],options_dialog:[function(t,e,o){"use strict";cc._RF.push(e,"96c84nlWKhCo6H0RQR3s49P","options_dialog");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.musicOpen=null,e.musicClose=null,e.effectOpen=null,e.effectClose=null,e}return n(e,t),e.prototype.onClickMusicOpenButton=function(t,e){i.GhysX.os.audio.musicOff(),this.musicOpen.node.active=i.GhysX.os.audio.musicIsOpen(),this.musicClose.node.active=!i.GhysX.os.audio.musicIsOpen()},e.prototype.onClickMusicCloseButton=function(t,e){i.GhysX.os.audio.musicOn(),this.musicOpen.node.active=i.GhysX.os.audio.musicIsOpen(),this.musicClose.node.active=!i.GhysX.os.audio.musicIsOpen(),i.GhysX.os.audio.playMusic("sound/bg",!0)},e.prototype.onClickEffectOpenButton=function(t,e){i.GhysX.os.audio.effectOff(),this.effectOpen.node.active=i.GhysX.os.audio.effectIsOpen(),this.effectClose.node.active=!i.GhysX.os.audio.effectIsOpen()},e.prototype.onClickEffectCloseButton=function(t,e){i.GhysX.os.audio.effectOn(),this.effectOpen.node.active=i.GhysX.os.audio.effectIsOpen(),this.effectClose.node.active=!i.GhysX.os.audio.effectIsOpen()},e.prototype.onLoad=function(){this.musicOpen.node.active=i.GhysX.os.audio.musicIsOpen(),this.musicClose.node.active=!i.GhysX.os.audio.musicIsOpen(),this.effectOpen.node.active=i.GhysX.os.audio.effectIsOpen(),this.effectClose.node.active=!i.GhysX.os.audio.effectIsOpen()},e.prototype.start=function(){},r([a({type:cc.Button,displayName:"\u97f3\u6548\u5f00",tooltip:""})],e.prototype,"musicOpen",void 0),r([a({type:cc.Button,displayName:"\u97f3\u6548\u5173",tooltip:""})],e.prototype,"musicClose",void 0),r([a({type:cc.Button,displayName:"\u7279\u6548\u97f3\u5f00",tooltip:""})],e.prototype,"effectOpen",void 0),r([a({type:cc.Button,displayName:"\u7279\u6548\u97f3\u5173",tooltip:""})],e.prototype,"effectClose",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../libs/ghysx/GhysX":"GhysX"}],player_select:[function(t,e,o){"use strict";cc._RF.push(e,"030599PFRdLVKHv9OEJ+RYF","player_select");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.onLoad=function(){i.GhysX.local.stage_info.type=1,i.GhysX.local.stage_info.id=1,i.GhysX.handler.on("start_battle",function(){i.GhysX.graphics.draw({url:"prefabs/battle/battle",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.BACKGROUND,group_name:"battle",script:"battle",invoke:"init",params:{chapter_mould:i.GhysX.res.chapter_moulds[i.GhysX.local.stage_info.id]},complete:function(t){i.GhysX.graphics.manager.close("player_select")}})},this)},e.prototype.start=function(){i.GhysX.handler.emit("hide_banner",{})},e=r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../../../libs/ghysx/GhysX":"GhysX"}],polyglot:[function(t,e,o){(function(t){"use strict";cc._RF.push(e,"9f842/XNfRPDYpObuyYBWFB","polyglot");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t,r){"function"==typeof define&&define.amd?define([],function(){return r(t)}):"object"===(void 0===o?"undefined":n(o))?e.exports=r(t):t.Polyglot=r(t)})(void 0!==t?t:void 0,function(t){var e=String.prototype.replace;function o(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||y}o.VERSION="1.0.0",o.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},o.prototype.extend=function(t,e){var o;for(var r in t)t.hasOwnProperty(r)&&(o=t[r],e&&(r=e+"."+r),"object"===(void 0===o?"undefined":n(o))?this.extend(o,r):this.phrases[r]=o)},o.prototype.unset=function(t,e){var o;if("string"==typeof t)delete this.phrases[t];else for(var r in t)t.hasOwnProperty(r)&&(o=t[r],e&&(r=e+"."+r),"object"===(void 0===o?"undefined":n(o))?this.unset(o,r):delete this.phrases[r])},o.prototype.clear=function(){this.phrases={}},o.prototype.replace=function(t){this.clear(),this.extend(t)},o.prototype.t=function(t,e){var o,n;return"number"==typeof(e=null==e?{}:e)&&(e={smart_count:e}),"string"==typeof this.phrases[t]?o=this.phrases[t]:"string"==typeof e._?o=e._:this.allowMissing?o=t:(this.warn('Missing translation for key: "'+t+'"'),n=t),"string"==typeof o&&(e=g(e),n=_(n=p(o,this.currentLocale,e.smart_count),e)),n},o.prototype.has=function(t){return t in this.phrases};var r="||||",i={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},s={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]};function c(t){var e,o,n,r={};for(e in t)if(t.hasOwnProperty(e))for(n in o=t[e])r[o[n]]=e;return r}var a=/^\s+|\s+$/g;function l(t){return e.call(t,a,"")}function p(t,e,o){var n;return null!=o&&t?l((n=t.split(r))[d(e,o)]||n[0]):t}function u(t){var e=c(s);return e[t]||e.en}function d(t,e){return i[u(t)](e)}var f=/\$/g,h="$$$$";function _(t,o){for(var n in o)if("_"!==n&&o.hasOwnProperty(n)){var r=o[n];"string"==typeof r&&(r=e.call(o[n],f,h)),t=e.call(t,new RegExp("%\\{"+n+"\\}","g"),r)}return t}function y(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function g(t){var e={};for(var o in t)e[o]=t[o];return e}return o}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],res:[function(t,e,o){"use strict";cc._RF.push(e,"bebc40M7r1B1ZjsIbBQwmpx","res"),Object.defineProperty(o,"__esModule",{value:!0}),o.caches={},o.assets={},cc._RF.pop()},{}],scene:[function(t,e,o){"use strict";cc._RF.push(e,"7a5c6kp7ztBer2n+UMkAilU","scene");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e=r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],screen:[function(t,e,o){"use strict";cc._RF.push(e,"55651gvoIZLopXXyT7RkgtQ","screen");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../GhysX"),s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){i.GhysX.initialize()},e.prototype.start=function(){i.GhysX.handler.emit("launch_success",i.GhysX)},e=r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../../../GhysX":"GhysX"}],skill_btn:[function(t,e,o){"use strict";cc._RF.push(e,"3dd45hx1ldHPa+2vBrDYRnw","skill_btn");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=null,e.skill_type=-1,e._bird=null,e._player_id=0,e}return n(e,t),e.prototype.onClickButton=function(t,e){var o=~~this.count.string;o>0?(o--,this.count.string=""+o,i.GhysX.handler.emit("battle_ui_add_skill_"+this._player_id,1==this._player_id?i.GhysX.db.cache.battle_info.bird1:i.GhysX.db.cache.battle_info.bird2,~~this.skill_type)):(i.GhysX.handler.emit("pause"),i.GhysX.graphics.manager.listener("start","battle_waiting",function(){i.GhysX.graphics.draw({url:"prefabs/battle/view/give_skill",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.VIEW_DIALOG,group_name:"battle",script:"give_skill",invoke:"init",params:{buy_type:this.skill_type},complete:function(t){}.bind(this)})}.bind(this),null),i.GhysX.graphics.draw({url:"prefabs/battle/battle_waiting",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.BACKGROUND,group_name:i.GhysX.graphics.GROUP_NAME.BATTLE,script:"battle_waiting",invoke:"init",params:{open_mode:1},complete:function(t){}.bind(this)}))},e.prototype.onLoad=function(){},e.prototype.start=function(){},r([a({type:cc.Label,displayName:"\u6280\u80fd\u6570\u91cf",tooltip:""})],e.prototype,"count",void 0),r([a({displayName:"\u6280\u80fd\u7c7b\u578b",tooltip:""})],e.prototype,"skill_type",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX"}],skill_element:[function(t,e,o){"use strict";cc._RF.push(e,"ae0fbboqqtDUZONsH2gePDk","skill_element");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.progress=null,e._duration=4,e._elapsed=0,e._running=!1,e._bird=null,e._skill_type=0,e._is_pause=!1,e}return n(e,t),e.prototype.init=function(t,e){this._bird=t,this._skill_type=e},e.prototype.isDone=function(){this._running=!1,this.node.destroy()},e.prototype.clean=function(){switch(i.GhysX.handler.emit("battle_ui_remove_skill_"+this._bird._player_id,this),this._skill_type){case 1:this._bird&&this._bird.isValid&&this._bird.removeShield();break;default:this._bird&&this._bird.isValid&&(this._bird._bullet_type=1)}},e.prototype.pause=function(){this._is_pause=!0},e.prototype.resume=function(){this._is_pause=!1},e.prototype.onLoad=function(){i.GhysX.graphics.draw({url:"effects/skill/skill",mode:i.GhysX.graphics.MODE.ATLAS,asset_type:cc.SpriteAtlas,asset_name:""+this._skill_type,target:this.icon}),i.GhysX.handler.on("pause",this.pause,this),i.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){this._running=!0},e.prototype.update=function(t){this._running&&!this._is_pause&&(this._elapsed+=t,this._elapsed>this._duration?(this.progress.progress=0,this.isDone()):this.progress.progress=1-this._elapsed/this._duration)},e.prototype.onDestroy=function(){this.clean()},r([a({type:cc.Sprite,displayName:"\u56fe\u6807\u7ec4\u4ef6",tooltip:""})],e.prototype,"icon",void 0),r([a({type:cc.ProgressBar,displayName:"\u6280\u80fd\u8fdb\u5ea6",tooltip:""})],e.prototype,"progress",void 0),r([a({visible:!1})],e.prototype,"_duration",void 0),r([a({visible:!1})],e.prototype,"_elapsed",void 0),r([a({visible:!1})],e.prototype,"_running",void 0),e=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../libs/ghysx/GhysX":"GhysX"}],skill_view:[function(t,e,o){"use strict";cc._RF.push(e,"a9945pndiBP240zmoIBm9fU","skill_view");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../libs/ghysx/GhysX"),s=t("./skill_element"),c=cc._decorator,a=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skillElementPrefab=null,e.skills=null,e._skill_elements=[],e._player_id=0,e}return n(e,t),e.prototype.init=function(t){this._player_id=t},e.prototype.addSkill=function(t,e){if(this._skill_elements[e])this._skill_elements[e]._elapsed=0;else{switch(e){case 1:t.addShield();break;default:for(var o in this._skill_elements){var n=this._skill_elements[o];n&&1!=n._skill_type&&n.isDone()}t._bullet_type=e}var r=cc.instantiate(this.skillElementPrefab),i=r.getComponent(s.default);i.init(t,e),this.skills.node.addChild(r),this._skill_elements[e]=i}},e.prototype.removeSkill=function(t){this._skill_elements[t._skill_type]=null},e.prototype.removeAllSkill=function(t){for(var e in this._skill_elements){var o=this._skill_elements[e];o&&o.node.destroy()}},e.prototype.onLoad=function(){i.GhysX.handler.on("battle_ui_add_skill_"+this._player_id,this.addSkill,this),i.GhysX.handler.on("battle_ui_remove_skill_"+this._player_id,this.removeSkill,this),i.GhysX.handler.on("battle_ui_remove_all_skill_"+this._player_id,this.removeAllSkill,this)},e.prototype.start=function(){},r([l({type:cc.Prefab,displayName:"\u6280\u80fd\u7ec4\u4ef6",tooltip:""})],e.prototype,"skillElementPrefab",void 0),r([l({type:cc.Layout,displayName:"\u6280\u80fd\u5217\u8868",tooltip:""})],e.prototype,"skills",void 0),e=r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../libs/ghysx/GhysX":"GhysX","./skill_element":"skill_element"}],spikes:[function(t,e,o){"use strict";cc._RF.push(e,"0bc3dCR+zBE/YEFSYOsiFmL","spikes");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../libs/ghysx/GhysX"),s=t("./bird"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onCollisionEnter=function(t,e){console.log("on collision enter snow");var o=e.world;o.aabb,o.preAabb,o.transform,o.radius,o.position,o.points},e.prototype.onCollisionStay=function(t,e){var o=t.node.getComponent(s.default);o.body.linearVelocity=cc.v2(0,-100),o.death()},e.prototype.onCollisionExit=function(t,e){console.log("on collision exit snow");t.node.getComponent(s.default)},e.prototype.go=function(){var t=this.node.getComponent(cc.Animation);t.play(t.defaultClip.name)},e.prototype.pause=function(){var t=this.node.getComponent(cc.Animation);t.pause(t.defaultClip.name)},e.prototype.resume=function(){var t=this.node.getComponent(cc.Animation);t.resume(t.defaultClip.name)},e.prototype.onLoad=function(){i.GhysX.handler.on("pause",this.pause,this),i.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){},e=r([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX","./bird":"bird"}],stage_manager:[function(t,e,o){"use strict";cc._RF.push(e,"d2fe0ZiXs9NbYo13oPbsKAF","stage_manager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./../../../libs/ghysx/GhysX"),s=t("./../components/chapter"),c=cc._decorator,a=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chapter_title_prefab=null,e.scroll_view=null,e}return n(e,t),e.prototype.onClickBackButton=function(t,e){},e.prototype.init=function(){},e.prototype.createTitle=function(t){var e=cc.instantiate(this.chapter_title_prefab);e.getComponent(s.default).init(t),this.scroll_view.content.addChild(e)},e.prototype.onLoad=function(){var t=i.GhysX.modules.array.group(i.GhysX.res.chapter_moulds,[{gkey:"group",ekey:"stage"}]);for(var e in t){var o=t[e];this.createTitle(o)}},e.prototype.start=function(){},e.prototype.onEnable=function(){i.GhysX.handler.emit("hide_banner")},r([l({type:cc.Prefab,displayName:"\u7ae0\u8282\u7ec4\u7ec4\u4ef6",tooltip:""})],e.prototype,"chapter_title_prefab",void 0),r([l({type:cc.ScrollView,displayName:"\u5217\u8868\u5bb9\u5668",tooltip:""})],e.prototype,"scroll_view",void 0),e=r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./../../../libs/ghysx/GhysX":"GhysX","./../components/chapter":"chapter"}],stage:[function(t,e,o){"use strict";cc._RF.push(e,"ecb1b9htNRMh7588eyC359/","stage");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../libs/ghysx/GhysX"),s=t("../elements/bird"),c=t("../elements/tree"),a=t("../elements/boss"),l=t("../elements/spikes"),p=t("../elements/grass"),u=t("../elements/flotage"),d=t("../elements/fruits"),f=cc._decorator,h=f.ccclass,_=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spikesPrefab=null,e.grassPrefab=null,e.birdPrefab=null,e.treePrefab=null,e.bossPrefab=null,e.flotagePrefab=null,e.fruitsPrefab=null,e.map=null,e.mapAnimation=null,e.top=null,e.bird=null,e.birds=[],e.targets=null,e.bottom=null,e._over=!1,e._tree_count=0,e._boss_rate=0,e}return n(e,t),e.prototype.onTouchStart=function(t,e){this._over||i.GhysX.handler.emit("jump",t)},e.prototype.onTouchMove=function(t,e){},e.prototype.onTouchEnd=function(t,e){},e.prototype.onTouchCancel=function(t,e){},e.prototype.init=function(){},e.prototype.createSpikes=function(){var t=cc.instantiate(this.spikesPrefab);t.getComponent(l.default);this.map.addChild(t),t.setPosition(cc.v2(t.x,i.GhysX.gui.frame.node.height/2))},e.prototype.createGrass=function(){var t=cc.instantiate(this.grassPrefab);t.getComponent(p.default);this.map.addChild(t),t.setPosition(cc.v2(t.x,-1*i.GhysX.gui.frame.node.height/2))},e.prototype.createBird=function(t,e,o){var n=cc.instantiate(this.birdPrefab),r=n.getComponent(s.default);switch(r.init(this,e,o),t.addChild(n),o){case 1:i.GhysX.db.cache.battle_info.bird1=r;break;default:i.GhysX.db.cache.battle_info.bird2=r}},e.prototype.createTree=function(){if(!this._over){var t=3;if(i.GhysX.db.cache.battle_info.tree_count&&(t=6),this._tree_count>t&&(this._boss_rate+=10,this._boss_rate>=i.GhysX.modules.unit.random(1,100)))return this._tree_count=0,this._boss_rate=0,void this.createBoss();var e=cc.instantiate(this.treePrefab);e.getComponent(c.default).init(),this.top.addChild(e);var o=-1*i.GhysX.gui.frame.node.height/2-Math.random()*(1330-i.GhysX.gui.frame.node.height),n=Math.abs(o)-i.GhysX.gui.frame.node.height/2;e.setPosition(cc.v2(800,o));for(var r=[],s=0,a=e.children;s<a.length;s++){(n>(u=a[s]).y+u.height||n+i.GhysX.gui.frame.node.height<u.y-u.height)&&(u.active=!1,r.push(u))}for(var l=0,p=r;l<p.length;l++){var u;(u=p[l]).removeFromParent(!0)}r=null;var d=cc.v2(-800,o),f=cc.sequence(cc.spawn(cc.moveTo(4,d),cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.createTree()}.bind(this)))),cc.callFunc(function(t){t.destroy()}.bind(this)));e.runAction(f),this._tree_count++,i.GhysX.db.cache.battle_info.tree_count++}},e.prototype.createBoss=function(){var t=cc.instantiate(this.bossPrefab),e=t.getComponent(a.default);e.init(this,i.GhysX.modules.unit.random(1,5)),this.node.addChild(t);t.setPosition(cc.v2(1e3,0));var o=cc.v2(400,0),n=cc.sequence(cc.moveTo(1.5,o),cc.callFunc(function(t){e.play()}.bind(this)));t.runAction(n)},e.prototype.createFlotage=function(){if(30>=i.GhysX.modules.unit.random(1,100)){var t=cc.instantiate(this.flotagePrefab);t.getComponent(u.default).init(this,i.GhysX.modules.unit.random(1,4)),this.targets.addChild(t);var e=4*i.GhysX.gui.frame.node.height/5,o=-1*(e/2)+Math.random()*e;t.setPosition(cc.v2(800,o));var n=4+i.GhysX.modules.unit.random(-100,100)/100*1,r=cc.v2(-800,o),s=cc.sequence(cc.moveTo(n,r),cc.callFunc(function(t){t.destroy()}.bind(this)));t.runAction(s)}this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.createFlotage()}.bind(this))))},e.prototype.createFruits=function(){if(80>=i.GhysX.modules.unit.random(1,100)){var t=cc.instantiate(this.fruitsPrefab);t.getComponent(d.default).init(this,i.GhysX.modules.unit.random(1,17)),this.targets.addChild(t);var e=4*i.GhysX.gui.frame.node.height/5,o=-1*(e/2)+Math.random()*e;t.setPosition(cc.v2(800,o));var n=4+i.GhysX.modules.unit.random(-100,100)/100*1,r=cc.v2(-800,o),s=cc.sequence(cc.moveTo(n,r),cc.callFunc(function(t){t.destroy()}.bind(this)));t.runAction(s)}this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.createFruits()}.bind(this))))},e.prototype.go=function(){i.GhysX.db.cache.battle_info.start_time=(new Date).getTime(),this.createTree(),this.createFlotage(),this.createFruits(),i.GhysX.handler.emit("battle_ui_update_draw")},e.prototype.pause=function(){this.node.pauseAllActions(),this.top.pauseAllActions(),this.bottom.pauseAllActions(),this.targets.pauseAllActions(),this.mapAnimation.pause(this.mapAnimation.defaultClip.name)},e.prototype.resume=function(){this.node.resumeAllActions(),this.top.resumeAllActions(),this.bottom.resumeAllActions(),this.targets.resumeAllActions(),this.mapAnimation.resume(this.mapAnimation.defaultClip.name)},e.prototype.onLoad=function(){switch(this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel.bind(this),this),this.createSpikes(),this.createGrass(),i.GhysX.handler.on("go",this.go,this),i.GhysX.handler.on("pause",this.pause,this),i.GhysX.handler.on("resume",this.resume,this),i.GhysX.handler.on("boss-death-over",function(t,e,o){t.node.destroy()}.bind(this)),i.GhysX.handler.on("battle_over",function(t){if(!this._over){if(1==i.GhysX.db.cache.battle_info.role_count&&i.GhysX.db.cache.battle_info.revive)return i.GhysX.db.cache.battle_info.revive=i.GhysX.modules.unit.random(1,100)<=50,void i.GhysX.graphics.draw({url:"prefabs/battle/view/give_skill",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.VIEW_DIALOG,group_name:"battle",script:"give_skill",invoke:"init",params:{revive:!0},complete:function(t){}.bind(this)});i.GhysX.db.cache.battle_info.role_count--,0==i.GhysX.db.cache.battle_info.role_count&&(this._over=!0,i.GhysX.graphics.draw({url:"prefabs/battle/battle_result",mode:i.GhysX.graphics.MODE.VIEW,order:i.GhysX.graphics.ORDER.VIEW,group_name:"battle",script:"battle_result",invoke:"init",params:{},complete:function(t){}}))}},this),i.GhysX.local.stage_info.type){case 1:this.createBird(this.bird,i.GhysX.local.stage_info.bird1,1);break;default:this.createBird(this.birds[0],i.GhysX.local.stage_info.bird1,1),this.createBird(this.birds[1],i.GhysX.local.stage_info.bird2,2)}},e.prototype.start=function(){},e.prototype.onDestroy=function(){i.GhysX.handler.off("beyond-pool"),i.GhysX.handler.off("score-effect-play-over")},r([_({type:cc.Prefab,displayName:"\u94a2\u9489\u7ec4\u4ef6",tooltip:""})],e.prototype,"spikesPrefab",void 0),r([_({type:cc.Prefab,displayName:"\u4e0b\u65b9\u9752\u8349\u7ec4\u4ef6",tooltip:""})],e.prototype,"grassPrefab",void 0),r([_({type:cc.Prefab,displayName:"\u5c0f\u9e1f\u7ec4\u4ef6",tooltip:""})],e.prototype,"birdPrefab",void 0),r([_({type:cc.Prefab,displayName:"\u6811\u7ec4\u4ef6",tooltip:""})],e.prototype,"treePrefab",void 0),r([_({type:cc.Prefab,displayName:"boss\u7ec4\u4ef6",tooltip:""})],e.prototype,"bossPrefab",void 0),r([_({type:cc.Prefab,displayName:"\u6f02\u6d6e\u7ec4\u4ef6",tooltip:""})],e.prototype,"flotagePrefab",void 0),r([_({type:cc.Prefab,displayName:"\u6c34\u679c\u6f02\u6d6e\u7ec4\u4ef6",tooltip:""})],e.prototype,"fruitsPrefab",void 0),r([_({type:cc.Node,displayName:"\u5730\u56fe\u5c42",tooltip:""})],e.prototype,"map",void 0),r([_({type:cc.Animation,displayName:"\u5730\u56fe\u5c42\u52a8\u753b",tooltip:""})],e.prototype,"mapAnimation",void 0),r([_({type:cc.Node,displayName:"\u9876\u5c42",tooltip:""})],e.prototype,"top",void 0),r([_({type:cc.Node,displayName:"\u5c0f\u9e1f-\u4e2a\u4eba\u6218",tooltip:""})],e.prototype,"bird",void 0),r([_({type:cc.Node,displayName:"\u5c0f\u9e1f-\u597d\u53cb\u6218",tooltip:""})],e.prototype,"birds",void 0),r([_({type:cc.Node,displayName:"\u5bf9\u8c61\u5c42",tooltip:""})],e.prototype,"targets",void 0),r([_({type:cc.Node,displayName:"\u5e95\u5c42",tooltip:""})],e.prototype,"bottom",void 0),e=r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX","../elements/bird":"bird","../elements/boss":"boss","../elements/flotage":"flotage","../elements/fruits":"fruits","../elements/grass":"grass","../elements/spikes":"spikes","../elements/tree":"tree"}],stomp:[function(t,e,o){"use strict";cc._RF.push(e,"fa969vYzABI5K/IZRi9tmVO","stomp"),function(){var t,e,n,r,i={}.hasOwnProperty,s=[].slice;t={LF:"\n",NULL:"\0"},n=function(){var e;function o(t,e,o){this.command=t,this.headers=null!=e?e:{},this.body=null!=o?o:""}return o.prototype.toString=function(){var e,n,r,s,c;for(n in e=[this.command],(r=!1===this.headers["content-length"])&&delete this.headers["content-length"],c=this.headers)i.call(c,n)&&(s=c[n],e.push(n+":"+s));return this.body&&!r&&e.push("content-length:"+o.sizeOfUTF8(this.body)),e.push(t.LF+this.body),e.join(t.LF)},o.sizeOfUTF8=function(t){return t?encodeURI(t).match(/%..|./g).length:0},e=function(e){var n,r,i,s,c,a,l,p,u,d,f,h,_,y,g,m,v;for(s=e.search(RegExp(""+t.LF+t.LF)),i=(c=e.substring(0,s).split(t.LF)).shift(),a={},h=function(t){return t.replace(/^\s+|\s+$/g,"")},_=0,g=(m=c.reverse()).length;_<g;_++)p=(d=m[_]).indexOf(":"),a[h(d.substring(0,p))]=h(d.substring(p+1));if(n="",f=s+2,a["content-length"])u=parseInt(a["content-length"]),n=(""+e).substring(f,f+u);else for(r=null,l=y=f,v=e.length;(f<=v?y<v:y>v)&&(r=e.charAt(l))!==t.NULL;l=f<=v?++y:--y)n+=r;return new o(i,a,n)},o.unmarshall=function(o){var n,r,i,s;return r=o.split(RegExp(""+t.NULL+t.LF+"*")),(s={frames:[],partial:""}).frames=function(){var t,o,i,s;for(s=[],t=0,o=(i=r.slice(0,-1)).length;t<o;t++)n=i[t],s.push(e(n));return s}(),(i=r.slice(-1)[0])===t.LF||-1!==i.search(RegExp(""+t.NULL+t.LF+"*$"))?s.frames.push(e(i)):s.partial=i,s},o.marshall=function(e,n,r){return new o(e,n,r).toString()+t.NULL},o}(),e=function(){var e;function o(t){this.ws=t,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}return o.prototype.debug=function(t){var e;return"undefined"!=typeof window&&null!==window&&null!=(e=window.console)?e.log(t):void 0},e=function(){return Date.now?Date.now():(new Date).valueOf},o.prototype._transmit=function(t,e,o){var r;for(r=n.marshall(t,e,o),"function"==typeof this.debug&&this.debug(">>> "+r);;){if(!(r.length>this.maxWebSocketFrameSize))return this.ws.send(r);this.ws.send(r.substring(0,this.maxWebSocketFrameSize)),r=r.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+r.length)}},o.prototype._setupHeartbeat=function(o){var n,i,s,c,a,l;if((a=o.version)===r.VERSIONS.V1_1||a===r.VERSIONS.V1_2)return i=(l=function(){var t,e,n,r;for(r=[],t=0,e=(n=o["heart-beat"].split(",")).length;t<e;t++)c=n[t],r.push(parseInt(c));return r}())[0],n=l[1],0!==this.heartbeat.outgoing&&0!==n&&(s=Math.max(this.heartbeat.outgoing,n),"function"==typeof this.debug&&this.debug("send PING every "+s+"ms"),this.pinger=r.setInterval(s,function(e){return function(){return e.ws.send(t.LF),"function"==typeof e.debug?e.debug(">>> PING"):void 0}}(this))),0!==this.heartbeat.incoming&&0!==i?(s=Math.max(this.heartbeat.incoming,i),"function"==typeof this.debug&&this.debug("check PONG every "+s+"ms"),this.ponger=r.setInterval(s,function(t){return function(){var o;if((o=e()-t.serverActivity)>2*s)return"function"==typeof t.debug&&t.debug("did not receive server activity for the last "+o+"ms"),t.ws.close()}}(this))):void 0},o.prototype._parseConnect=function(){var t,e,o,n;switch(n={},(t=1<=arguments.length?s.call(arguments,0):[]).length){case 2:n=t[0],e=t[1];break;case 3:t[1]instanceof Function?(n=t[0],e=t[1],o=t[2]):(n.login=t[0],n.passcode=t[1],e=t[2]);break;case 4:n.login=t[0],n.passcode=t[1],e=t[2],o=t[3];break;default:n.login=t[0],n.passcode=t[1],e=t[2],o=t[3],n.host=t[4]}return[n,e,o]},o.prototype.connect=function(){var o,i,c,a;return o=1<=arguments.length?s.call(arguments,0):[],a=this._parseConnect.apply(this,o),c=a[0],this.connectCallback=a[1],i=a[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(o){return function(r){var s,c,a,l,p,u,d,f,h,_,y,g,m;if(l="undefined"!=typeof ArrayBuffer&&r.data instanceof ArrayBuffer?(s=new Uint8Array(r.data),"function"==typeof o.debug&&o.debug("--- got data length: "+s.length),function(){var t,e,o;for(o=[],t=0,e=s.length;t<e;t++)c=s[t],o.push(String.fromCharCode(c));return o}().join("")):r.data,o.serverActivity=e(),l!==t.LF){for("function"==typeof o.debug&&o.debug("<<< "+l),h=n.unmarshall(o.partialData+l),o.partialData=h.partial,m=[],_=0,y=(g=h.frames).length;_<y;_++)switch((p=g[_]).command){case"CONNECTED":"function"==typeof o.debug&&o.debug("connected to server "+p.headers.server),o.connected=!0,o._setupHeartbeat(p.headers),m.push("function"==typeof o.connectCallback?o.connectCallback(p):void 0);break;case"MESSAGE":f=p.headers.subscription,(d=o.subscriptions[f]||o.onreceive)?(a=o,u=p.headers["message-id"],p.ack=function(t){return null==t&&(t={}),a.ack(u,f,t)},p.nack=function(t){return null==t&&(t={}),a.nack(u,f,t)},m.push(d(p))):m.push("function"==typeof o.debug?o.debug("Unhandled received MESSAGE: "+p):void 0);break;case"RECEIPT":m.push("function"==typeof o.onreceipt?o.onreceipt(p):void 0);break;case"ERROR":m.push("function"==typeof i?i(p):void 0);break;default:m.push("function"==typeof o.debug?o.debug("Unhandled frame: "+p):void 0)}return m}"function"==typeof o.debug&&o.debug("<<< PONG")}}(this),this.ws.onclose=function(t){return function(){var e;return e="Whoops! Lost connection to "+t.ws.url,"function"==typeof t.debug&&t.debug(e),t._cleanUp(),"function"==typeof i?i(e):void 0}}(this),this.ws.onopen=function(t){return function(){return"function"==typeof t.debug&&t.debug("Web Socket Opened..."),c["accept-version"]=r.VERSIONS.supportedVersions(),c["heart-beat"]=[t.heartbeat.outgoing,t.heartbeat.incoming].join(","),t._transmit("CONNECT",c)}}(this)},o.prototype.disconnect=function(t,e){return null==e&&(e={}),this._transmit("DISCONNECT",e),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof t?t():void 0},o.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&r.clearInterval(this.pinger),this.ponger)return r.clearInterval(this.ponger)},o.prototype.send=function(t,e,o){return null==e&&(e={}),null==o&&(o=""),e.destination=t,this._transmit("SEND",e,o)},o.prototype.subscribe=function(t,e,o){var n;return null==o&&(o={}),o.id||(o.id="sub-"+this.counter++),o.destination=t,this.subscriptions[o.id]=e,this._transmit("SUBSCRIBE",o),n=this,{id:o.id,unsubscribe:function(){return n.unsubscribe(o.id)}}},o.prototype.unsubscribe=function(t){return delete this.subscriptions[t],this._transmit("UNSUBSCRIBE",{id:t})},o.prototype.begin=function(t){var e,o;return o=t||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:o}),e=this,{id:o,commit:function(){return e.commit(o)},abort:function(){return e.abort(o)}}},o.prototype.commit=function(t){return this._transmit("COMMIT",{transaction:t})},o.prototype.abort=function(t){return this._transmit("ABORT",{transaction:t})},o.prototype.ack=function(t,e,o){return null==o&&(o={}),o["message-id"]=t,o.subscription=e,this._transmit("ACK",o)},o.prototype.nack=function(t,e,o){return null==o&&(o={}),o["message-id"]=t,o.subscription=e,this._transmit("NACK",o)},o}(),r={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(t,o){var n;return null==o&&(o=["v10.stomp","v11.stomp"]),n=new(r.WebSocketClass||WebSocket)(t,o),new e(n)},over:function(t){return new e(t)},Frame:n},void 0!==o&&null!==o&&(o.Stomp=r),"undefined"!=typeof window&&null!==window?(r.setInterval=function(t,e){return window.setInterval(e,t)},r.clearInterval=function(t){return window.clearInterval(t)},window.Stomp=r):o||(self.Stomp=r)}.call(void 0),cc._RF.pop()},{}],"third-party":[function(t,e,o){"use strict";cc._RF.push(e,"0caacACaDFEuZljKkQge/hf","third-party"),cc.Class({extends:cc.Component,properties:{},init:function(e){"aladin"===e&&t("aladin").initAladin()},start:function(){}}),cc._RF.pop()},{aladin:void 0}],timer:[function(t,e,o){"use strict";cc._RF.push(e,"949b0hKq9lH/JgV4mapDb/r","timer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="00:00:00",e}return n(e,t),e.prototype.init=function(){},e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],tip_message:[function(t,e,o){"use strict";cc._RF.push(e,"825c1m1HHxM3bB5aQ/lRrhT","tip_message");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.message=null,e}return n(e,t),e.prototype.init=function(t){this._message_string=t.message},e.prototype.playOver=function(){this.node.destroy()},e.prototype.onLoad=function(){this.message.string=this._message_string},e.prototype.start=function(){},r([c({type:cc.Label,displayName:"\u63d0\u793a\u4fe1\u606f",tooltip:"\u63d0\u793a\u4fe1\u606f"})],e.prototype,"message",void 0),e=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],tree_mould:[function(t,e,o){"use strict";cc._RF.push(e,"7842a9VD15I9q8v+Du4IJaK","tree_mould"),cc._RF.pop()},{}],tree_section:[function(t,e,o){"use strict";cc._RF.push(e,"4925aH3fZhMY5JQcyfmBXUx","tree_section");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../libs/ghysx/GhysX"),s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._section_id=0,e._bullet_type=0,e._bullet_count=1,e._score=1,e}return n(e,t),e.prototype.onLoad=function(){this._section_id=~~this.node.name;var t=-1,e=i.GhysX.db.cache.tree_info.section_infos;e[0][2][this._section_id]?t=0:e[1][2][this._section_id]&&(t=1);var o=50;if(o=i.GhysX.db.cache.battle_info.tree_count<10?10:Math.min(100,50+10*Math.floor((i.GhysX.db.cache.battle_info.tree_count-10)/10)),t>-1&&i.GhysX.modules.unit.random(1,100)<=o){var n=this.node.getComponent(cc.Sprite);i.GhysX.graphics.draw({url:"images/map/elements/tree",mode:i.GhysX.graphics.MODE.ATLAS,asset_type:cc.SpriteAtlas,asset_name:"s"+this._section_id,target:n}),this._bullet_type=e[t][0][0],this._bullet_count=e[t][0][1],this._score=e[t][0][1]}},e.prototype.start=function(){},e=r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX"}],tree:[function(t,e,o){"use strict";cc._RF.push(e,"1c1b4o8hMNIm6sSWyX2M02I","tree");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../../libs/ghysx/GhysX"),s=t("./hit_section"),c=cc._decorator,a=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitSection=null,e._check=!0,e}return n(e,t),e.prototype.init=function(){},e.prototype.hit=function(t,e){if(t._bullet_type>=e._bullet_type&&e.enabled&&e.node.active&&(e._bullet_count--,0==e._bullet_count)){var o=cc.instantiate(this.hitSection);o.getComponent(s.default);switch(e.node.parent.addChild(o),o.setPosition(cc.v2(e.node.x,e.node.y+e.node.height/2)),e.node.destroy(),i.GhysX.db.cache.battle_info.score+=e._score,t._bird._player_id){case 1:i.GhysX.db.cache.battle_info.score1+=e._score;break;case 2:i.GhysX.db.cache.battle_info.score2+=e._score}i.GhysX.handler.emit("battle_ui_update_draw"),t._bullet_type<4?i.GhysX.os.audio.playEffect("music/effect/wood",!1):i.GhysX.os.audio.playEffect("music/effect/bomb1",!1)}},e.prototype.pause=function(){this.node.pauseAllActions()},e.prototype.resume=function(){this.node.resumeAllActions()},e.prototype.onLoad=function(){i.GhysX.handler.on("hit",this.hit,this),i.GhysX.handler.on("pause",this.pause,this),i.GhysX.handler.on("resume",this.resume,this)},e.prototype.start=function(){},e.prototype.update=function(t){if(this._check&&this.node.x<-300){this._check=!1;for(var e=0,o=this.node.children;e<o.length;e++){var n=o[e];n.isValid&&n.removeComponent(cc.PolygonCollider)}}},r([l({type:cc.Prefab,displayName:"\u5207\u7247\u7ec4\u4ef6",tooltip:""})],e.prototype,"hitSection",void 0),e=r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../../libs/ghysx/GhysX":"GhysX","./hit_section":"hit_section"}],user:[function(t,e,o){"use strict";cc._RF.push(e,"68f11U3A1RLjZzEt69TaSXo","user"),cc._RF.pop()},{}],view:[function(t,e,o){"use strict";cc._RF.push(e,"a2cfa/pWalC7pM68oQ1BPZx","view");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e=r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],"wx.d.ts":[function(t,e,o){"use strict";cc._RF.push(e,"5d0978iH4lJpqqZSMCqXWvp","wx.d.ts"),cc._RF.pop()},{}],wxlogin:[function(t,e,o){"use strict";cc._RF.push(e,"e70c8UeWrNB4bbRhUGX0zyL","wxlogin"),cc.Class({extends:cc.Component,properties:{playerHead:{default:null,type:cc.Sprite},playerName:{default:null,type:cc.Label},playerScore:{default:null,type:cc.Label}},init:function(t){var e=this;this.home=t,cc.ql.net.of("/index").on("login_success",function(t){cc.log("login:",t),0==t.status&&(e.playerScore.string=t.data.user.gems)}),cc.state_machine.add({_name:"login_guest_success",_init:function(t){},_inited:!1,_instance:this,_state:0,_invoke:function(t,e,o){return cc.sys.localStorage.setItem("guest_account",o.data.guest.account),cc.ql.net.send("message",{gate:"login",handler:"login",invoke:"login_success",data:{account:o.data.guest.account}},"proto"),!0},_terminal:null,_terminals:null}),cc.state_machine.add({_name:"login_account_success",_init:function(t){},_inited:!1,_instance:this,_state:0,_invoke:function(t,e,o){return!0},_terminal:null,_terminals:null}),cc.state_machine.init()},onLoad:function(){var t=this;if(void 0!=window.wx)wx.authorize({scope:"scope.record",fail:function(t){t.errMsg.indexOf("auth deny")>-1||t.errMsg.indexOf("auth denied")},success:function(e){wx.login({success:function(){wx.getUserInfo({success:function(e){var o=e.userInfo,n=o.nickName,r=o.avatarUrl;o.gender,o.province,o.city,o.country;t.playerName.string=n,cc.loader.load({url:r,type:"jpg"},function(e,o){t.playerHead.spriteFrame=new cc.SpriteFrame(o)}),cc.ql.net.of("/index").once("user",function(t){cc.log("guest:",t),0==t.status&&cc.state_machine.execute("login_account_success",0,t)}),cc.ql.net.send("message",{gate:"login",handler:"user",invoke:"user",data:{weixin:e,platform:{account:o.account}}},"proto")}})}})}});else{cc.ql.net.of("/index").once("guest",function(e){cc.log("guest:",e),0==e.status&&(t.playerName.string="guest",cc.state_machine.execute("login_guest_success",0,e))});var e=cc.sys.localStorage.getItem("guest_account")||"";cc.ql.net.send("message",{gate:"login",handler:"guest",invoke:"guest",data:{guest:{account:e}}},"proto")}},start:function(){}}),cc._RF.pop()},{}],zh:[function(t,e,o){"use strict";var n;function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}cc._RF.push(e,"f8371F2b0xMK4F+LmHnZecB","zh"),e.exports=(r(n={loading:"\u52a0\u8f7d\u4e2d...",update_load_data_tip:"\u6b63\u5728\u8fdb\u5165\u9ad8\u6e05\u4e09\u56fd\u4e16\u754c",update_load_sprite_tip:"\u52a0\u8f7d\u89d2\u8272\u7eb9\u7406\u8d44\u6e90",update_load_effect_tip:"\u52a0\u8f7d\u7279\u6548\u8d44\u6e90",function_is_not_implemented_yet_tip:"\u529f\u80fd\u6682\u672a\u5b9e\u73b0",unacquired_hero_tip:"\u5c1a\u672a\u83b7\u5f97\u8be5\u82f1\u96c4",formation_add_ship_erro_tip:"\u4e3b\u89d2\u7b49\u7ea7\u6216VIP\u7b49\u7ea7\u4e0d\u8db3",offline_reward_close_tip:"\u6ca1\u6709\u9886\u53d6\u6302\u673a\u5956\u52b1",shop_buy_success:"\u8d2d\u4e70\u6210\u529f",year:"\u5e74",month:"\u6708",date:"\u5929",day:"\u5929",current_day:"\u65e5",hour:"\u65f6",minute:"\u5206",second:"\u79d2",class:"\u7ea7",mhour:"\u5c0f\u65f6",mminute:"\u5206\u949f",strength_master_notopen:"\u672a\u5f00\u542f",ship_lieutenant_not:"\u5f53\u524d\u6ca1\u6709\u6b66\u5c06\u4e0a\u9635",break_class:"\u7a81\u7834\u7b49\u7ea7",forging_master_words:"\u6b66\u5c06\u5168\u90e8\u88c5\u5907",forging_achieve_words:"\u8fbe\u5230",forging_achieve_open:"\u5f00\u542f",forging_undeveloped:"\u656c\u8bf7\u671f\u5f85",lv_rank_full:"\u5df2\u6ee1\u7ea7",lv_rank:"\u5347\u7ea7",all_break:"\u5168\u519b",not_on_the_list:"\u672a\u4e0a\u699c",boss_fight_count_is_limit:"\u6b21\u6570\u5df2\u6ee1\uff0c\u4e0d\u9700\u8981\u8d2d\u4e70",boss_rank_not_on_the_list:"\u672a\u6709\u6392\u540d",system_name:"\u7cfb\u7edf",join_fight_team:"\u8fdb\u5165\u961f\u4f0d",war_pet_info:"\u6218\u5ba0\u4fe1\u606f",war_pet_upgrade:"\u6218\u5ba0\u5347\u7ea7",war_pet_star:"\u6218\u5ba0\u5347\u661f",war_pet_book:"\u6218\u5ba0\u56fe\u9274",war_pet_isupgrade:"\u5347\u7ea7\u56fe\u9274",war_pet_isopen:"\u6fc0\u6d3b\u56fe\u9274",war_pet_starfull:"\u661f\u7ea7\u5df2\u6ee1,\u65e0\u6cd5\u5347\u7ea7",mount_info:"\u5750\u9a91\u4fe1\u606f",mount_upgrade:"\u5750\u9a91\u5347\u7ea7",mount_star:"\u5750\u9a91\u5347\u661f",mount_stone:"\u788e\u7247",other_address_login:"\u5e10\u53f7\u5728\u5176\u4ed6\u5730\u65b9\u767b\u9646",resume_network:"\u7f51\u7edc\u65ad\u5f00\uff0c\u5df2\u7ecf\u5e2e\u60a8\u6062\u590d\u8fde\u63a5\u3002",prop_no_enough:"\u5347\u7ea7\u9053\u5177\u4e0d\u8db3",mov_pet_info:"\u62db\u5f0f\u4fe1\u606f",mov_pet_upgrade:"\u62db\u5f0f\u5347\u7ea7",mov_pet_star:"\u62db\u5f0f\u5347\u661f",mov_pet_book:"\u62db\u5f0f\u56fe\u9274",buy_count_reach_the_upper_limit:"\u6570\u91cf\u8fbe\u5230\u4e0a\u9650\uff0c\u6682\u4e0d\u9700\u8981\u8d2d\u4e70\uff01",mov_open:"\u8bf7\u5148\u6fc0\u6d3b\u62db\u5f0f",expedition_tip_one:"\u8be5\u5173\u5361\u5df2\u7ecf\u901a\u5173\uff0c\u6e05\u524d\u5f80\u4e0b\u4e00\u5173",expedition_tip_two:"\u8bf7\u5148\u901a\u8fc7\u4e0a\u4e00\u5173",upgrade_lv_mov:"\u62db\u5f0f\u7b49\u7ea7",upgrade_lv_pet:"\u6218\u5ba0\u7b49\u7ea7",upgrade_lv_mount:"\u5750\u9a91\u7b49\u7ea7",did_not_play:"\u672a\u4e0a\u9635",friend:"\u597d\u53cb",friend_gift_get:"\u793c\u7269\u9886\u53d6",frieng_send:"\u597d\u53cb\u7533\u8bf7",friend_nobody:"\u65e0",friend_get:"\u5df2\u7533\u8bf7",friend_self:"\u60a8\u81ea\u5df1",ten_thousand:"\u4e07",a_hundred_million:"\u4ebf",please_activate_previous_star_of_life:"\u8bf7\u5148\u6fc0\u6d3b\u4e0a\u4e00\u4e2a\u547d\u661f\u54e6",lv_break:"\u7a81\u7834",add_friend_apl:"\u7533\u8bf7\u4fe1\u606f\u5df2\u53d1\u51fa",not_have:"\u65e0",star_lv_mov:"\u62db\u5f0f\u661f\u7ea7",star_lv_pet:"\u6218\u5ba0\u661f\u7ea7",have_ship:"\u62e5\u6709:",no_activity:"\u6d3b\u52a8\u672a\u5f00\u542f",send_message_interval_time:"\u9700\u8981\u95f4\u96945\u79d2\u624d\u80fd\u53d1\u8a00",rank_list_lv:"lv:",rank_list_guanqia:"\u5173\u5361\u6570:",rank_list_power:"\u6218\u6597\u529b:",shop_cell:"\u6676\u77f3\u4e0d\u8db3",no_ship:"\u672a\u6fc0\u6d3b\u6b66\u5c06",shop_cell_rank:"\u7ade\u6280\u70b9\u4e0d\u8db3",pet_skill:"\u5ba0\u7269\u6280\u80fd",ship_skill:"\u6b66\u5c06\u6280\u80fd",repeat_send_message_interval_time:"\u91cd\u590d\u5185\u5bb9\u53d1\u9001\u65f6\u95f4\u96941\u5206\u949f",please_choose_prop:"\u8bf7\u5148\u9009\u62e9\u7269\u54c1",equipment_backpack_is_full:"\u88c5\u5907\u80cc\u5305\u5df2\u6ee1\uff0c\u8bf7\u524d\u5f80\u56de\u6536",full_star:"\u5df2\u6ee1\u661f",rise_star:"\u5347\u661f",master:"\u5168\u8eab",person_legion_point:"\u4e2a\u4eba\u8d21\u732e\u70b9\u4e0d\u8db3",friend_find:"\u641c\u7d22\u597d\u53cb"},"friend_get","\u63a8\u8350\u597d\u53cb"),r(n,"friend_ship_point","\u53cb\u60c5\u70b9\u4e0d\u8db3"),r(n,"activity_end","\u6d3b\u52a8\u5df2\u7ed3\u675f"),n),cc._RF.pop()},{}]},{},["LabelLocalized","SpriteLocalized","en","zh","i18n","polyglot","GhysX.d.ts","GhysX","Clocker","scene","screen","timer","AnimationEventListener","view","Array","Base64","CryptoJS","Number","String","TextToJson","Unit","Utils","Graphics","Shader","db","user","stomp","Http","Network","Protocol","Socket","Assets","Audio","Storage","System","chapter_mould","tree_mould","res","Binder","Closer","Frame","GUI","Invoker","Loader","Opener","Resources","Scripter","ScrollViewHandler","Platform","WXPlatform","WeiXinPlatform","ald-game-conf","ald-game","wxlogin","third-party","skill_btn","give_skill","bird","boss","bullet","fire","flotage","fruits","grass","hit_section","spikes","tree","tree_section","stage","navigate_element","navigate","guide","local.d.ts","wx.d.ts","battle","battle_pause","battle_result","battle_ui","battle_waiting","skill_element","skill_view","CollisionManager","PhysicsManager","background","black_frame","tip_message","bird_element","bird_selecter","chapter","chapter_element","about_dialog","help_dialog","options_dialog","home","friends_select","main_menu","player_select","stage_manager","launch"]);